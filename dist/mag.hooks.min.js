/*! mag.js - 1.7.1 | (c)2020  https://github.com/magnumjs | MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("mag",[],t):"object"==typeof exports?exports.mag=t():e.mag=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=8)}([function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"g",function(){return c}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){}),n.d(t,"h",function(){}),n.d(t,"i",function(){return f});var r="__magnum__",i=[],c=[],o=[],a=["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","willupdate","didupdate","didload","willload","isupdate"],u=document,f=function(e){return e}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"j",function(){return i}),n.d(t,"l",function(){return c}),n.d(t,"k",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"m",function(){return l}),n.d(t,"d",function(){return b}),n.d(t,"g",function(){return s}),n.d(t,"i",function(){return v}),n.d(t,"n",function(){return h}),n.d(t,"f",function(){return O}),n.d(t,"e",function(){return p});var i=function(e){var t=r(e);return null!=e&&("object"==t||"function"==t)},c=function(e){return void 0===e},o=function(e){return"string"==typeof e},a=function(e){return"function"==r(e)},u=function(e){return i(e)?Object.assign({},e):e},f=function(e){var t=function(){return e.apply(e,arguments)};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},d=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},l=function(){return Object.assign.apply({},arguments)},b=function e(t,n,r){for(var o in n)if(c(n[o]))delete n[o];else if(r&&i(n[o]))return e(t[o],n[o]);return l(t,n)},s=function(e){return e&&11==e.nodeType},v=function(e){return e&&1===e.nodeType},j=function(e,t){return a(t)?""+t:t},h=function(e){return JSON.stringify(e,j)},O=function(e){for(var t in e)if(e.hasOwnProperty(t))return 0;return 1},p=function(e){return Array.isArray(e)}},function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return j}),n.d(t,"I",function(){return p}),n.d(t,"l",function(){return g}),n.d(t,"E",function(){return m}),n.d(t,"i",function(){return y}),n.d(t,"A",function(){return N}),n.d(t,"f",function(){return k}),n.d(t,"y",function(){return _}),n.d(t,"G",function(){return x}),n.d(t,"j",function(){return I}),n.d(t,"C",function(){return S}),n.d(t,"D",function(){return C}),n.d(t,"k",function(){return E}),n.d(t,"F",function(){return P}),n.d(t,"m",function(){return A}),n.d(t,"z",function(){return T}),n.d(t,"g",function(){return M}),n.d(t,"c",function(){return V}),n.d(t,"u",function(){return F}),n.d(t,"q",function(){return H}),n.d(t,"v",function(){return q}),n.d(t,"t",function(){return D}),n.d(t,"s",function(){return B}),n.d(t,"r",function(){return R}),n.d(t,"x",function(){return J}),n.d(t,"p",function(){return $}),n.d(t,"h",function(){return G}),n.d(t,"o",function(){return K}),n.d(t,"n",function(){return Y}),n.d(t,"e",function(){return z}),n.d(t,"B",function(){return X}),n.d(t,"w",function(){return Q}),n.d(t,"H",function(){return Z});var r,i,c,o,a,u,f,d=n(0),l=n(5),b=n(1),s=[],v=[],j="_key",h=[],O=[],p={},g=function(){return r},m=function(e){return r=e},y=function(){return i},N=function(e){return i=e},w=function(){},k=function(){return w},_=function(e){return w=e},x=function(e){return c=e},I=function(){return o},S=function(e){return o=e},C=function(e){return a=e},E=function(){return a},P=function(e){return u=e},A=function(){return u},T=function(e){return f=e},M=function(){return f},L=0,V=function(e){O[e]&&delete O[e]};function F(e,t){return e[d.a]=e[d.a]||{},e[d.a].uid&&!t||(e[d.a].uid=++L),e[d.a].uid}function H(e,t){var n=F(e);return h[n]&&!t?h[n]:h[n]=R(e)}function q(e,t){var n=F(e),r=I();if(Object(b.i)(r)&&r[d.a].scid&&(r=r[d.a].scid),O[r]=O[r]||[],O[r][n]&&O[r][n]==t)return 1;O[r][n]=t}function D(e,t){if(e[d.a]&&e[d.a].scid&&!e[d.a].pscid)t=e;else if(t)return t;if(e.parentNode)return D(e.parentNode,t)}function B(e){var t="",n=function e(t){return a&&t.id&&a.isItem(t.id)?t:t.parentNode?e(t.parentNode):void 0}(e),r=function(e){for(var t=1;e=e.previousElementSibling;)++t;return t}(e);return n&&(t+='id("'+(n.id||n.tagName)+'")'),t+="/"+e.tagName+"["+r+"]"}function R(e,t){if(e.id&&I()===e.id||I()===e)return'id("'+(e.id||e.tagName)+'")';if(e===d.c.body)return e.tagName;var n=0;if(e.parentNode)for(var r=e.parentNode.childNodes,i=0,c=r.length;i<c;i++){var o=r[i];if(o===e)return R(e.parentNode)+(e.tagName?"/"+e.tagName+"["+(n+1)+"]":"");1===o.nodeType&&o.tagName===e.tagName&&n++}}function J(e){var t=R(e);e&&v[t+"-config"]&&v[t+"-config"].configContext&&Object(b.h)(v[t+"-config"].configContext.onunload)&&(v[t+"-config"].configContext.onunload(v[t+"-config"].configContext,e,t),delete v[t+"-config"],delete s[t]),c&&c(e),e.parentNode&&e.parentNode.removeChild(e)}function $(e){var t=e&&parseInt(e.split("[").pop().slice(0,-1));return t?parseInt(t)-1:0}function G(e){var t=[];return e.replace(/\[(.+?)\]/g,function(e,n){t.push(n)}),t}function K(e){return e&&~e.indexOf("id(")&&e.split('id("')[1].split('")')[0]}var U=[];function Y(e,t,n){var r=F(e);if(h[r])return h[r];if(U[r])return U[r];var i=+n==+n?t+n:t,c='id("'+(Object(b.j)(I())?I().tagName:I())+'")'+(Object(b.k)(n)?n.split(")")[1]+"/":"/")+e.tagName+"["+i+"]";return U[r]=e[d.a].xpath=c}function z(e){return e&&e[d.a]&&e[d.a].isItem?e:e.parentNode?z(e.parentNode):void 0}function W(e,t,n){if(!(!t||e.childNodes[n]&&e.childNodes[n].isEqualNode(t))){for(var r=Q(e.childNodes),i=0,c=r.length;i<c;i++)r[i]&&e.removeChild(r[i]);e.childNodes[n]?e.replaceChild(t,e.childNodes[n]):e.appendChild(t)}}function X(e,t){if(Object(b.e)(t))for(var n in t)W(e,t[n],n);else if(!Object(b.i)(t)||q(e,t))e&&null!=t&&!q(e,t)&&(e.innerHTML=t);else{if(t[d.a]&&t[d.a].scid&&!d.b[t[d.a].scid]){var r=e.cloneNode(1);r[d.a]={childof:t[d.a].scid},d.b[t[d.a].scid]=r}W(e,t,0)}}function Q(e){var t;if(null==e.length&&(e=[e]),!Object(b.e)(e)){t=[];for(var n=0;n<e.length;n+=1)e[n]&&t.push(e[n]);e=t}return e}function Z(e,t){if(e&&null!=t&&!q(e,t)){var n=String(t);if("INPUT"===e.nodeName)if(~["radio","checkbox"].indexOf(e.type)){if(e.name){var r=Object(l.a)(I()).querySelectorAll("[name="+e.name+"]");if(r.length>1){var i=!0,c=!1,o=void 0;try{for(var a,u=r[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var f=a.value;if(f.value==n){f.checked=!0;break}}}catch(e){c=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(c)throw o}}}}}else n!=e.value&&(e.value=n);else if("SELECT"!==e.nodeName){for(;e.lastChild;)J(e.lastChild);e.appendChild(e.ownerDocument.createTextNode(n))}"SELECT"===e.nodeName&&n&&(e.value=n)}}},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return o});var r=n(0),i=[],c=function(e,t,n){var r=e+"-"+t;return i[r]=i[r]||[],i[r].push(n),function(){var e=i[r].indexOf(n);return i[r].splice(e,1)}},o=function(e,t,n,c,o,a){var u;Object(r.i)(c);var f=t&&t[e];f&&!f.called&&(u=f.call(void 0,n,void 0,c,a),o&&(f.called=1));var d=e+"-"+c;if(i[d]){var l=i[d].slice(),b=!0,s=!1,v=void 0;try{for(var j,h=l[Symbol.iterator]();!(b=(j=h.next()).done);b=!0){(0,j.value)(t,void 0,n)}}catch(e){s=!0,v=e}finally{try{b||null==h.return||h.return()}finally{if(s)throw v}}}if(Object(r.i)(-1),!1===u)return!0}},function(e,t,n){"use strict";var r=n(0),i=n(7),c=function e(t,n,r){return t.raw?i.a.apply(this,arguments):e._handler(t,n,r)};c._handler=function(){},c.rafBounceIds=r.g,c._cprops=r.b,c.doc=r.c,t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);function i(e,t){if(r.e[e]&&!t)return r.e[e];var n=r.c.getElementById(e);return n&&(r.e[e]=n),r.e[e]}},function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=n(0),i=n(1),c=n(2),o=function(e){var t=r.c.createElement("template");return t.innerHTML=e,t.content};function a(e){if(Object(i.k)(e)&&"<"==e.trim()[0]){var t=o(e.trim());if(1==t.childNodes.length)return t.childNodes[0];var n=Object(c.w)(t.childNodes),a=r.c.createDocumentFragment();return n.forEach(function(e){return a.appendChild(e)}),a}}t.a=o},function(e,t,n){"use strict";(function(e){var r=n(0),i=n(1),c=n(4),o=n(6);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=0;function f(e){var t=[],n=[];for(var r=arguments.length,c=new Array(r>1?r-1:0),a=1;a<r;a++)c[a-1]=arguments[a];var f=c.reduce(function e(r,c){c&&c.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(c=c.childNodes),Object(i.k)(c)&&c.split("<").forEach(function(e){var t=e[0];if(t&&t==t.toUpperCase()&&t!=t.toLowerCase()){var r=e.split("/")[0].split(" ")[0];n.push({name:r})}});if(!Object(i.e)(c)){if(Object(i.j)(c)&&Object(i.i)(c)){var o="p-".concat(++u,"-").concat(Date.now());return t.push({id:o,node:c}),~r[0].indexOf("=")?r.concat('"'.concat(o,'"')):r.concat("<".concat(c.nodeName,' id="').concat(o,'"></').concat(c.nodeName,">"))}return c&&"function"==typeof c.item&&"number"==typeof c.length?r.concat(Array.prototype.reduce.call(c,e,[])):r.concat(c)}r.concat(c)},[]).join("").replace(/^\s*</,"<").replace(/>\s*$/,">"),d=Object(o.a)(f),b=function(e,t){var n={};return e.forEach(function(e){var r=e.id,i=e.node,c=t.querySelector("".concat(i.nodeName,"#").concat(r));c?c.parentNode.replaceChild(i,c):n[r]=i}),n}(t,d);!function(e,t,n){e.forEach(function(e){var r=t.querySelectorAll(e.name);r&&r.forEach(function(t){for(var r={},i=0,c=t.attributes.length;i<c;i++){var o=t.attributes[i];r[o.name]=n[o.value]?n[o.value]:o.value}var a=l(e.name);if(a){var u=a(r);t.parentNode.replaceChild(u,t)}})})}(n,d,b);for(var s=!1,v=0;v<c.length;v++)if(""!=c[v]){if(c[v]instanceof Node){s=!0;break}break}if(1!=d.childNodes.length||s)return d;var j=d.firstChild;return d.removeChild(j),j}var d,l=function(e){return d[e]&&Object(i.h)(d[e])?d[e]:c.a[e]&&Object(i.h)(c.a[e])?c.a[e]:void 0};t.a=function(t){d=e||this||window;for(var n=arguments.length,i=new Array(n>1?n-1:0),c=1;c<n;c++)i[c-1]=arguments[c];return function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var c=t.reduce(function(e,n,i){return e.concat(n,i+1===t.length?[]:r[i])},[]);return f.apply(void 0,[e].concat(a(c)))}.apply(void 0,[r.c,t].concat(i))}}).call(this,n(9))},function(e,t,n){var r=n(12);n(10),n(11),r.default.version="1.7.1",e.exports=r.default},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"useState",function(){return u});var r=n(4);n.d(t,"mag",function(){return r.a});var i=n(1);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={},u=function(e){var t=Object(i.b)(r.a._current),n=t.key||t.id,o=t.props,u=t,f=(t.element,a[n]);if(!f){f={name:n,setValue:function(e){var t=Object(i.c)(e);Object(i.h)(e)&&(t=Object(i.c)(e(f.value))),t!==f.value&&(Object(i.j)(t)?f.value=c({},f.value,t):f.value=t,f.render(c({},o)))},render:u,value:Object(i.c)(e)},a[n]=f}return[f.value,f.setValue]};r.a.useState=u},function(e,t,n){"use strict";n.r(t),n.d(t,"useEffect",function(){return f});var r=n(4);n.d(t,"mag",function(){return r.a});var i=n(1),c=n(3),o={},a=function(e){return new Promise(function(t){requestAnimationFrame(function(){var n=Object(i.h)(e)&&e();t(n)})})},u=function(e,t,n,r){var o=t[n];if(o)o&&!e?(Object(i.h)(o.callback)&&o.callback(),a(r).then(function(e){return o.callback=e})):o&&!Object(i.a)(e,o.value)&&(o.value=e.slice(),Object(i.h)(o.callback)&&o.callback(),a(r).then(function(e){return o.callback=e}));else{o={name:n,func:r,value:e&&e.slice()},t[n]=o,a(r).then(function(e){return o.callback=e});var u=Object(c.b)("onunload",n,function(){Object(i.h)(o.callback)&&o.callback(),delete t[n],u()})}},f=function(e,t){r.a._current.element;var n=Object(i.b)(r.a._current),a=n.key||n.id;n.props,n.element;if(!n.fake)var f=Object(c.b)("didupdate",a,function(){r.a.doc.body.contains(arguments.length<=2?void 0:arguments[2])?u(t,o,a,e):function(e,t,n,i,c){var o=setInterval(function(){r.a.doc.body.contains(t)&&(clearInterval(o),u(n,i,e,c))},10)}(a,arguments.length<=2?void 0:arguments[2],t,o,e),f()})};r.a.useEffect=f},function(e,t,n){"use strict";n.r(t);var r,i=n(0),c=n(3),o={},a=[],u=[],f=[],d=function(e,t){return new Promise(function(n){i.f||i.g[e]&&t?(u[e]&&(f[e](),cancelAnimationFrame(u[e])),f[e]=n,u[e]=requestAnimationFrame(function(r){u[e]=0,t(),n()})):(t&&a.push(t),r||(r=requestAnimationFrame(function(t){return function(e,t,n){var i;r=0;do{var c=a.shift();c&&c(),i=performance.now()}while(a.length&&l(i,t));a.length?d(n).then(e):e()}(n,t,e)})))})};function l(e,t){return!i.h||e-t<i.h}var b={i:[],isItem:function(e){return~b.i.indexOf(e)},setItem:function(e){return b.i[b.i.length]=e},getItem:function(e){return b.i.indexOf(e)},getItemVal:function(e){return b.i[e]},removeItem:function(e){return b.i.splice(b.i.indexOf(e),1)}};o.items=b,o.getItemInstanceIdAll=function(){return b.i};var s=function(e){return b.isItem(e)?b.getItem(e):(b.setItem(e),b.getItem(e))},v=n(1);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h="/";function O(e,t,n,r){var c=new WeakSet;return new Proxy(e,{get:function(e,o,a){var u,f=e[o];if("symbol"==j(o))return f;if(!Object(v.j)(f)||"symbol"===j(f)||null===f||Object(v.h)(f)||Object(v.e)(f)||!Object(v.j)(f)||f.then||f.draw)o in e||~i.d.indexOf(o.toString())||n||"_"==o[0]||(f=e({},t,n,r+h+o));else if(u=f,!c.has(u))return c.add(f),e(f,t,n,r+h+o);var d=t({type:"get",object:e,name:o,path:r,oldValue:Reflect.get(e,o,a)});return Object(v.l)(d)||(f=d==i.a?void 0:d),f},deleteProperty:function(e,n){return t({type:"delete",name:n,object:e,oldValue:Reflect.get(e,n)}),Reflect.deleteProperty(e,n)},set:function(e,n,r,i){var c=Reflect.get(e,n,i);return c===r&&"length"!==n||(t({type:"set",name:n,object:e,oldValue:c}),Reflect.set(e,n,r,i))}})}var p=function e(t,n,r,i){for(var c in t){var o=j(t[c]);Object(v.e)(t[c])&&t[c].length<101?t[c]=O(t[c],n):Object(v.j)(o)&&null!==t[c]&&"symbol"!=j(c)&&"symbol"!=o&&!Object(v.h)(o)&&Object(v.j)(t[c])&&(t[c]=e(t[c],n,r,i+h+c))}return O(t,n,r,i||h)},g=n(5),m=n(2),y=function(e,t,n){return function(e,t,n){if(Object(g.a)(e.id,1),Y(e.id,t)&&e){var r=L(t);if(!Object(c.a)("isupdate",r,e,t)){if(G(t)&&!n)return 0;if(!Object(c.a)("willupdate",r,e,t)){U(e,t);var i=Object(m.j)();Object(m.C)(e.id),we(e,r),Object(m.C)(i),function(e,t){for(var n in t)n.startsWith('id("'+e+'")/')&&t[n]()}(e.id,m.d),Object(c.a)("didupdate",r,e,t),n||G(t)}}}}.bind({},e,t,n)},N=[],w=function(e,t,n){if(!N[t]){if(!e||Object(v.l)(t))throw Error("Mag.JS - Id or node invalid: "+b.getItemVal(t));if(!Y(e.id,t))return{then:function(e){return e()}};if(n&&m.d.splice(0,m.d.length),n&&K(t),T==t)throw Error("Mag.JS - recursive call:"+t);return d(t,y(e,t,n))}},k=function(e,t){var n=Object(m.j)();Object(m.C)(e);var r=ee(e,t);return Object(m.C)(n),r},_="_value",x=function(e,t,n,r){var i,c=n.toString().split(".");if(c.length>=3)r=function(e,t){for(var n=1;n<e.length;n++){var r=e[n],i=e[n+1],c=k(Object(v.e)(t)?t[0]:t,r);if(i&&!isNaN(Number(i)))t=c[i];else if(c&&c.length&&i&&n+2<e.length)t=k(c[0],i);else if(c&&c.length&&(t=c,n+2==e.length))break}return Object(v.e)(t)?t[0]:t}(c,r),i=k(r,t);else{var o=parseInt(c.pop()),a=isNaN(o)?0:o;i=k(r[a]?r[a]:r,t)}return function(e,t,n,r){var i=[];for(var c in e){var o=e[c];S(o)&&(i.push(o),I(o,t,n,r))}if(i.length)return 1==i.length?i[0]:i;return!1}(i,e,t,r)};function I(e,t,n,r){if(e[i.a]=e[i.a]||{},!e[i.a].eventOnFocus){var c=function(t,n,r,c){var o=~["radio","checkbox"].indexOf(e.type);if(this[i.a].dirty||(this[i.a].dirty=1),e.selectedOptions)var a=Array.prototype.map.call(e.selectedOptions,function(e){return e.value});o?"_checked"in n||_ in n?n._checked=this.checked:this.checked&&(n[r]=this.value):Object(v.l)(n[_])?Object(v.l)(n._text)||(n._text=a||this.value):n[_]=a||this.value,w(t,b.getItem(t.id))}.bind(e,r,t,n);e.addEventListener("click",c),e.addEventListener("input",c),e.addEventListener("change",c),e.addEventListener("focus",c),e[i.a].eventOnFocus=1}}function S(e){return e&&~["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)}var C=function(e,t,n,r){var c=n[t];~[_,"_checked","_text"].indexOf(t)&&Object(v.k)(e)&&(t=e.split(".").pop());var o=function(e){for(var t in e)if(S(e[t]))return e[t];return!1}(k(r,t));if(!Object(v.h)(c)&&o){var a=x.bind({},n,t,e,r);a(),Object.defineProperty(n,t,{configurable:!0,get:function(){var t=a();return t&&!Object(v.l)(t.value)&&t[i.a]&&t[i.a].dirty&&t.value!==c?(c=t.value,w(r,e,1),t.value):c},set:function(e){var t=a();t&&!Object(v.l)(t.value)&&t.value!==e&&e!==c&&(t.value=e,c=e)}})}},E=function e(t,n,r){for(var i in n)if(n.hasOwnProperty(i)){var c=n[i];i!=_&&Object(v.j)(c)&&!Object(v.i)(c)?(Object(v.j)(c)&&Object(v.f)(c)&&(c[_]=""),e(t+"."+i,c,r)):C.bind({},t,i,n,r)()}},P=[],A={runningViewInstance:-1,cache:[]},T=A.runningViewInstance,M=A.innerMods=[],L=A.getState=function(e){return P[e][1]};A.setState=function(e,t){P[e][1]=t},A.getView=function(e){return P[e][0]};var V=A.getProps=function(e){return P[e]&&P[e][2]};A.setProps=function(e,t){return P[e][2]=t};var F=A.remove=function(e){P[e]&&(P[e]=0)},H=A.getId=function(e){return P[e]&&P[e][3]},q=A.exists=function(e){return Object(v.j)(P[e])},D=A.setFrameId=function(e,t){P[e][4]=t};A.getFrameId=function(e){return P[e][4]};var B=A.getMod=function(e){return P[e]&&P[e][5]},R=function(e,t,n,r){if(P[t])return r.key&&r.key==A.getProps(t).key?A.setProps(t,Object(v.c)(Object(v.m)(A.getProps(t),r))):A.setProps(t,r),P[t];(function(e,t){for(var n in t=t||e,e){var r=e[n];Object(v.h)(r)&&!~["controller","view"].indexOf(n)&&(e[n]=r.bind(t))}})(n=Object(v.c)(n),n),P[t]=[0,0,0,0,0,0],A.setProps(t,r);var i={controller:function(r){return n.props=A.getProps(t),n.state=r,n.element=Object(g.a)(e),(n.controller||function(){}).call(r,n.props)||r},view:function(e,t,r){n.element=r,n.state=t,n.props=A.getProps(e),n.view&&n.view.call(n,t,n.props,r)}.bind({},t)};return P[t][0]=i.view,P[t][3]=e,P[t][1]=function(e,t,n){return new e(p({},$.bind({},"state",t)))}(i.controller,t),P[t][5]=n,P[t]},J=[];var $=function(e,t,n){if("get"==n.type&&"props"!=e&&!~i.d.indexOf(n.name.toString())&&Object(v.l)(n.oldValue)){var r=Object(g.a)(A.getId(t));if(n.path&&"/"==n.path[0])var c=function(e,t){var n=e,r=t.split("/"),i=!0,c=!1,o=void 0;try{for(var a,u=r[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var f=a.value;if(f){var d=mag._find(n,f);d.length&&(n=d)}}}catch(e){c=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(c)throw o}}return n}(r,n.path);c&&"$"!=n.path.split("/").pop()[0]&&(c=c[0]);var o=function(e,t){var n=e.name;if(Object(v.l)(e.object[e.name])&&"_"!=n[0]){var r=mag._find(t,n),c="$"===n[0],o=[];return r.length?(r.forEach(function(n){var r;if(n&&n.type&&!~["submit","button"].indexOf(n.type)){if(n.value&&n.value.length>0)if("checkbox"==n.type||"radio"==n.type)if(n.checked&&((r={})._checked=!0),c)r?r._value=n.value:r={_value:n.value};else{var a=t.querySelectorAll("[name="+n.name+"]");if(a.length){var u=!0,f=!1,d=void 0;try{for(var l,b=a[Symbol.iterator]();!(u=(l=b.next()).done);u=!0){var s=l.value;s.checked&&(r?r._value=s.value:r={_value:s.value})}}catch(e){f=!0,d=e}finally{try{u||null==b.return||b.return()}finally{if(f)throw d}}}}else r={_value:n.multiple&&Array.prototype.map.call(n.selectedOptions,function(e){return e.value})||n.value}}else Object(v.l)(e.oldValue)&&Object(v.l)(e.object[e.name])&&n&&!~["submit","button"].indexOf(n.type)&&1==n.childNodes.length&&n.childNodes[0].textContent.trim()&&(r={_text:n.childNodes[0].textContent.trim()});r?o.push(r):n&&!n.hasChildNodes()&&o.push(i.a)}),0===o.length?void 0:c?o:o[0]&&!Object(v.l)(o[0]._value)?o[0]._value:o[0]&&o[0]._text?o[0]._text:o[0]):i.a}if("_"==n[0]){var a=n.substr(1);if(t.length){for(var u in o=[],t){var f=t[u],d=f[a];Object(v.l)(d)&&(d=f.getAttribute(a)),o.push(d)}return o}return d=t[a],Object(v.l)(d)&&(d=t.getAttribute(a)),d}}(n,c||r);if(null!==o&&Object(v.j)(o)&&n.object&&Object(v.m)(o,n.object[n.name]),o)return A.cached[t]=0,o}else"set"==n.type&&"props"!=e&&n.object[n.name]&&n.object[n.name].draw&&Object(v.h)(n.object[n.name].draw)&&(A.innerMods[A.getId(t)]=[n.name,n.object[n.name]]);var a=A.getFrameId(t);Object(v.h)(a)&&"set"==n.type&&(cancelAnimationFrame(J[t]),J[t]=requestAnimationFrame(a))};var G=A.iscached=function(e){var t=Object(v.n)([A.getProps(e),A.getState(e)]);if(e in A.cache&&A.cache[e]==t)return!0;A.cache[e]=t},K=A.clear=function(e){~e&&A.cache[e]&&A.cache.splice(e,1)};A.cached=[];var U=function(e,t){A.runningViewInstance=t,A.cached[t]||(E(t,A.getState(t),e),A.cached[t]=1);try{A.exists(t)&&A.getView(t)(A.getState(t),e)}finally{A.runningViewInstance=-1}},Y=function(e,t){return!(t<0||t!=b.getItem(e))||e==H(t)},z={values:[],attributes:[],elementMatcher:[]},W=function(e,t,n,r,i,c){e[n][r].key==t&&(c={v:i.value,k:i.key},i.change=!1,e[n][r].handler.call(e[n][r].context,i),c!=={v:i.value,k:i.key}&&(i.change=!0))},X=function(e,t,n){for(var r=0,i=z[e].length;r<i;r++)W(z,t,e,r,n)},Q=Object(m.i)(),Z=Object(m.k)();function ee(e,t,n){var r=function(e){var t=[];if(e){var n=e.childNodes;if(n)for(var r=0;r<n.length;r+=1)1===n[r].nodeType&&te(n[r])&&t.push(n[r])}return t}(e),i=[],c=t,o="$"===t[0];"$"===c[0]&&(c=c.substr(1));for(var a=0;a<r.length;a+=1)ne(r[a],c)&&i.push(r[a]);if(!i.length||o)for(a=0;a<r.length&&(!(i=i.concat(ee(r[a],t,!0))).length||o);a++);if(!n&&!i.length&&Q){var u={key:t,value:i,node:e};Q("elementMatcher",t,u),u.change&&(i=u.value)}return i}function te(e){return Object(m.j)()&&e.id&&e.id!=Object(m.j)()&&Z&&Z.isItem(e.id)?0:1}function ne(e,t){var n=" "+e.className+" ";return e.id===t||~n.indexOf(" "+t+" ")||e.name===t||e.nodeName.toLowerCase()===t.toLowerCase()||e.getAttribute("data-bind")===t}var re=Object(m.f)(),ie=[];function ce(e,t,n){(t?ee(e,t):Object(m.w)(e.childNodes.length?e.childNodes:e)).forEach(function(e){var t=Object(m.u)(e);if(t in ie){if(!n)for(var r in ie[t])e.appendChild(ie[t][r]);delete ie[t]}})}function oe(e,t){var n=0,r=function(e){if(1==++n)for(;e.lastChild;)Object(m.x)(e.lastChild)};(t?ee(e,t):Object(m.w)(e)).forEach(function(e){var t=Object(m.u)(e);e.childNodes.length&&(ie[t]=Object(m.w)(e.childNodes));for(var n in ie[t]){var i=ie[t][n];re(i,function(){r(e)},1)}r(e)})}var ae=Object(m.k)(),ue=Object(m.g)(),fe=Object(m.m)(),de=Object(m.l)();function le(e,t){if(!Object(m.v)(e,t.outerHTML)&&(!t.id&&!e.childNodes[0]||t.id&&!i.c.getElementById(t.id)||e.firstChild&&!e.firstChild.isEqualNode(t))){var n;if(ae&&(n=ae.getItem(t.id)),ae&&~n&&e.hasChildNodes()){var r=ae.getItem(getId()),o=e.cloneNode(1);o[i.a]={childof:r},fe&&fe.getProps&&(fe.getProps(n).children=o),ue(t,n)}else t[i.a]&&t[i.a].scid&&!i.b[t[i.a].scid]&&((o=e.cloneNode(1))[i.a]={childof:t[i.a].scid},i.b[t[i.a].scid]=o);for(;e.lastChild;)Object(m.x)(e.lastChild);if(t[i.a]&&void 0!==t[i.a].childof){e.innerHTML=t.innerHTML;var a=t[i.a].childof;!i.b[a]&&de&&(de(e,a),Object(c.b)("willupdate",a,function(){de(e,a)}))}else e.appendChild(t)}}var be=Object(m.g)(),se=Object(m.k)(),ve=Object(m.m)();function je(e,t){return function(e,t,n){var r=Object(m.s)(t),c=Object(m.o)(r);c||(c=Object(m.t)(t));var o=Object(m.j)();Object(m.C)(c);var a=Object(m.e)(t),u=a&&Object(m.r)(a),f=Object(m.p)(u),d=(r=r,Object(m.p)(r)),l={path:u,node:a,data:((a||{})[i.a]||[]).dataPass,index:f};Object(m.C)(o);var b=i.c.getElementById(c),s=se&&se.getItem(c),v=e.call(~s&&ve?ve.getMod(s):b,n,d,t,l);if(c&&b){var j=function(){be(b,s,1)};v&&v.then?v.then(function(e){return j(),e}):j()}return v}.bind({},t,e)}function he(e,t,n,r){var c=t.substr(2).toLowerCase(),o=(Object(v.k)(r)?r.split("/")[0]:"")+"-"+n[i.a].uid,a=n[i.a].events=n[i.a].events||[],u=n[i.a].eventHandlers=n[i.a].eventHandlers||[];u[c]=u[c]||[],u[c][o]=e,a[c]||(a[c]=1,function(e,t){function n(n){var r=e[i.a].eventHandlers[t];for(var c in r){var o=r[c];!1===je(e,o)(n)&&n.preventDefault()}}e.removeEventListener(t,n),e.addEventListener(t,n)}(n,c))}var Oe=Object(m.i)();var pe=Object(m.i)();var ge=n(6),me=Object(m.m)(),ye=function(e,t,n,r){r=Object(m.q)(t);var c=e((n=Object(m.h)(r)).join("."),r);if(!(c&&Object(v.i)(c)||Object(v.g)(c)))return Ne(t,c,r);le(t,c),t[i.a]=t[i.a]||{},t[i.a].isItem=!0,t[i.a].dataPass={index:n},e.draw&&e.draw()};function Ne(e,t,n,r){var c,o=me&&me.innerMods,a=Object(m.p)(n),u=Object(ge.b)(t);if(u&&(t=u),t&&Object(v.i)(t)||Object(v.g)(t))le(e,t);else{if(Object(v.h)(t))return ye(t,e,a,n);if(!Object(v.j)(t))return Ne(e,{_text:t},n);o&&o[Object(m.j)()]&&t[o[Object(m.j)()][0]]&&!t[o[Object(m.j)()][0]].draw&&o[Object(m.j)()][1].destroy(),(c=function(e,t){var n;for(var r in t){var c=t[r];void 0===c?c="":null===c&&-1===["onunload"].indexOf(r)?(e[i.a].detached=e[i.a].detached||[],e[i.a].detached[r]=1,oe(e,r)):e[i.a].detached&&e[i.a].detached[r]&&(ce(e,r,c.nodeType),e[i.a].detached[r]=0),("_"===r[0]&&"_"!==r[1]||"on"==r.substr(0,2))&&(n=n||{},"on"==r.substr(0,2)?n[r]=c:n[r.substr(1)]=c)}return n}(e,t))&&function(e,t,n,r){var i=Object(m.p)(n);for(var c in m.b[Object(m.u)(e)]=m.b[Object(m.u)(e)]||[],t)if("text"!==c&&"html"!==c)if(0==c.indexOf("on"))he(t[c],c,e,r);else{if("config"==c){n=Object(m.q)(e),i=Object(m.p)(n);var o=!0;m.b[n+"-config"]?o=!1:m.b[n+"-config"]={};var a=m.b[n+"-config"].configContext=m.b[n+"-config"].configContext||{};configs[n]=function(e,t){return function(){return e.apply(e,t)}}(t[c],[e,o,a,i]);continue}if(Oe){var u={key:c,value:t[c],node:e};Oe("attributes",c,u),u.change&&(t[c=u.key]=u.value)}if(m.b[Object(m.u)(e)]&&m.b[Object(m.u)(e)][c]==t[c])continue;null===t[c]?e.removeAttribute(c):"value"==c&&e.multiple&&e.selectedOptions&&Object(v.e)(t[c])?(e.value=t[c],t[c].forEach(function(t){Array.from(e.options).find(function(e){return e.value==t}).selected=!0})):c in e?"style"==c?e[c].cssText=t[c]:e[c]=t[c]:e.setAttribute(c,String(t[c])),m.b[Object(m.u)(e)][c]=t[c]}Object(m.H)(e,t.text),Object(m.B)(e,t.html)}(e,c,n,r),function(e,t,n){var r;for(var c in t){var o=t[c];if(!~i.d.indexOf(c)&&"_"!==c[0]&&"on"!=c.substr(0,2)){if(r=ee(e,c),pe){var a={key:c,value:o,node:e};pe("values","*",a),a.change&&(o=a.value)}we(r,o,n+"/"+c)}}}(e,t,n)}}function we(e,t,n){var r,c;if(e){if(null===t&&n)oe(e,n);else{if(null===t&&!n)return e[i.a].detached=1,oe(e);e[i.a]&&e[i.a].detached&&!n&&(e[i.a].detached=0,ce(e))}var o=Object(m.w)(e);if(c=Object(v.e)(t)){if(m.I[n]&&0===o.length&&(m.I[n].parent.insertAdjacentHTML("beforeend",m.I[n].node),o=Object(m.w)(m.I[n].parent.childNodes)),!o.length)return;var a=o[0].parentNode;m.I[n]||(m.I[n]={node:o[0].cloneNode(1).outerHTML,parent:a});for(var u=i.c.createDocumentFragment(),f=0;o.length<t.length;)m.I[n]?(a.insertAdjacentHTML("beforeend",m.I[n].node),r=a.lastChild):r=o[0].cloneNode(1),Object(m.n)(r,++f,n),o.push(r),u.appendChild(r);a.appendChild(u);var d=t.map(function(e){return e&&e[m.a]});if(o.length!=t.length&&-1===d.indexOf(void 0)||(t=t.map(function(e,t){if(Object(v.j)(e)){if(o[t][i.a]=o[t][i.a]||{},o[t][i.a].__key&&Object(v.l)(e[m.a]))return e[m.a]=o[t][i.a].__key,e;Object(v.l)(e[m.a])&&(e[m.a]=i.a+t),o[t][i.a].__key=e[m.a]}return e})),o.length>t.length)if(0!==t.length&&Object(v.j)(t[0])){var l=[],b=t.map(function(e){return e[m.a]});o=o.filter(function(e,t){var n;return Object(v.l)(e[i.a])?n=1:~b.indexOf(e[i.a].__key)&&!~l.indexOf(e[i.a].__key)||(l.push(e[i.a].__key),n=1),n?(Object(m.x)(e),!1):(l.push(e[i.a].__key),!0)})}else for(;o.length>t.length;)(a=(r=o.pop()).parentNode)&&Object(m.x)(r)}for(var s=0;s<o.length;s++)if(c)o[s]&&we(o[s],t[s],s);else{var j=Object(m.n)(o[s],s+1,n);t&&Object(v.j)(t)&&t.hasOwnProperty(m.a)&&!Object(v.i)(t)&&(o[s][i.a].isItem=!0,o[s][i.a].dataPass=t),Ne(o[s],t,j,n)}}}Object(m.G)(function e(t){var n=b.getItem(t.id);if(t.children)for(var r=0;r<t.children.length;r++)e(t.children[r]);~n?(Object(c.a)("onunload",L(n),t,n),K(n),F(n),Object(m.c)(H(n))):t[i.a]&&t[i.a].scid&&Object(c.a)("onunload",{},t,t[i.a].scid)}),Object(m.y)(function(e,t,n){var r;e.id&&b.isItem(e.id)&&(r=b.getItem(e.id)),!r&&e[i.a]&&e[i.a].scid?Object(c.a)("onunload",{},e,e[i.a].scid):r&&L(r).onbeforeunload?Object(c.a)("onbeforeunload",L(r),e,r,0,function(){r&&Object(c.a)("onunload",L(r),e,r),t()}):(r&&Object(c.a)("onunload",L(r),e,r,1),t())}),Object(m.F)({getMod:B,getProps:V,innerMods:M}),Object(m.z)(w),Object(m.D)(b),Object(m.A)(X),Object(m.E)(function(e,t){var n=Object(m.j)();Object(m.C)(H(t)),we(e,L(t)),Object(m.C)(n)});var ke=function(e){var t=b.getItemVal(e);return Object(g.a)(t)},_e=n(4),xe=["#KEY",".KEY","KEY"],Ie=function(e,t){var n;for(var r in xe){var i=xe[r].replace("KEY",t);if(n=e.querySelector(i))break}return n},Se=function(e){if(Object(v.k)(e)){if(n=Object(ge.b)(e))return n;var t=ke(~T||void 0),n=Ie(t||_e.a.doc,e);if(n)return n}return e},Ce=0,Ee=function(e){return Object(v.i)(e)&&(e.id||(e.id=++Ce),i.e[e.id]=e,e=e.id),e},Pe=function(e,t){return Object(c.a)("willload",L(e),t,e,1)},Ae=function(e,t){var n=b.getItemVal(e);if(Object(g.a)(n)&&q(e))return Object(c.a)("didload",L(e),t,e,1)},Te=function(e,t){var n=function(e,t){Object(g.a)(t)?w(Object(g.a)(t),e):b.isItem(t)&&mag.clear(e)}.bind({},e,t);D(e,n)},Me=function(e,t,n,r,i){var o=b.getItem(t);t=Ee(e);var a=Object(v.n)(V(o));Ae(o,e),q(o)&&Object(c.a)("willgetprops",L(o),e,o,0,n)||(R(e.id,o,r,n),a!=Object(v.n)(V(o))&&(i=1),Te(o,e.id),Pe(o,e)||w(e,o,i).then(function(){Ae(o,e)}))},Le=[],Ve={},Fe=0,He=function(e,t,n,r){Le[e]=Le[e]||[];var c=function(e,t,n,r,i){Object(v.j)(i)&&(r=Object(v.m)(Object(v.c)(r),i),i=0),e<0&&!i&&(i=1);var o=t.id+(r.key?"."+r.key+".":"")+(i||"");!Ve[o]||r.key||~c._id||(o+=++Fe);var a=Ve[o]=Ve[o]||t.cloneNode(1);if(a.id=o,b.isItem(o))return Me(a,o,r,n),a;var u=s(a.id);return e<0?e=c._id=u:Le[e].push({instanceId:u,subscribe:subscriberHandler.bind({},u)}),Me(a,o,r,n),a}.bind({},e,t,n,r);return c._id=e,c.clones=function(){return Le[c._id]},c.destroy=function(e){destroyerHandler(c._id,c.clones,e)},c.getId=function(){return c._id},c.rafBounce=function(e){return e?i.g[c._id]=1:!1===e&&(i.g[c._id]=0),!!i.g[c._id]},c.draw=function(e){return _e.a.redraw(t,c._id,e)},c.getState=function(){return L(c._id)},c.getProps=function(){return V(c._id)},c.subscribe=function(e){return subscriberHandler(c._id,e)},c};Object(m.y)(function(e,t){e[i.a]&&e[i.a].scid?Object(c.a)("onunload",{},e,e[i.a].scid):t()}),Object(m.G)(function e(t){if(t.children)for(var n=0;n<t.children.length;n++)e(t.children[n]);t[i.a]&&t[i.a].scid&&Object(c.a)("onunload",{},t,t[i.a].scid)});var qe=function(e){if(Object(v.k)(e)){var t;if(t=Object(ge.b)(e))return t;if(t=Ie(i.c,e))return t}return e};_e.a._handler=function(e,t,n){return Je(e,t,n,we,qe)};var De=_e.a,Be=0,Re=function(e,t,n,r){var o,a=[],u=e.cloneNode(1),f=[],d=function d(l){var b,s=e;l=l||{},Object(v.l)(l.key)||(b=l.key+"-"+d.id);var j,h=Object(v.l)(l.key)?d.id:l.key+"-"+d.id;if(f[h]||(f[h]=Object(v.j)(n)?Object(v.c)(n):n),Object(v.j)(l)&&(l=Object(v.d)(f[h],l)),b&&!a[b]?s=a[b]=u.cloneNode(1):b&&a[b]&&(s=a[b]),!Object(v.l)(d)&&l&&l.key&&d.key&&d.key!=h&&Object(c.a)("onunload",l,s,d.key),o&&o==s[i.a].scid)throw Error("MagJS Error - recursive call:"+o);s[i.a]=s[i.a]||{},De._cprops[h]&&Object(v.j)(l)&&(l.children=i.b[h]),d.props=l,d.key=h,d.fake=r;try{var O=De._current;De._current=d,j=t(l),o=s[i.a].scid=h;var p=Object(m.j)();p&&p[i.a]&&p[i.a].scid&&(s[i.a].pscid=p[i.a].scid),Object(m.C)(s),we(s,j)}finally{Object(c.a)("didupdate",l,s,h),Object(m.C)(p),o=0,De._current=O}return s};return d.id=++Be,d.element=u,d},Je=function(e,t,n,r,c,o){if(e=c(e),t=c(t),n=n||{},Object(v.i)(t)&&(Object(v.i)(e)||Object(v.g)(e)))t[i.a]||r(t,e);else{if(Object(v.h)(t)&&(Object(v.i)(e)||Object(v.g)(e))){try{Re(e.cloneNode(1),t,n,!0)()}catch(e){}return Re(e,t,n)}if(o)return o(e,t,n)}};_e.a._handler=function(e,t,n){return Je(e,t,n,we,Se,function(e,t,n){return He(-1,Object(g.a)(Ee(e)),t,n)})};var $e=_e.a;$e.hook=X,$e.hookin=function(e,t,n){z[e].push({context:{},handler:n,key:t})},$e.redraw=w,$e.begin=function(e){Object(v.l)(N[e])?N[e]=1:N[e]++},$e.end=function(e){if(N[e]>1)N[e]--;else{N[e]=0;var t=b.getItemVal(e);w(Object(g.a)(t),e)}};$e.module=function(e,t,n){n=n||{};var r=function(e,t){var n=t?e+"-"+t:e;return b.isItem(n)?b.getItem(n):s(n)}(e=Ee(e),n.key),i=Ge(n,r,t,e);if(i)return He(r,i,t,Object(v.c)(n))};var Ge=function(e,t,n,r){e.retain||K(t);var i=Object(g.a)(r);if(R(r,t,n,e),Te(t,r),!Pe(t,i))return w(i,t,1).then(function(){Ae(t,i)}),i};$e.clear=function(e){b.removeItem(e),K(e),Object(m.c)(H(e))};$e.getNode=g.a;t.default=$e}])});