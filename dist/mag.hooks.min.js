/*! mag.js - 1.5.2 | (c)2020  https://github.com/magnumjs | MIT */
var mag=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=4)}([function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"e",function(){return o}),t.d(n,"g",function(){return i}),t.d(n,"b",function(){return a}),t.d(n,"d",function(){return c}),t.d(n,"c",function(){return u}),t.d(n,"f",function(){}),t.d(n,"h",function(){}),t.d(n,"i",function(){return f});var r="__magnum__",o=[],i=[],a=[],c=["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","willupdate","didupdate","didload","willload","isupdate"],u=document,f=function(e){return e}},function(e,n,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.d(n,"h",function(){return o}),t.d(n,"i",function(){return i}),t.d(n,"c",function(){return a}),t.d(n,"b",function(){return c}),t.d(n,"a",function(){return u}),t.d(n,"j",function(){return f}),t.d(n,"d",function(){return l}),t.d(n,"g",function(){return d}),t.d(n,"k",function(){return v}),t.d(n,"f",function(){return p}),t.d(n,"e",function(){return y});var o=function(e){var n=r(e);return null!=e&&("object"==n||"function"==n)},i=function(e){return"string"==typeof e},a=function(e){return o(e)?Object.assign({},e):e},c=function(e){var n=function(){return e.apply(e,arguments)};for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},u=function(e,n){return e.length===n.length&&e.every(function(e,t){return e===n[t]})},f=function(){return Object.assign.apply({},arguments)},l=function e(n,t,r){for(var i in t)if(void 0===t[i])delete t[i];else if(r&&o(t[i]))return e(n[i],t[i]);return f(n,t)},d=function(e){return e&&1===e.nodeType},s=function(e,n){return"function"==typeof n?""+n:n},v=function(e){return JSON.stringify(e,s)},p=function(e){for(var n in e)if(e.hasOwnProperty(n))return 0;return 1},y=function(e){return Array.isArray(e)}},function(e,n,t){"use strict";t.d(n,"b",function(){return i}),t.d(n,"a",function(){return a});var r=t(0),o=[],i=function(e,n,t){var r=e+"-"+n;return o[r]=o[r]||[],o[r].push(t),function(){var e=o[r].indexOf(t);return o[r].splice(e,1)}},a=function(e,n,t,i,a,c){var u;Object(r.i)(i);var f=n&&n[e];f&&!f.called&&(u=f.call(void 0,t,void 0,i,c),a&&(f.called=1));var l=e+"-"+i;if(o[l]){var d=o[l].slice(),s=!0,v=!1,p=void 0;try{for(var y,b=d[Symbol.iterator]();!(s=(y=b.next()).done);s=!0){(0,y.value)(n,void 0,t)}}catch(e){v=!0,p=e}finally{try{s||null==b.return||b.return()}finally{if(v)throw p}}}if(Object(r.i)(-1),!1===u)return!0}},function(e,n,t){"use strict";var r=t(0),o=function e(n,t,r){return e._handler(n,t,r)};o._handler=function(){},o.rafBounceIds=r.g,o._cprops=r.b,o.doc=r.c,n.a=o},function(e,n,t){var r=t(7);t(5),t(6),e.exports=r.default},function(e,n,t){"use strict";t.r(n),t.d(n,"useState",function(){return u});var r=t(3);t.d(n,"mag",function(){return r.a});var o=t(1);function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){a(e,n,t[n])})}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c={},u=function(e){var n=Object(o.b)(r.a._current),t=n.key||n.id,a=n.props,u=n,f=(n.element,c[t]);if(!f){f={name:t,setValue:function(e){var n=Object(o.c)(e);"function"==typeof e&&(n=Object(o.c)(e(f.value))),n!==f.value&&(Object(o.h)(n)?f.value=i({},f.value,n):f.value=n,f.render(i({},a)))},render:u,value:Object(o.c)(e)},c[t]=f}return[f.value,f.setValue]};r.a.useState=u},function(e,n,t){"use strict";t.r(n),t.d(n,"useEffect",function(){return f});var r=t(3);t.d(n,"mag",function(){return r.a});var o=t(1),i=t(2),a={},c=function(e){return new Promise(function(n){requestAnimationFrame(function(){var t="function"==typeof e&&e();n(t)})})},u=function(e,n,t,r){var a=n[t];if(a)a&&!e?("function"==typeof a.callback&&a.callback(),c(r).then(function(e){return a.callback=e})):a&&!Object(o.a)(e,a.value)&&(a.value=e.slice(),"function"==typeof a.callback&&a.callback(),c(r).then(function(e){return a.callback=e}));else{a={name:t,func:r,value:e&&e.slice()},n[t]=a,c(r).then(function(e){return a.callback=e});var u=Object(i.b)("onunload",t,function(){"function"==typeof a.callback&&a.callback(),delete n[t],u()})}},f=function(e,n){r.a._current.element;var t=Object(o.b)(r.a._current),c=t.key||t.id;t.props,t.element;if(!t.fake)var f=Object(i.b)("didupdate",c,function(){r.a.doc.body.contains(arguments.length<=2?void 0:arguments[2])?u(n,a,c,e):function(e,n,t,o,i){var a=setInterval(function(){r.a.doc.body.contains(n)&&(clearInterval(a),u(t,o,e,i))},10)}(c,arguments.length<=2?void 0:arguments[2],n,a,e),f()})};r.a.useEffect=f},function(e,n,t){"use strict";t.r(n);var r=t(0),o=t(2),i=t(1);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c="/";function u(e,n,t,o){var u=new WeakSet;return new Proxy(e,{get:function(e,f,l){var d,s=e[f];if("symbol"==a(f))return s;if("object"!==a(s)||"symbol"===a(s)||null===s||"function"==typeof s||Object(i.e)(s)||!Object(i.h)(s)||s.then||s.draw)f in e||~r.d.indexOf(f.toString())||t||"_"==f[0]||(s=e({},n,t,o+c+f));else if(d=s,!u.has(d))return u.add(s),e(s,n,t,o+c+f);var v=n({type:"get",object:e,name:f,path:o,oldValue:Reflect.get(e,f,l)});return void 0!==v&&(s=v==r.a?void 0:v),s},deleteProperty:function(e,t){return n({type:"delete",name:t,object:e,oldValue:Reflect.get(e,t)}),Reflect.deleteProperty(e,t)},set:function(e,t,r,o){var i=Reflect.get(e,t,o);return i===r&&"length"!==t||(n({type:"set",name:t,object:e,oldValue:i}),Reflect.set(e,t,r,o))}})}var f=function e(n,t,r,o){for(var f in n){var l=a(n[f]);Object(i.e)(n[f])&&n[f].length<101?n[f]=u(n[f],t):"object"==l&&null!==n[f]&&"symbol"!=a(f)&&"symbol"!=l&&"function"!=l&&Object(i.h)(n[f])&&(n[f]=e(n[f],t,r,o+c+f))}return u(n,t,r,o||c)};function l(e,n){if(r.e[e]&&!n)return r.e[e];var t=r.c.getElementById(e);return t&&(r.e[e]=t),r.e[e]}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s,v,p,y,b,h,m,g=[],O=[],j="function",S=[],_=[],N={},k=function(){return v},w=function(){},x=function(e){return w=e},I=function(e){return p=e},E=function(){return y},C=function(e){return y=e},P=function(){return b},A=function(){return h},T=function(){return m},M=0,L=function(e){_[e]&&delete _[e]};function V(e,n){return e[r.a]=e[r.a]||{},e[r.a].uid&&!n||(e[r.a].uid=++M),e[r.a].uid}function H(e,n){var t=V(e);return S[t]&&!n?S[t]:S[t]=D(e)}function F(e,n){var t=V(e);if(_[E()]=_[E()]||[],_[E()][t]&&_[E()][t]==n)return 1;_[E()][t]=n}function q(e){var n="",t=function e(n){return b&&n.id&&b.isItem(n.id)?n:n.parentNode?e(n.parentNode):void 0}(e),r=function(e){for(var n=1;e=e.previousElementSibling;)++n;return n}(e);return t&&(n+='id("'+(t.id||t.tagName)+'")'),n+="/"+e.tagName+"["+r+"]"}function D(e,n){if(e.id&&E()===e.id||E()===e)return'id("'+(e.id||e.tagName)+'")';if(e===r.c.body)return e.tagName;var t=0;if(e.parentNode)for(var o=e.parentNode.childNodes,i=0,a=o.length;i<a;i++){var c=o[i];if(c===e)return D(e.parentNode)+(e.tagName?"/"+e.tagName+"["+(t+1)+"]":"");1===c.nodeType&&c.tagName===e.tagName&&t++}}function R(e){var n=D(e);e&&O[n+"-config"]&&O[n+"-config"].configContext&&d(O[n+"-config"].configContext.onunload)===j&&(O[n+"-config"].configContext.onunload(O[n+"-config"].configContext,e,n),delete O[n+"-config"],delete g[n]),p&&p(e),e.parentNode&&e.parentNode.removeChild(e)}function B(e){var n=e&&parseInt(e.split("[").pop().slice(0,-1));return n?parseInt(n)-1:0}var J=[];function $(e,n,t){var o=V(e);if(S[o])return S[o];if(J[o])return J[o];var a=+t==+t?n+t:n,c='id("'+("object"==d(E())?E().tagName:E())+'")'+(Object(i.i)(t)?t.split(")")[1]+"/":"/")+e.tagName+"["+a+"]";return J[o]=e[r.a].xpath=c}function K(e,n,t){if(!(!n||e.childNodes[t]&&e.childNodes[t].isEqualNode(n))){for(var r=Y(e.childNodes),o=0,i=r.length;o<i;o++)r[o]&&e.removeChild(r[o]);e.childNodes[t]?e.replaceChild(n,e.childNodes[t]):e.appendChild(n)}}function Y(e){var n;if(null==e.length&&(e=[e]),!Object(i.e)(e)){n=[];for(var t=0;t<e.length;t+=1)e[t]&&n.push(e[t]);e=n}return e}var U=function(e,n,t){return function(e,n,t){if(l(e.id,1),_e(e.id,n)&&e){var r=fe(n);if(!Object(o.a)("isupdate",r,e,n)){if(ge(n)&&!t)return 0;if(!Object(o.a)("willupdate",r,e,n)){Se(e,n);var i=E();C(e.id),dn(e,r),C(i),function(e,n){for(var t in n)t.startsWith('id("'+e+'")/')&&n[t]()}(e.id,g),Object(o.a)("didupdate",r,e,n),t||ge(n)}}}}.bind({},e,n,t)},W=[],G=function(e,n,t){if(!W[n]){if(!e||void 0===n)throw Error("Mag.JS - Id or node invalid: "+Ce.getItemVal(n));if(!_e(e.id,n))return{then:function(e){return e()}};if(t&&g.splice(0,g.length),t&&Oe(n),ce==n)throw Error("Mag.JS - recursive call:"+n);return Ie(n,U(e,n,t))}},X=function(e,n){var t=E();C(e);var r=He(e,n);return C(t),r};function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Q="_value",Z=function(e,n,t,r){var o,a=t.toString().split(".");if(a.length>=3)r=function(e,n){for(var t=1;t<e.length;t++){var r=e[t],o=e[t+1],a=X(Object(i.e)(n)?n[0]:n,r);if(o&&!isNaN(Number(o)))n=a[o];else if(a&&a.length&&o&&t+2<e.length)n=X(a[0],o);else if(a&&a.length&&(n=a,t+2==e.length))break}return Object(i.e)(n)?n[0]:n}(a,r),o=X(r,n);else{var c=parseInt(a.pop()),u=isNaN(c)?0:c;o=X(r[u]?r[u]:r,n)}return function(e,n,t,r){var o=[];for(var i in e){var a=e[i];ne(a)&&(o.push(a),ee(a,n,t,r))}if(o.length)return 1==o.length?o[0]:o;return!1}(o,e,n,r)};function ee(e,n,t,o){if(e[r.a]=e[r.a]||{},!e[r.a].eventOnFocus){var i=function(n,t,o,i){var a=~["radio","checkbox"].indexOf(e.type);if(this[r.a].dirty||(this[r.a].dirty=1),e.selectedOptions)var c=Array.prototype.map.call(e.selectedOptions,function(e){return e.value});a?"_checked"in t||Q in t?t._checked=this.checked:this.checked&&(t[o]=this.value):void 0!==t[Q]?t[Q]=c||this.value:void 0!==t._text&&(t._text=c||this.value),G(n,Ce.getItem(n.id))}.bind(e,o,n,t);e.addEventListener("click",i),e.addEventListener("input",i),e.addEventListener("change",i),e.addEventListener("focus",i),e[r.a].eventOnFocus=1}}function ne(e){return e&&~["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)}var te=function(e,n,t,o){var a=t[n];~[Q,"_checked","_text"].indexOf(n)&&Object(i.i)(e)&&(n=e.split(".").pop());var c=function(e){for(var n in e)if(ne(e[n]))return e[n];return!1}(X(o,n));if("function"!=typeof a&&c){var u=Z.bind({},t,n,e,o);u(),Object.defineProperty(t,n,{configurable:!0,get:function(){var n=u();return n&&"undefined"!==n.value&&n[r.a]&&n[r.a].dirty&&n.value!==a?(a=n.value,G(o,e,1),n.value):a},set:function(e){var n=u();n&&"undefined"!==n.value&&n.value!==e&&e!==a&&(n.value=e,a=e)}})}},re=function e(n,t,r){for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];o==Q||"object"!==z(a)||Object(i.g)(a)?te.bind({},n,o,t,r)():(Object(i.h)(a)&&Object(i.f)(a)&&(a[Q]=""),e(n+"."+o,a,r))}};function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ie=[],ae={runningViewInstance:-1,cache:[]},ce=ae.runningViewInstance,ue=ae.innerMods=[],fe=ae.getState=function(e){return ie[e][1]};ae.setState=function(e,n){ie[e][1]=n},ae.getView=function(e){return ie[e][0]};var le=ae.getProps=function(e){return ie[e]&&ie[e][2]};ae.setProps=function(e,n){return ie[e][2]=n};var de=ae.remove=function(e){ie[e]&&(ie[e]=0)},se=ae.getId=function(e){return ie[e]&&ie[e][3]},ve=ae.exists=function(e){return"object"==oe(ie[e])},pe=ae.setFrameId=function(e,n){ie[e][4]=n};ae.getFrameId=function(e){return ie[e][4]};var ye=ae.getMod=function(e){return ie[e]&&ie[e][5]},be=function(e,n,t,r){if(ie[n])return r.key&&r.key==ae.getProps(n).key?ae.setProps(n,Object(i.c)(Object(i.j)(ae.getProps(n),r))):ae.setProps(n,r),ie[n];(function(e,n){for(var t in n=n||e,e){var r=e[t];"function"!=typeof r||~["controller","view"].indexOf(t)||(e[t]=r.bind(n))}})(t=Object(i.c)(t),t),ie[n]=[0,0,0,0,0,0],ae.setProps(n,r);var o={controller:function(r){return t.props=ae.getProps(n),t.state=r,t.element=l(e),(t.controller||function(){}).call(r,t.props)||r},view:function(e,n,r){t.element=r,t.state=n,t.props=ae.getProps(e),t.view&&t.view.call(t,n,t.props,r)}.bind({},n)};return ie[n][0]=o.view,ie[n][3]=e,ie[n][1]=function(e,n,t){return new e(f({},me.bind({},"state",n)))}(o.controller,n),ie[n][5]=t,ie[n]},he=[];var me=function(e,n,t){if("get"!=t.type||"props"==e||~r.d.indexOf(t.name.toString())||void 0!==t.oldValue)"set"==t.type&&"props"!=e&&t.object[t.name]&&t.object[t.name].draw&&"function"==typeof t.object[t.name].draw&&(ae.innerMods[ae.getId(n)]=[t.name,t.object[t.name]]);else{var o=l(ae.getId(n));if(t.path&&"/"==t.path[0])var a=function(e,n){var t=e,r=n.split("/"),o=!0,i=!1,a=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var f=c.value;if(f){var l=mag._find(t,f);l.length&&(t=l)}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return t}(o,t.path);a&&"$"!=t.path.split("/").pop()[0]&&(a=a[0]);var c=function(e,n){var t=e.name;if(void 0===e.object[e.name]&&"_"!=t[0]){var o=mag._find(n,t),i="$"===t[0],a=[];return o.length?(o.forEach(function(t){var o;if(t&&t.type&&!~["submit","button"].indexOf(t.type)){if(t.value&&t.value.length>0)if("checkbox"==t.type||"radio"==t.type)if(t.checked&&((o={})._checked=!0),i)o?o._value=t.value:o={_value:t.value};else{var c=n.querySelectorAll("[name="+t.name+"]");if(c.length){var u=!0,f=!1,l=void 0;try{for(var d,s=c[Symbol.iterator]();!(u=(d=s.next()).done);u=!0){var v=d.value;v.checked&&(o?o._value=v.value:o={_value:v.value})}}catch(e){f=!0,l=e}finally{try{u||null==s.return||s.return()}finally{if(f)throw l}}}}else o={_value:t.multiple&&Array.prototype.map.call(t.selectedOptions,function(e){return e.value})||t.value}}else void 0===e.oldValue&&void 0===e.object[e.name]&&t&&!~["submit","button"].indexOf(t.type)&&1==t.childNodes.length&&t.childNodes[0].textContent.trim()&&(o={_text:t.childNodes[0].textContent.trim()});o?a.push(o):t&&!t.hasChildNodes()&&a.push(r.a)}),0===a.length?void 0:i?a:a[0]&&void 0!==a[0]._value?a[0]._value:a[0]&&a[0]._text?a[0]._text:a[0]):r.a}if("_"==t[0]){var c=t.substr(1);if(n.length){for(var u in a=[],n){var f,l=n[u];void 0===(f=l[c])&&(f=l.getAttribute(c)),a.push(f)}return a}return void 0===(f=n[c])&&(f=n.getAttribute(c)),f}}(t,a||o);if(null!==c&&"object"==oe(c)&&t.object&&Object(i.j)(c,t.object[t.name]),c)return ae.cached[n]=0,c}var u=ae.getFrameId(n);"function"==typeof u&&"set"==t.type&&(cancelAnimationFrame(he[n]),he[n]=requestAnimationFrame(u))};var ge=ae.iscached=function(e){var n=Object(i.k)([ae.getProps(e),ae.getState(e)]);if(e in ae.cache&&ae.cache[e]==n)return!0;ae.cache[e]=n},Oe=ae.clear=function(e){~e&&ae.cache[e]&&ae.cache.splice(e,1)};ae.cached=[];var je,Se=function(e,n){ae.runningViewInstance=n,ae.cached[n]||(re(n,ae.getState(n),e),ae.cached[n]=1);try{ae.exists(n)&&ae.getView(n)(ae.getState(n),e)}finally{ae.runningViewInstance=-1}},_e=function(e,n){return!(n<0||n!=Ce.getItem(e))||e==se(n)},Ne={},ke=[],we=[],xe=[],Ie=function(e,n){return new Promise(function(t){r.f||r.g[e]&&n?(we[e]&&(xe[e](),cancelAnimationFrame(we[e])),xe[e]=t,we[e]=requestAnimationFrame(function(r){we[e]=0,n(),t()})):(n&&ke.push(n),je||(je=requestAnimationFrame(function(n){return function(e,n,t){var r;je=0;do{var o=ke.shift();o&&o(),r=performance.now()}while(ke.length&&Ee(r,n));ke.length?Ie(t).then(e):e()}(t,n,e)})))})};function Ee(e,n){return!r.h||e-n<r.h}var Ce={i:[],isItem:function(e){return~Ce.i.indexOf(e)},setItem:function(e){return Ce.i[Ce.i.length]=e},getItem:function(e){return Ce.i.indexOf(e)},getItemVal:function(e){return Ce.i[e]},removeItem:function(e){return Ce.i.splice(Ce.i.indexOf(e),1)}};Ne.items=Ce,Ne.getItemInstanceIdAll=function(){return Ce.i};var Pe=function(e){return Ce.isItem(e)?Ce.getItem(e):(Ce.setItem(e),Ce.getItem(e))},Ae={values:[],attributes:[],elementMatcher:[]},Te=function(e,n,t,r,o,i){e[t][r].key==n&&(i={v:o.value,k:o.key},o.change=!1,e[t][r].handler.call(e[t][r].context,o),i!=={v:o.value,k:o.key}&&(o.change=!0))},Me=function(e,n,t){for(var r=0,o=Ae[e].length;r<o;r++)Te(Ae,n,e,r,t)},Le=k(),Ve=P();function He(e,n,t){var r=function(e){var n=[];if(e){var t=e.childNodes;if(t)for(var r=0;r<t.length;r+=1)1===t[r].nodeType&&Fe(t[r])&&n.push(t[r])}return n}(e),o=[],i=n,a="$"===n[0];"$"===i[0]&&(i=i.substr(1));for(var c=0;c<r.length;c+=1)qe(r[c],i)&&o.push(r[c]);if(!o.length||a)for(c=0;c<r.length&&(!(o=o.concat(He(r[c],n,!0))).length||a);c++);if(!t&&!o.length&&Le){var u={key:n,value:o,node:e};Le("elementMatcher",n,u),u.change&&(o=u.value)}return o}function Fe(e){return E()&&e.id&&e.id!=E()&&Ve&&Ve.isItem(e.id)?0:1}function qe(e,n){var t=" "+e.className+" ";return e.id===n||~t.indexOf(" "+n+" ")||e.name===n||e.nodeName.toLowerCase()===n.toLowerCase()||e.getAttribute("data-bind")===n}var De=w,Re=[];function Be(e,n,t){(n?He(e,n):Y(e.childNodes.length?e.childNodes:e)).forEach(function(e){var n=V(e);if(n in Re){if(!t)for(var r in Re[n])e.appendChild(Re[n][r]);delete Re[n]}})}function Je(e,n){var t=0,r=function(e){if(1==++t)for(;e.lastChild;)R(e.lastChild)};(n?He(e,n):Y(e)).forEach(function(e){var n=V(e);e.childNodes.length&&(Re[n]=Y(e.childNodes));for(var t in Re[n]){var o=Re[n][t];De(o,function(){r(e)},1)}r(e)})}var $e=P(),Ke=T(),Ye=A(),Ue=s;function We(e,n){if(!F(e,n)&&(!n.id&&!e.childNodes[0]||n.id&&!r.c.getElementById(n.id)||e.firstChild&&!e.firstChild.isEqualNode(n))){var t;if($e&&(t=$e.getItem(n.id)),$e&&~t&&e.hasChildNodes()){var i=$e.getItem(getId()),a=e.cloneNode(1);a[r.a]={childof:i},Ye&&Ye.getProps&&(Ye.getProps(t).children=a),Ke(n,t)}else n[r.a]&&n[r.a].scid&&!r.b[n[r.a].scid]&&((a=e.cloneNode(1))[r.a]={childof:n[r.a].scid},r.b[n[r.a].scid]=a);for(;e.lastChild;)R(e.lastChild);if(n[r.a]&&void 0!==n[r.a].childof){e.innerHTML=n.innerHTML;var c=n[r.a].childof;!r.b[c]&&Ue&&(Ue(e,c),Object(o.b)("willupdate",c,function(){Ue(e,c)}))}else e.appendChild(n)}}var Ge=T(),Xe=P(),ze=A();function Qe(e,n){return function(e,n,t){var o,i=q(n),a=(o=i)&&~o.indexOf("id(")&&o.split('id("')[1].split('")')[0];a||(a=function e(n,t){if(n[r.a]&&n[r.a].scid&&!n[r.a].pscid)t=n;else if(t)return t;if(n.parentNode)return e(n.parentNode,t)}(n));var c=E();C(a);var u=function e(n){return n&&n[r.a]&&n[r.a].isItem?n:n.parentNode?e(n.parentNode):void 0}(n),f=u&&D(u),l=B(f),d=B(i=i),s={path:f,node:u,data:((u||{})[r.a]||[]).dataPass,index:l};C(c);var v=r.c.getElementById(a),p=Xe&&Xe.getItem(a),y=e.call(~p&&ze?ze.getMod(p):v,t,d,n,s);if(a&&v){var b=function(){Ge(v,p,1)};y&&y.then?y.then(function(e){return b(),e}):b()}return y}.bind({},n,e)}function Ze(e,n,t,o){var a=n.substr(2).toLowerCase(),c=(Object(i.i)(o)?o.split("/")[0]:"")+"-"+t[r.a].uid,u=t[r.a].events=t[r.a].events||[],f=t[r.a].eventHandlers=t[r.a].eventHandlers||[];f[a]=f[a]||[],f[a][c]=e,u[a]||(u[a]=1,function(e,n){function t(t){var o=e[r.a].eventHandlers[n];for(var i in o){var a=o[i];!1===Qe(e,a)(t)&&t.preventDefault()}}e.removeEventListener(n,t),e.addEventListener(n,t)}(t,a))}var en=k();function nn(e,n,t,o){var a=B(t);for(var c in O[V(e)]=O[V(e)]||[],n)if("text"!==c&&"html"!==c)if(0==c.indexOf("on"))Ze(n[c],c,e,o);else{if("config"==c){a=B(t=H(e));var u=!0;O[t+"-config"]?u=!1:O[t+"-config"]={};var f=O[t+"-config"].configContext=O[t+"-config"].configContext||{};configs[t]=function(e,n){return function(){return e.apply(e,n)}}(n[c],[e,u,f,a]);continue}if(en){var d={key:c,value:n[c],node:e};en("attributes",c,d),d.change&&(n[c=d.key]=d.value)}if(O[V(e)]&&O[V(e)][c]==n[c])continue;null===n[c]?e.removeAttribute(c):"value"==c&&e.multiple&&e.selectedOptions&&Object(i.e)(n[c])?(e.value=n[c],n[c].forEach(function(n){Array.from(e.options).find(function(e){return e.value==n}).selected=!0})):c in e?"style"==c?e[c].cssText=n[c]:e[c]=n[c]:e.setAttribute(c,String(n[c])),O[V(e)][c]=n[c]}!function(e,n){if(e&&null!=n&&!F(e,n)){var t=String(n);if("INPUT"===e.nodeName)if(~["radio","checkbox"].indexOf(e.type)){if(e.name){var r=l(E()).querySelectorAll("[name="+e.name+"]");if(r.length>1){var o=!0,i=!1,a=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var f=c.value;if(f.value==t){f.checked=!0;break}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}}}else t!=e.value&&(e.value=t);else"SELECT"!==e.nodeName&&(e.firstChild?e.firstChild.textContent=t:e.appendChild(e.ownerDocument.createTextNode(t)));"SELECT"===e.nodeName&&t&&(e.value=t)}}(e,n.text),function(e,n){if(Object(i.e)(n))for(var t in n)K(e,n[t],t);else if(!Object(i.g)(n)||F(e,n))e&&null!=n&&!F(e,n)&&(e.innerHTML=n);else{if(n[r.a]&&n[r.a].scid&&!r.b[n[r.a].scid]){var o=e.cloneNode(1);o[r.a]={childof:n[r.a].scid},r.b[n[r.a].scid]=o}K(e,n,0)}}(e,n.html)}var tn=k();var rn=function(e){var n=r.c.createElement("template");return n.innerHTML=e,n.content.children[0]};function on(e){if(Object(i.i)(e)&&"<"==e.trim()[0])return rn(e)}function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cn=A(),un=function(e,n,t,o){var a=e((t=function(e){var n=[];return e.replace(/\[(.+?)\]/g,function(e,t){n.push(t)}),n}(o=H(n))).join("."),o);if(!a||!Object(i.g)(a))return fn(n,a,o);We(n,a),n[r.a]=n[r.a]||{},n[r.a].isItem=!0,n[r.a].dataPass={index:t},e.draw&&e.draw()};function fn(e,n,t,o){var a,c=cn&&cn.innerMods,u=B(t),f=on(n);if(f&&(n=f),n&&Object(i.g)(n))We(e,n);else{if("function"==typeof n)return un(n,e,u,t);if("object"!==an(n))return fn(e,{_text:n},t);c&&c[E()]&&n[c[E()][0]]&&!n[c[E()][0]].draw&&c[E()][1].destroy(),(a=function(e,n){var t;for(var o in n){var i=n[o];void 0===i?i="":null===i&&-1===["onunload"].indexOf(o)?(e[r.a].detached=e[r.a].detached||[],e[r.a].detached[o]=1,Je(e,o)):e[r.a].detached&&e[r.a].detached[o]&&(Be(e,o,i.nodeType),e[r.a].detached[o]=0),("_"===o[0]&&"_"!==o[1]||"on"==o.substr(0,2))&&(t=t||{},"on"==o.substr(0,2)?t[o]=i:t[o.substr(1)]=i)}return t}(e,n))&&nn(e,a,t,o),function(e,n,t){var o;for(var i in n){var a=n[i];if(!~r.d.indexOf(i)&&"_"!==i[0]&&"on"!=i.substr(0,2)){if(o=He(e,i),tn){var c={key:i,value:a,node:e};tn("values","*",c),c.change&&(a=c.value)}dn(o,a,t+"/"+i)}}}(e,n,t)}}function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dn=function e(n,t,o){var a,c;if(n){if(null===t&&o)Je(n,o);else{if(null===t&&!o)return n[r.a].detached=1,Je(n);n[r.a]&&n[r.a].detached&&!o&&(n[r.a].detached=0,Be(n))}var u=Y(n);if(c=Object(i.e)(t)){if(N[o]&&0===u.length&&(N[o].parent.insertAdjacentHTML("beforeend",N[o].node),u=Y(N[o].parent.childNodes)),!u.length)return;var f=u[0].parentNode;N[o]||(N[o]={node:u[0].cloneNode(1).outerHTML,parent:f});for(var l=r.c.createDocumentFragment(),d=0;u.length<t.length;)N[o]?(f.insertAdjacentHTML("beforeend",N[o].node),a=f.lastChild):a=u[0].cloneNode(1),$(a,++d,o),u.push(a),l.appendChild(a);f.appendChild(l);var s=t.map(function(e){return e&&e._key});if(u.length!=t.length&&-1===s.indexOf(void 0)||(t=t.map(function(e,n){if("object"===ln(e)){if(u[n][r.a]=u[n][r.a]||{},u[n][r.a].__key&&"undefined"===ln(e._key))return e._key=u[n][r.a].__key,e;"undefined"===ln(e._key)&&(e._key=r.a+n),u[n][r.a].__key=e._key}return e})),u.length>t.length)if(0===t.length||"object"!==ln(t[0]))for(;u.length>t.length;)(f=(a=u.pop()).parentNode)&&R(a);else{var v=[],p=t.map(function(e){return e._key});u=u.filter(function(e,n){var t;return"undefined"==ln(e[r.a])?t=1:~p.indexOf(e[r.a].__key)&&!~v.indexOf(e[r.a].__key)||(v.push(e[r.a].__key),t=1),t?(R(e),!1):(v.push(e[r.a].__key),!0)})}}for(var y=0;y<u.length;y++)if(c)u[y]&&e(u[y],t[y],y);else{var b=$(u[y],y+1,o);t&&"object"==ln(t)&&t.hasOwnProperty("_key")&&!Object(i.g)(t)&&(u[y][r.a].isItem=!0,u[y][r.a].dataPass=t),fn(u[y],t,b,o)}}};I(function e(n){var t=Ce.getItem(n.id);if(n.children)for(var i=0;i<n.children.length;i++)e(n.children[i]);~t?(Object(o.a)("onunload",fe(t),n,t),Oe(t),de(t),L(se(t))):n[r.a]&&n[r.a].scid&&Object(o.a)("onunload",{},n,n[r.a].scid)}),x(function(e,n,t){var i;e.id&&Ce.isItem(e.id)&&(i=Ce.getItem(e.id)),!i&&e[r.a]&&e[r.a].scid?Object(o.a)("onunload",{},e,e[r.a].scid):i&&fe(i).onbeforeunload?Object(o.a)("onbeforeunload",fe(i),e,i,0,function(){i&&Object(o.a)("onunload",fe(i),e,i),n()}):(i&&Object(o.a)("onunload",fe(i),e,i,1),n())}),h={getMod:ye,getProps:le,innerMods:ue},m=G,b=Ce,v=Me,s=function(e,n){var t=E();C(se(n)),dn(e,fe(n)),C(t)};var sn=function(e){return l(Ce.getItemVal(e))},vn=t(3),pn=["#KEY",".KEY","KEY"],yn=function(e,n){var t;for(var r in pn){var o=pn[r].replace("KEY",n);if(t=e.querySelector(o))break}return t},bn=function(e){if(Object(i.i)(e)){if(t=on(e))return t;var n=sn(~ce||void 0),t=yn(n||vn.a.doc,e);if(t)return t}return e},hn=0,mn=function(e){return Object(i.g)(e)&&(e.id||(e.id=++hn),r.e[e.id]=e,e=e.id),e},gn=function(e,n){return Object(o.a)("willload",fe(e),n,e,1)},On=function(e,n){if(l(Ce.getItemVal(e))&&ve(e))return Object(o.a)("didload",fe(e),n,e,1)},jn=function(e,n){var t=function(e,n){l(n)?G(l(n),e):Ce.isItem(n)&&mag.clear(e)}.bind({},e,n);pe(e,t)},Sn=function(e,n,t,r,a){var c=Ce.getItem(n);n=mn(e);var u=Object(i.k)(le(c));On(c,e),ve(c)&&Object(o.a)("willgetprops",fe(c),e,c,0,t)||(be(e.id,c,r,t),u!=Object(i.k)(le(c))&&(a=1),jn(c,e.id),gn(c,e)||G(e,c,a).then(function(){On(c,e)}))};function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Nn=[],kn={},wn=0,xn=function(e,n,t,o){Nn[e]=Nn[e]||[];var a=function(e,n,t,r,o){"object"==_n(o)&&(r=Object(i.j)(Object(i.c)(r),o),o=0),e<0&&!o&&(o=1);var c=n.id+(r.key?"."+r.key+".":"")+(o||"");!kn[c]||r.key||~a._id||(c+=++wn);var u=kn[c]=kn[c]||n.cloneNode(1);if(u.id=c,Ce.isItem(c))return Sn(u,c,r,t),u;var f=Pe(u.id);return e<0?e=a._id=f:Nn[e].push({instanceId:f,subscribe:subscriberHandler.bind({},f)}),Sn(u,c,r,t),u}.bind({},e,n,t,o);return a._id=e,a.clones=function(){return Nn[a._id]},a.destroy=function(e){destroyerHandler(a._id,a.clones,e)},a.getId=function(){return a._id},a.rafBounce=function(e){return e?r.g[a._id]=1:!1===e&&(r.g[a._id]=0),!!r.g[a._id]},a.draw=function(e){return vn.a.redraw(n,a._id,e)},a.getState=function(){return fe(a._id)},a.getProps=function(){return le(a._id)},a.subscribe=function(e){return subscriberHandler(a._id,e)},a};x(function(e,n){e[r.a]&&e[r.a].scid?Object(o.a)("onunload",{},e,e[r.a].scid):n()}),I(function e(n){if(n.children)for(var t=0;t<n.children.length;t++)e(n.children[t]);n[r.a]&&n[r.a].scid&&Object(o.a)("onunload",{},n,n[r.a].scid)});var In=function(e){if(Object(i.i)(e)){var n;if(n=on(e))return n;if(n=yn(r.c,e))return n}return e};function En(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Pn=0;function An(e){var n=[];for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i=r.reduce(function e(t,r){if(r&&r.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(r=r.childNodes),!Array.isArray(r)){if("object"===Cn(r)&&r instanceof Node){var o="p-".concat(++Pn,"-").concat(Date.now());return n.push({id:o,node:r}),t.concat("<".concat(r.nodeName,' id="').concat(o,'"></').concat(r.nodeName,">"))}return r&&"function"==typeof r.item&&"number"==typeof r.length?t.concat(Array.prototype.reduce.call(r,e,[])):t.concat(r)}t.concat(r)},[]).join("").replace(/^\s*</,"<").replace(/>\s*$/,">"),a=e.createElement("template");a.innerHTML=i;var c=a.content;n.forEach(function(e){var n=e.id,t=e.node,r=c.querySelector("".concat(t.nodeName,"#").concat(n));r.parentNode.replaceChild(t,r)});for(var u=!1,f=0;f<r.length;f++)if(""!=r[f]){if(r[f]instanceof Node){u=!0;break}break}if(1!=c.childNodes.length||u)return c;var l=c.firstChild;return c.removeChild(l),l}var Tn=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];var i=n.reduce(function(e,t,o){return e.concat(t,o+1===n.length?[]:r[o])},[]);return An.apply(void 0,[e].concat(En(i)))}.apply(void 0,[r.c,e].concat(t))};vn.a._handler=function(e,n,t){return Fn(e,n,t,dn,In)},vn.a.dom=Tn;var Mn=vn.a;function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vn=0,Hn=function(e,n,t,a){var c,u=[],f=e.cloneNode(1),l=[],d=function d(s){var v,p=e;void 0!==(s=s||{}).key&&(v=s.key+"-"+d.id);var y,b=void 0!==s.key?s.key+"-"+d.id:d.id;if(l[b]||(l[b]="object"==Ln(t)?Object(i.c)(t):t),"object"==Ln(s)&&(s=Object(i.d)(l[b],s)),v&&!u[v]?p=u[v]=f.cloneNode(1):v&&u[v]&&(p=u[v]),void 0!==Ln(d)&&s&&s.key&&d.key&&d.key!=b&&Object(o.a)("onunload",s,p,d.key),c&&c==p[r.a].scid)throw Error("MagJS Error - recursive call:"+c);p[r.a]=p[r.a]||{},Mn._cprops[b]&&"object"==Ln(s)&&(s.children=r.b[b]),d.props=s,d.key=b,d.fake=a;try{var h=Mn._current;Mn._current=d,y=n(s),c=p[r.a].scid=b;var m=E();m&&m[r.a]&&m[r.a].scid&&(p[r.a].pscid=m[r.a].scid),C(p),dn(p,y)}finally{Object(o.a)("didupdate",s,p,b),C(m),c=0,Mn._current=h}return p};return d.id=++Vn,d.element=f,d},Fn=function(e,n,t,o,a,c){if(e=a(e),n=a(n),t=t||{},Object(i.g)(n)&&Object(i.g)(e))n[r.a]||o(n,e);else{if("function"==typeof n&&Object(i.g)(e)){try{Hn(e.cloneNode(1),n,t,!0)()}catch(e){}return Hn(e,n,t)}if(c)return c(e,n,t)}};vn.a._handler=function(e,n,t){return Fn(e,n,t,dn,bn,function(e,n,t){return xn(-1,l(mn(e)),n,t)})};var qn=vn.a;qn.hook=Me,qn.hookin=function(e,n,t){Ae[e].push({context:{},handler:t,key:n})},qn.redraw=G,qn.begin=function(e){void 0===W[e]?W[e]=1:W[e]++},qn.end=function(e){if(W[e]>1)W[e]--;else{W[e]=0;var n=Ce.getItemVal(e);G(l(n),e)}};qn.module=function(e,n,t){t=t||{};var r=function(e,n){var t=n?e+"-"+n:e;return Ce.isItem(t)?Ce.getItem(t):Pe(t)}(e=mn(e),t.key),o=Dn(t,r,n,e);if(o)return xn(r,o,n,Object(i.c)(t))};var Dn=function(e,n,t,r){e.retain||Oe(n);var o=l(r);if(be(r,n,t,e),jn(n,r),!gn(n,o))return G(o,n,1).then(function(){On(n,o)}),o};qn.clear=function(e){Ce.removeItem(e),Oe(e),L(se(e))};qn.getNode=l;n.default=qn}]);