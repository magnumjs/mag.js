/*! mag.js - 1.4.0 | (c)2020  https://github.com/magnumjs | MIT */
var mag=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){}),n.d(t,"h",function(){}),n.d(t,"i",function(){return f});var r="__magnum__",o=[],i=[],a=[],u=["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","willupdate","didupdate","didload","willload","isupdate"],c=document,f=function(e){return e}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"h",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"d",function(){return f}),n.d(t,"g",function(){return l}),n.d(t,"j",function(){return s}),n.d(t,"f",function(){return v}),n.d(t,"e",function(){return y});var o=function(e){var t=r(e);return null!=e&&("object"==t||"function"==t)},i=function(e){return o(e)?Object.assign({},e):e},a=function(e){var t=function(){return e.apply(e,arguments)};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},u=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},c=function(){return Object.assign.apply({},arguments)},f=function e(t,n,r){for(var i in n)if(void 0===n[i])delete n[i];else if(r&&o(n[i]))return e(t[i],n[i]);return c(t,n)},l=function(e){return e&&1===e.nodeType},d=function(e,t){return"function"==typeof t?""+t:t},s=function(e){return JSON.stringify(e,d)},v=function(e){for(var t in e)if(e.hasOwnProperty(t))return 0;return 1},y=function(e){return Array.isArray(e)}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(0),o=[],i=function(e,t,n){var r=e+"-"+t;return o[r]=o[r]||[],o[r].push(n),function(){var e=o[r].indexOf(n);return o[r].splice(e,1)}},a=function(e,t,n,i,a,u){var c;Object(r.i)(i);var f=t&&t[e];f&&!f.called&&(c=f.call(void 0,n,void 0,i,u),a&&(f.called=1));var l=e+"-"+i;if(o[l]){var d=o[l].slice(),s=!0,v=!1,y=void 0;try{for(var p,b=d[Symbol.iterator]();!(s=(p=b.next()).done);s=!0){(0,p.value)(t,void 0,n)}}catch(e){v=!0,y=e}finally{try{s||null==b.return||b.return()}finally{if(v)throw y}}}if(Object(r.i)(-1),!1===c)return!0}},function(e,t,n){"use strict";var r=n(0),o=function e(t,n,r){return e._handler(t,n,r)};o._handler=function(){},o.rafBounceIds=r.g,o._cprops=r.b,o.doc=r.c,t.a=o},function(e,t,n){var r=n(7);n(5),n(6),e.exports=r.default},function(e,t,n){"use strict";n.r(t),n.d(t,"useState",function(){return c});var r=n(3);n.d(t,"mag",function(){return r.a});var o=n(1);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={},c=function(e){var t=Object(o.b)(r.a._current),n=t.key||t.id,a=t.props,c=t,f=(t.element,u[n]);if(!f){f={name:n,setValue:function(e){var t=Object(o.c)(e);"function"==typeof e&&(t=Object(o.c)(e(f.value))),t!==f.value&&(Object(o.h)(t)?f.value=i({},f.value,t):f.value=t,f.render(i({},a)))},render:c,value:Object(o.c)(e)},u[n]=f}return[f.value,f.setValue]};r.a.useState=c},function(e,t,n){"use strict";n.r(t),n.d(t,"useEffect",function(){return f});var r=n(3);n.d(t,"mag",function(){return r.a});var o=n(1),i=n(2),a={},u=function(e){return new Promise(function(t){requestAnimationFrame(function(){var n="function"==typeof e&&e();t(n)})})},c=function(e,t,n,r){var a=t[n];if(a)a&&!e?("function"==typeof a.callback&&a.callback(),u(r).then(function(e){return a.callback=e})):a&&!Object(o.a)(e,a.value)&&(a.value=e.slice(),"function"==typeof a.callback&&a.callback(),u(r).then(function(e){return a.callback=e}));else{a={name:n,func:r,value:e&&e.slice()},t[n]=a,u(r).then(function(e){return a.callback=e});var c=Object(i.b)("onunload",n,function(){"function"==typeof a.callback&&a.callback(),delete t[n],c()})}},f=function(e,t){r.a._current.element;var n=Object(o.b)(r.a._current),u=n.key||n.id;n.props,n.element;if(!n.fake)var f=Object(i.b)("didupdate",u,function(){r.a.doc.body.contains(arguments.length<=2?void 0:arguments[2])?c(t,a,u,e):function(e,t,n,o,i){var a=setInterval(function(){r.a.doc.body.contains(t)&&(clearInterval(a),c(n,o,e,i))},10)}(u,arguments.length<=2?void 0:arguments[2],t,a,e),f()})};r.a.useEffect=f},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(2),i=n(1);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u="/";function c(e,t,n,o){var c=new WeakSet;return new Proxy(e,{get:function(e,f,l){var d,s=e[f];if("symbol"==a(f))return s;if("object"!==a(s)||"symbol"===a(s)||null===s||"function"==typeof s||Array.isArray(s)||!Object(i.h)(s)||s.then||s.draw)f in e||~r.d.indexOf(f.toString())||n||"_"==f[0]||(s=e({},t,n,o+u+f));else if(d=s,!c.has(d))return c.add(s),e(s,t,n,o+u+f);var v=t({type:"get",object:e,name:f,path:o,oldValue:Reflect.get(e,f,l)});return void 0!==v&&(s=v==r.a?void 0:v),s},deleteProperty:function(e,n){return t({type:"delete",name:n,object:e,oldValue:Reflect.get(e,n)}),Reflect.deleteProperty(e,n)},set:function(e,n,r,o){var i=Reflect.get(e,n,o);return i===r&&"length"!==n||(t({type:"set",name:n,object:e,oldValue:i}),Reflect.set(e,n,r,o))}})}var f=function e(t,n,r,o){for(var f in t){var l=a(t[f]);Array.isArray(t[f])&&t[f].length<101?t[f]=c(t[f],n):"object"==l&&null!==t[f]&&"symbol"!=a(f)&&"symbol"!=l&&"function"!=l&&Object(i.h)(t[f])&&(t[f]=e(t[f],n,r,o+u+f))}return c(t,n,r,o||u)};function l(e,t){if(r.e[e]&&!t)return r.e[e];var n=r.c.getElementById(e);return n&&(r.e[e]=n),r.e[e]}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s,v,y,p,b,h,m,g=[],O=[],j="function",S=[],_=[],k={},N=function(){return v},x=function(){},I=function(e){return x=e},w=function(e){return y=e},P=function(){return p},E=function(e){return p=e},A=function(){return b},C=function(){return h},M=function(){return m},T=0,L=function(e){_[e]&&delete _[e]};function V(e,t){return e[r.a]=e[r.a]||{},e[r.a].uid&&!t||(e[r.a].uid=++T),e[r.a].uid}function H(e,t){var n=V(e);return S[n]&&!t?S[n]:S[n]=R(e)}function F(e,t){var n=V(e);if(_[P()]=_[P()]||[],_[P()][n]&&_[P()][n]==t)return 1;_[P()][n]=t}function q(e){var t="",n=function e(t){return b&&t.id&&b.isItem(t.id)?t:t.parentNode?e(t.parentNode):void 0}(e),r=function(e){for(var t=1;e=e.previousElementSibling;)++t;return t}(e);return n&&(t+='id("'+(n.id||n.tagName)+'")'),t+="/"+e.tagName+"["+r+"]"}function R(e,t){if(e.id&&P()===e.id||P()===e)return'id("'+(e.id||e.tagName)+'")';if(e===r.c.body)return e.tagName;var n=0;if(e.parentNode)for(var o=e.parentNode.childNodes,i=0,a=o.length;i<a;i++){var u=o[i];if(u===e)return R(e.parentNode)+(e.tagName?"/"+e.tagName+"["+(n+1)+"]":"");1===u.nodeType&&u.tagName===e.tagName&&n++}}function U(e){var t=R(e);e&&O[t+"-config"]&&O[t+"-config"].configContext&&d(O[t+"-config"].configContext.onunload)===j&&(O[t+"-config"].configContext.onunload(O[t+"-config"].configContext,e,t),delete O[t+"-config"],delete g[t]),y&&y(e),e.parentNode&&e.parentNode.removeChild(e)}function B(e){var t=e&&parseInt(e.split("[").pop().slice(0,-1));return t?parseInt(t)-1:0}var J=[];function D(e,t,n){var o=V(e);if(S[o])return S[o];if(J[o])return J[o];var i=+n==+n?t+n:t,a='id("'+("object"==d(P())?P().tagName:P())+'")'+("string"==typeof n?n.split(")")[1]+"/":"/")+e.tagName+"["+i+"]";return J[o]=e[r.a].xpath=a}function G(e,t,n){if(!(!t||e.childNodes[n]&&e.childNodes[n].isEqualNode(t))){for(var r=K(e.childNodes),o=0,i=r.length;o<i;o++)r[o]&&e.removeChild(r[o]);e.childNodes[n]?e.replaceChild(t,e.childNodes[n]):e.appendChild(t)}}function K(e){var t;if(null==e.length&&(e=[e]),!Object(i.e)(e)){t=[];for(var n=0;n<e.length;n+=1)e[n]&&t.push(e[n]);e=t}return e}var Y=function(e,t,n){return function(e,t,n){if(l(e.id,1),_e(e.id,t)&&e){var r=fe(t);if(!Object(o.a)("isupdate",r,e,t)){if(ge(t)&&!n)return 0;if(!Object(o.a)("willupdate",r,e,t)){Se(e,t);var i=P();E(e.id),ct(e,r),E(i),function(e,t){for(var n in t)n.startsWith('id("'+e+'")/')&&t[n]()}(e.id,g),Object(o.a)("didupdate",r,e,t),n||ge(t)}}}}.bind({},e,t,n)},$=[],W=function(e,t,n){if(!$[t]){if(!e||void 0===t)throw Error("Mag.JS - Id or node invalid: "+Ee.getItemVal(t));if(!_e(e.id,t))return{then:function(e){return e()}};if(n&&g.splice(0,g.length),n&&Oe(t),ue==t)throw Error("Mag.JS - recursive call:"+t);return we(t,Y(e,t,n))}},X=function(e,t){var n=P();E(e);var r=He(e,t);return E(n),r};function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Q="_value",Z=function(e,t,n,r){var o,i=n.toString().split(".");if(i.length>=3)r=function(e,t){for(var n=1;n<e.length;n++){var r=e[n],o=e[n+1],i=X(Array.isArray(t)?t[0]:t,r);if(o&&!isNaN(Number(o)))t=i[o];else if(i&&i.length&&o&&n+2<e.length)t=X(i[0],o);else if(i&&i.length&&(t=i,n+2==e.length))break}return Array.isArray(t)?t[0]:t}(i,r),o=X(r,t);else{var a=parseInt(i.pop()),u=isNaN(a)?0:a;o=X(r[u]?r[u]:r,t)}return function(e,t,n,r){var o=[];for(var i in e){var a=e[i];te(a)&&(o.push(a),ee(a,t,n,r))}if(o.length)return 1==o.length?o[0]:o;return!1}(o,e,t,r)};function ee(e,t,n,o){if(e[r.a]=e[r.a]||{},!e[r.a].eventOnFocus){var i=function(t,n,o,i){var a=~["radio","checkbox"].indexOf(e.type);if(this[r.a].dirty||(this[r.a].dirty=1),e.selectedOptions)var u=Array.prototype.map.call(e.selectedOptions,function(e){return e.value});a?"_checked"in n||Q in n?n._checked=this.checked:this.checked&&(n[o]=this.value):void 0!==n[Q]?n[Q]=u||this.value:void 0!==n._text&&(n._text=u||this.value),W(t,Ee.getItem(t.id))}.bind(e,o,t,n);e.addEventListener("click",i),e.addEventListener("input",i),e.addEventListener("change",i),e.addEventListener("focus",i),e[r.a].eventOnFocus=1}}function te(e){return e&&~["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)}var ne=function(e,t,n,o){var i=n[t];~[Q,"_checked","_text"].indexOf(t)&&"string"==typeof e&&(t=e.split(".").pop());var a=function(e){for(var t in e)if(te(e[t]))return e[t];return!1}(X(o,t));if("function"!=typeof i&&a){var u=Z.bind({},n,t,e,o);u(),Object.defineProperty(n,t,{configurable:!0,get:function(){var t=u();return t&&"undefined"!==t.value&&t[r.a]&&t[r.a].dirty&&t.value!==i?(i=t.value,W(o,e,1),t.value):i},set:function(e){var t=u();t&&"undefined"!==t.value&&t.value!==e&&e!==i&&(t.value=e,i=e)}})}},re=function e(t,n,r){for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];o==Q||"object"!==z(a)||Object(i.g)(a)?ne.bind({},t,o,n,r)():(Object(i.h)(a)&&Object(i.f)(a)&&(a[Q]=""),e(t+"."+o,a,r))}};function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ie=[],ae={runningViewInstance:-1,cache:[]},ue=ae.runningViewInstance,ce=ae.innerMods=[],fe=ae.getState=function(e){return ie[e][1]};ae.setState=function(e,t){ie[e][1]=t},ae.getView=function(e){return ie[e][0]};var le=ae.getProps=function(e){return ie[e]&&ie[e][2]};ae.setProps=function(e,t){return ie[e][2]=t};var de=ae.remove=function(e){ie[e]&&(ie[e]=0)},se=ae.getId=function(e){return ie[e]&&ie[e][3]},ve=ae.exists=function(e){return"object"==oe(ie[e])},ye=ae.setFrameId=function(e,t){ie[e][4]=t};ae.getFrameId=function(e){return ie[e][4]};var pe=ae.getMod=function(e){return ie[e]&&ie[e][5]},be=function(e,t,n,r){if(ie[t])return r.key&&r.key==ae.getProps(t).key?ae.setProps(t,Object(i.c)(Object(i.i)(ae.getProps(t),r))):ae.setProps(t,r),ie[t];(function(e,t){for(var n in t=t||e,e){var r=e[n];"function"!=typeof r||~["controller","view"].indexOf(n)||(e[n]=r.bind(t))}})(n=Object(i.c)(n),n),ie[t]=[0,0,0,0,0,0],ae.setProps(t,r);var o={controller:function(r){return n.props=ae.getProps(t),n.state=r,n.element=l(e),(n.controller||function(){}).call(r,n.props)||r},view:function(e,t,r){n.element=r,n.state=t,n.props=ae.getProps(e),n.view&&n.view.call(n,t,n.props,r)}.bind({},t)};return ie[t][0]=o.view,ie[t][3]=e,ie[t][1]=function(e,t,n){return new e(f({},me.bind({},"state",t)))}(o.controller,t),ie[t][5]=n,ie[t]},he=[];var me=function(e,t,n){if("get"!=n.type||"props"==e||~r.d.indexOf(n.name.toString())||void 0!==n.oldValue)"set"==n.type&&"props"!=e&&n.object[n.name]&&n.object[n.name].draw&&"function"==typeof n.object[n.name].draw&&(ae.innerMods[ae.getId(t)]=[n.name,n.object[n.name]]);else{var o=l(ae.getId(t));if(n.path&&"/"==n.path[0])var a=function(e,t){var n=e,r=t.split("/"),o=!0,i=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(f){var l=mag._find(n,f);l.length&&(n=l)}}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return n}(o,n.path);a&&"$"!=n.path.split("/").pop()[0]&&(a=a[0]);var u=function(e,t){var n=e.name;if(void 0===e.object[e.name]&&"_"!=n[0]){var o=mag._find(t,n),i="$"===n[0],a=[];return o.length?(o.forEach(function(n){var o;if(n&&n.type&&!~["submit","button"].indexOf(n.type)){if(n.value&&n.value.length>0)if("checkbox"==n.type||"radio"==n.type)if(n.checked&&((o={})._checked=!0),i)o?o._value=n.value:o={_value:n.value};else{var u=t.querySelectorAll("[name="+n.name+"]");if(u.length){var c=!0,f=!1,l=void 0;try{for(var d,s=u[Symbol.iterator]();!(c=(d=s.next()).done);c=!0){var v=d.value;v.checked&&(o?o._value=v.value:o={_value:v.value})}}catch(e){f=!0,l=e}finally{try{c||null==s.return||s.return()}finally{if(f)throw l}}}}else o={_value:n.multiple&&Array.prototype.map.call(n.selectedOptions,function(e){return e.value})||n.value}}else void 0===e.oldValue&&void 0===e.object[e.name]&&n&&!~["submit","button"].indexOf(n.type)&&1==n.childNodes.length&&n.childNodes[0].textContent.trim()&&(o={_text:n.childNodes[0].textContent.trim()});o?a.push(o):n&&!n.hasChildNodes()&&a.push(r.a)}),0===a.length?void 0:i?a:a[0]&&void 0!==a[0]._value?a[0]._value:a[0]&&a[0]._text?a[0]._text:a[0]):r.a}if("_"==n[0]){var u=n.substr(1);if(t.length){for(var c in a=[],t){var f,l=t[c];void 0===(f=l[u])&&(f=l.getAttribute(u)),a.push(f)}return a}return void 0===(f=t[u])&&(f=t.getAttribute(u)),f}}(n,a||o);if(null!==u&&"object"==oe(u)&&n.object&&Object(i.i)(u,n.object[n.name]),u)return ae.cached[t]=0,u}var c=ae.getFrameId(t);"function"==typeof c&&"set"==n.type&&(cancelAnimationFrame(he[t]),he[t]=requestAnimationFrame(c))};var ge=ae.iscached=function(e){var t=Object(i.j)([ae.getProps(e),ae.getState(e)]);if(e in ae.cache&&ae.cache[e]==t)return!0;ae.cache[e]=t},Oe=ae.clear=function(e){~e&&ae.cache[e]&&ae.cache.splice(e,1)};ae.cached=[];var je,Se=function(e,t){ae.runningViewInstance=t,ae.cached[t]||(re(t,ae.getState(t),e),ae.cached[t]=1);try{ae.exists(t)&&ae.getView(t)(ae.getState(t),e)}finally{ae.runningViewInstance=-1}},_e=function(e,t){return!(t<0||t!=Ee.getItem(e))||e==se(t)},ke={},Ne=[],xe=[],Ie=[],we=function(e,t){return new Promise(function(n){r.f||r.g[e]&&t?(xe[e]&&(Ie[e](),cancelAnimationFrame(xe[e])),Ie[e]=n,xe[e]=requestAnimationFrame(function(r){xe[e]=0,t(),n()})):(t&&Ne.push(t),je||(je=requestAnimationFrame(function(t){return function(e,t,n){var r;je=0;do{var o=Ne.shift();o&&o(),r=performance.now()}while(Ne.length&&Pe(r,t));Ne.length?we(n).then(e):e()}(n,t,e)})))})};function Pe(e,t){return!r.h||e-t<r.h}var Ee={i:[],isItem:function(e){return~Ee.i.indexOf(e)},setItem:function(e){return Ee.i[Ee.i.length]=e},getItem:function(e){return Ee.i.indexOf(e)},getItemVal:function(e){return Ee.i[e]},removeItem:function(e){return Ee.i.splice(Ee.i.indexOf(e),1)}};ke.items=Ee,ke.getItemInstanceIdAll=function(){return Ee.i};var Ae=function(e){return Ee.isItem(e)?Ee.getItem(e):(Ee.setItem(e),Ee.getItem(e))},Ce={values:[],attributes:[],elementMatcher:[]},Me=function(e,t,n,r,o,i){e[n][r].key==t&&(i={v:o.value,k:o.key},o.change=!1,e[n][r].handler.call(e[n][r].context,o),i!=={v:o.value,k:o.key}&&(o.change=!0))},Te=function(e,t,n){for(var r=0,o=Ce[e].length;r<o;r++)Me(Ce,t,e,r,n)},Le=N(),Ve=A();function He(e,t,n){var r=function(e){var t=[];if(e){var n=e.childNodes;if(n)for(var r=0;r<n.length;r+=1)1===n[r].nodeType&&Fe(n[r])&&t.push(n[r])}return t}(e),o=[],i=t,a="$"===t[0];"$"===i[0]&&(i=i.substr(1));for(var u=0;u<r.length;u+=1)qe(r[u],i)&&o.push(r[u]);if(!o.length||a)for(u=0;u<r.length&&(!(o=o.concat(He(r[u],t,!0))).length||a);u++);if(!n&&!o.length&&Le){var c={key:t,value:o,node:e};Le("elementMatcher",t,c),c.change&&(o=c.value)}return o}function Fe(e){return P()&&e.id&&e.id!=P()&&Ve&&Ve.isItem(e.id)?0:1}function qe(e,t){var n=" "+e.className+" ";return e.id===t||~n.indexOf(" "+t+" ")||e.name===t||e.nodeName.toLowerCase()===t.toLowerCase()||e.getAttribute("data-bind")===t}var Re=x,Ue=[];function Be(e,t,n){(t?He(e,t):K(e.childNodes.length?e.childNodes:e)).forEach(function(e){var t=V(e);if(t in Ue){if(!n)for(var r in Ue[t])e.appendChild(Ue[t][r]);delete Ue[t]}})}function Je(e,t){var n=0,r=function(e){if(1==++n)for(;e.lastChild;)U(e.lastChild)};(t?He(e,t):K(e)).forEach(function(e){var t=V(e);e.childNodes.length&&(Ue[t]=K(e.childNodes));for(var n in Ue[t]){var o=Ue[t][n];Re(o,function(){r(e)},1)}r(e)})}var De=A(),Ge=M(),Ke=C(),Ye=s;function $e(e,t){if(!F(e,t.outerHTML)&&(!t.id&&!e.childNodes[0]||t.id&&!r.c.getElementById(t.id)||e.firstChild&&!e.firstChild.isEqualNode(t))){var n;if(De&&(n=De.getItem(t.id)),De&&~n&&e.hasChildNodes()){var i=De.getItem(getId()),a=e.cloneNode(1);a[r.a]={childof:i},Ke&&Ke.getProps&&(Ke.getProps(n).children=a),Ge(t,n)}else t[r.a]&&t[r.a].scid&&!r.b[t[r.a].scid]&&((a=e.cloneNode(1))[r.a]={childof:t[r.a].scid},r.b[t[r.a].scid]=a);for(;e.lastChild;)U(e.lastChild);if(t[r.a]&&void 0!==t[r.a].childof){e.innerHTML=t.innerHTML;var u=t[r.a].childof;!r.b[u]&&Ye&&(Ye(e,u),Object(o.b)("willupdate",u,function(){Ye(e,u)}))}else e.appendChild(t)}}var We=M(),Xe=A(),ze=C();function Qe(e,t){return function(e,t,n){var o,i=q(t),a=(o=i)&&~o.indexOf("id(")&&o.split('id("')[1].split('")')[0];a||(a=function e(t,n){if(t[r.a]&&t[r.a].scid&&!t[r.a].pscid)n=t;else if(n)return n;if(t.parentNode)return e(t.parentNode,n)}(t));var u=P();E(a);var c=function e(t){return t&&t[r.a]&&t[r.a].isItem?t:t.parentNode?e(t.parentNode):void 0}(t),f=c&&R(c),l=B(f),d=B(i=i),s={path:f,node:c,data:((c||{})[r.a]||[]).dataPass,index:l};E(u);var v=r.c.getElementById(a),y=Xe&&Xe.getItem(a),p=e.call(~y&&ze?ze.getMod(y):v,n,d,t,s);if(a&&v){var b=function(){We(v,y,1)};p&&p.then?p.then(function(e){return b(),e}):b()}return p}.bind({},t,e)}function Ze(e,t,n,o){var i=t.substr(2).toLowerCase(),a=("string"==typeof o?o.split("/")[0]:"")+"-"+n[r.a].uid,u=n[r.a].events=n[r.a].events||[],c=n[r.a].eventHandlers=n[r.a].eventHandlers||[];c[i]=c[i]||[],c[i][a]=e,u[i]||(u[i]=1,function(e,t){function n(n){var o=e[r.a].eventHandlers[t];for(var i in o){var a=o[i];!1===Qe(e,a)(n)&&n.preventDefault()}}e.removeEventListener(t,n),e.addEventListener(t,n)}(n,i))}var et=N();function tt(e,t,n,o){var a=B(n);for(var u in O[V(e)]=O[V(e)]||[],t)if("text"!==u&&"html"!==u)if(0==u.indexOf("on"))Ze(t[u],u,e,o);else{if("config"==u){a=B(n=H(e));var c=!0;O[n+"-config"]?c=!1:O[n+"-config"]={};var f=O[n+"-config"].configContext=O[n+"-config"].configContext||{};configs[n]=function(e,t){return function(){return e.apply(e,t)}}(t[u],[e,c,f,a]);continue}if(et){var d={key:u,value:t[u],node:e};et("attributes",u,d),d.change&&(t[u=d.key]=d.value)}if(O[V(e)]&&O[V(e)][u]==t[u])continue;null===t[u]?e.removeAttribute(u):"value"==u&&e.multiple&&e.selectedOptions&&Object(i.e)(t[u])?(e.value=t[u],t[u].forEach(function(t){Array.from(e.options).find(function(e){return e.value==t}).selected=!0})):u in e?"style"==u?e[u].cssText=t[u]:e[u]=t[u]:e.setAttribute(u,String(t[u])),O[V(e)][u]=t[u]}!function(e,t){if(e&&null!=t&&!F(e,t)){var n=String(t);if("INPUT"===e.nodeName)if(~["radio","checkbox"].indexOf(e.type)){if(e.name){var r=l(P()).querySelectorAll("[name="+e.name+"]");if(r.length>1){var o=!0,i=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(f.value==n){f.checked=!0;break}}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}}}else n!=e.value&&(e.value=n);else"SELECT"!==e.nodeName&&(e.firstChild?e.firstChild.textContent=n:e.appendChild(e.ownerDocument.createTextNode(n)));"SELECT"===e.nodeName&&n&&(e.value=n)}}(e,t.text),function(e,t){if(Object(i.e)(t))for(var n in t)G(e,t[n],n);else if(!Object(i.g)(t)||F(e,t.outerHTML))e&&null!=t&&!F(e,t)&&(e.innerHTML=t);else{if(t[r.a]&&t[r.a].scid&&!r.b[t[r.a].scid]){var o=e.cloneNode(1);o[r.a]={childof:t[r.a].scid},r.b[t[r.a].scid]=o}G(e,t,0)}}(e,t.html)}var nt=N();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ot=C(),it=function(e,t,n,r){var o=e((n=function(e){var t=[];return e.replace(/\[(.+?)\]/g,function(e,n){t.push(n)}),t}(r=H(t))).join("."),r);if(!o||!Object(i.g)(o))return at(t,o,r);$e(t,o),t[MAGNUM]=t[MAGNUM]||{},t[MAGNUM].isItem=!0,t[MAGNUM].dataPass={index:n},e.draw&&e.draw()};function at(e,t,n,o){var a,u=ot&&ot.innerMods,c=B(n);if(t&&Object(i.g)(t))$e(e,t);else{if("function"==typeof t)return it(t,e,c,n);if("object"!==rt(t))return at(e,{_text:t},n);u&&u[P()]&&t[u[P()][0]]&&!t[u[P()][0]].draw&&u[P()][1].destroy(),(a=function(e,t){var n;for(var o in t){var i=t[o];void 0===i?i="":null===i&&-1===["onunload"].indexOf(o)?(e[r.a].detached=e[r.a].detached||[],e[r.a].detached[o]=1,Je(e,o)):e[r.a].detached&&e[r.a].detached[o]&&(Be(e,o,i.nodeType),e[r.a].detached[o]=0),("_"===o[0]&&"_"!==o[1]||"on"==o.substr(0,2))&&(n=n||{},"on"==o.substr(0,2)?n[o]=i:n[o.substr(1)]=i)}return n}(e,t))&&tt(e,a,n,o),function(e,t,n){var o;for(var i in t){var a=t[i];if(!~r.d.indexOf(i)&&"_"!==i[0]&&"on"!=i.substr(0,2)){if(o=He(e,i),nt){var u={key:i,value:a,node:e};nt("values","*",u),u.change&&(a=u.value)}ct(o,a,n+"/"+i)}}}(e,t,n)}}function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ct=function e(t,n,o){var a,u;if(t){if(null===n&&o)Je(t,o);else{if(null===n&&!o)return t[r.a].detached=1,Je(t);t[r.a]&&t[r.a].detached&&!o&&(t[r.a].detached=0,Be(t))}var c=K(t);if(u=Object(i.e)(n)){if(k[o]&&0===c.length&&(k[o].parent.insertAdjacentHTML("beforeend",k[o].node),c=K(k[o].parent.childNodes)),!c.length)return;var f=c[0].parentNode;k[o]||(k[o]={node:c[0].cloneNode(1).outerHTML,parent:f});for(var l=r.c.createDocumentFragment(),d=0;c.length<n.length;)k[o]?(f.insertAdjacentHTML("beforeend",k[o].node),a=f.lastChild):a=c[0].cloneNode(1),D(a,++d,o),c.push(a),l.appendChild(a);f.appendChild(l);var s=n.map(function(e){return e&&e._key});if(c.length!=n.length&&-1===s.indexOf(void 0)||(n=n.map(function(e,t){if("object"===ut(e)){if(c[t][r.a]=c[t][r.a]||{},c[t][r.a].__key&&"undefined"===ut(e._key))return e._key=c[t][r.a].__key,e;"undefined"===ut(e._key)&&(e._key=r.a+t),c[t][r.a].__key=e._key}return e})),c.length>n.length)if(0===n.length||"object"!==ut(n[0]))for(;c.length>n.length;)(f=(a=c.pop()).parentNode)&&U(a);else{var v=[],y=n.map(function(e){return e._key});c=c.filter(function(e,t){var n;return"undefined"==ut(e[r.a])?n=1:~y.indexOf(e[r.a].__key)&&!~v.indexOf(e[r.a].__key)||(v.push(e[r.a].__key),n=1),n?(U(e),!1):(v.push(e[r.a].__key),!0)})}}for(var p=0;p<c.length;p++)if(u)c[p]&&e(c[p],n[p],p);else{var b=D(c[p],p+1,o);n&&"object"==ut(n)&&n.hasOwnProperty("_key")&&!Object(i.g)(n)&&(c[p][r.a].isItem=!0,c[p][r.a].dataPass=n),at(c[p],n,b,o)}}};w(function e(t){var n=Ee.getItem(t.id);if(t.children)for(var i=0;i<t.children.length;i++)e(t.children[i]);~n?(Object(o.a)("onunload",fe(n),t,n),Oe(n),de(n),L(se(n))):t[r.a]&&t[r.a].scid&&Object(o.a)("onunload",{},t,t[r.a].scid)}),I(function(e,t,n){var i;e.id&&Ee.isItem(e.id)&&(i=Ee.getItem(e.id)),!i&&e[r.a]&&e[r.a].scid?Object(o.a)("onunload",{},e,e[r.a].scid):i&&fe(i).onbeforeunload?Object(o.a)("onbeforeunload",fe(i),e,i,0,function(){i&&Object(o.a)("onunload",fe(i),e,i),t()}):(i&&Object(o.a)("onunload",fe(i),e,i,1),t())}),h={getMod:pe,getProps:le,innerMods:ce},m=W,b=Ee,v=Te,s=function(e,t){var n=P();E(se(t)),ct(e,fe(t)),E(n)};var ft=function(e){return l(Ee.getItemVal(e))},lt=n(3),dt=function(e){var t=r.c.createElement("template");return t.innerHTML=e,t.content.children[0]},st=["#KEY",".KEY","KEY"],vt=function(e,t){var n;for(var r in st){var o=st[r].replace("KEY",t);if(n=e.querySelector(o))break}return n},yt=function(e){if("string"==typeof e){if("<"==e.trim()[0]&&(t=dt(e)))return t;var t,n=ft(~ue||void 0);if(t=vt(n||lt.a.doc,e))return t}return e},pt=0,bt=function(e){return Object(i.g)(e)&&(e.id||(e.id=++pt),r.e[e.id]=e,e=e.id),e},ht=function(e,t){return Object(o.a)("willload",fe(e),t,e,1)},mt=function(e,t){if(l(Ee.getItemVal(e))&&ve(e))return Object(o.a)("didload",fe(e),t,e,1)},gt=function(e,t){var n=function(e,t){l(t)?W(l(t),e):Ee.isItem(t)&&mag.clear(e)}.bind({},e,t);ye(e,n)},Ot=function(e,t,n,r,a){var u=Ee.getItem(t);t=bt(e);var c=Object(i.j)(le(u));mt(u,e),ve(u)&&Object(o.a)("willgetprops",fe(u),e,u,0,n)||(be(e.id,u,r,n),c!=Object(i.j)(le(u))&&(a=1),gt(u,e.id),ht(u,e)||W(e,u,a).then(function(){mt(u,e)}))};function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var St=[],_t={},kt=0,Nt=function(e,t,n,o){St[e]=St[e]||[];var a=function(e,t,n,r,o){"object"==jt(o)&&(r=Object(i.i)(Object(i.c)(r),o),o=0),e<0&&!o&&(o=1);var u=t.id+(r.key?"."+r.key+".":"")+(o||"");!_t[u]||r.key||~a._id||(u+=++kt);var c=_t[u]=_t[u]||t.cloneNode(1);if(c.id=u,Ee.isItem(u))return Ot(c,u,r,n),c;var f=Ae(c.id);return e<0?e=a._id=f:St[e].push({instanceId:f,subscribe:subscriberHandler.bind({},f)}),Ot(c,u,r,n),c}.bind({},e,t,n,o);return a._id=e,a.clones=function(){return St[a._id]},a.destroy=function(e){destroyerHandler(a._id,a.clones,e)},a.getId=function(){return a._id},a.rafBounce=function(e){return e?r.g[a._id]=1:!1===e&&(r.g[a._id]=0),!!r.g[a._id]},a.draw=function(e){return lt.a.redraw(t,a._id,e)},a.getState=function(){return fe(a._id)},a.getProps=function(){return le(a._id)},a.subscribe=function(e){return subscriberHandler(a._id,e)},a};I(function(e,t){e[r.a]&&e[r.a].scid?Object(o.a)("onunload",{},e,e[r.a].scid):t()}),w(function e(t){if(t.children)for(var n=0;n<t.children.length;n++)e(t.children[n]);t[r.a]&&t[r.a].scid&&Object(o.a)("onunload",{},t,t[r.a].scid)});var xt=function(e){if("string"==typeof e){var t;if("<"==e.trim()[0]&&(t=dt(e)))return t;if(t=vt(r.c,e))return t}return e};lt.a._handler=function(e,t,n){return At(e,t,n,ct,xt)};var It=lt.a;function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Pt=0,Et=function(e,t,n,a){var u,c=[],f=e.cloneNode(1),l=[],d=function d(s){var v,y=e;void 0!==(s=s||{}).key&&(v=s.key+"-"+d.id);var p,b=void 0!==s.key?s.key+"-"+d.id:d.id;if(l[b]||(l[b]="object"==wt(n)?Object(i.c)(n):n),"object"==wt(s)&&(s=Object(i.d)(l[b],s)),v&&!c[v]?y=c[v]=f.cloneNode(1):v&&c[v]&&(y=c[v]),void 0!==wt(d)&&s&&s.key&&d.key&&d.key!=b&&Object(o.a)("onunload",s,y,d.key),u&&u==y[r.a].scid)throw Error("MagJS Error - recursive call:"+u);y[r.a]=y[r.a]||{},It._cprops[b]&&"object"==wt(s)&&(s.children=r.b[b]),d.props=s,d.key=b,d.fake=a;try{var h=It._current;It._current=d,p=t(s),u=y[r.a].scid=b;var m=P();m&&m[r.a]&&m[r.a].scid&&(y[r.a].pscid=m[r.a].scid),E(y),ct(y,p)}finally{Object(o.a)("didupdate",s,y,b),E(m),u=0,It._current=h}return y};return d.id=++Pt,d.element=f,d},At=function(e,t,n,o,a,u){if(e=a(e),t=a(t),n=n||{},Object(i.g)(t)&&Object(i.g)(e))t[r.a]||o(t,e);else{if("function"==typeof t&&Object(i.g)(e)){try{Et(e.cloneNode(1),t,n,!0)()}catch(e){}return Et(e,t,n)}if(u)return u(e,t,n)}};lt.a._handler=function(e,t,n){return At(e,t,n,ct,yt,function(e,t,n){return Nt(-1,l(bt(e)),t,n)})};var Ct=lt.a;Ct.hook=Te,Ct.hookin=function(e,t,n){Ce[e].push({context:{},handler:n,key:t})},Ct.redraw=W,Ct.begin=function(e){void 0===$[e]?$[e]=1:$[e]++},Ct.end=function(e){if($[e]>1)$[e]--;else{$[e]=0;var t=Ee.getItemVal(e);W(l(t),e)}};Ct.module=function(e,t,n){n=n||{};var r=function(e,t){var n=t?e+"-"+t:e;return Ee.isItem(n)?Ee.getItem(n):Ae(n)}(e=bt(e),n.key),o=Mt(n,r,t,e);if(o)return Nt(r,o,t,Object(i.c)(n))};var Mt=function(e,t,n,r){e.retain||Oe(t);var o=l(r);if(be(r,t,n,e),gt(t,r),!ht(t,o))return W(o,t,1).then(function(){mt(t,o)}),o};Ct.clear=function(e){Ee.removeItem(e),Oe(e),L(se(e))};Ct.getNode=l;t.default=Ct}]);