/*! mag.js - 1.5.2 | (c)2020  https://github.com/magnumjs | MIT */
var mag=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=5)}([function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){}),n.d(t,"h",function(){}),n.d(t,"i",function(){return f});var r="__magnum__",o=[],i=[],a=[],c=["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","willupdate","didupdate","didload","willload","isupdate"],u=document,f=function(e){return e}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"h",function(){return o}),n.d(t,"i",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"j",function(){return f}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"k",function(){return v}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return y});var o=function(e){var t=r(e);return null!=e&&("object"==t||"function"==t)},i=function(e){return"string"==typeof e},a=function(e){return o(e)?Object.assign({},e):e},c=function(e){var t=function(){return e.apply(e,arguments)};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},u=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},f=function(){return Object.assign.apply({},arguments)},l=function e(t,n,r){for(var i in n)if(void 0===n[i])delete n[i];else if(r&&o(n[i]))return e(t[i],n[i]);return f(t,n)},d=function(e){return e&&1===e.nodeType},s=function(e,t){return"function"==typeof t?""+t:t},v=function(e){return JSON.stringify(e,s)},p=function(e){for(var t in e)if(e.hasOwnProperty(t))return 0;return 1},y=function(e){return Array.isArray(e)}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(0),o=[],i=function(e,t,n){var r=e+"-"+t;return o[r]=o[r]||[],o[r].push(n),function(){var e=o[r].indexOf(n);return o[r].splice(e,1)}},a=function(e,t,n,i,a,c){var u;Object(r.i)(i);var f=t&&t[e];f&&!f.called&&(u=f.call(void 0,n,void 0,i,c),a&&(f.called=1));var l=e+"-"+i;if(o[l]){var d=o[l].slice(),s=!0,v=!1,p=void 0;try{for(var y,b=d[Symbol.iterator]();!(s=(y=b.next()).done);s=!0){(0,y.value)(t,void 0,n)}}catch(e){v=!0,p=e}finally{try{s||null==b.return||b.return()}finally{if(v)throw p}}}if(Object(r.i)(-1),!1===u)return!0}},function(e,t,n){"use strict";var r=n(0),o=function e(t,n,r){return e._handler(t,n,r)};o._handler=function(){},o.rafBounceIds=r.g,o._cprops=r.b,o.doc=r.c,t.a=o},function(e,t,n){"use strict";(function(e){var r=n(0),o=n(1);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a,c=0;function u(e){var t=[],n=[];for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];var f=i.reduce(function e(r,i){i&&i.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(i=i.childNodes),Object(o.i)(i)&&i.split("<").forEach(function(e){var t=e[0];if(t&&t==t.toUpperCase()&&t!=t.toLowerCase()){var r=e.split("/")[0].split(" ")[0];n.push({name:r})}});if(!Object(o.e)(i)){if(Object(o.h)(i)&&Object(o.g)(i)){var a="p-".concat(++c,"-").concat(Date.now());return t.push({id:a,node:i}),r.concat("<".concat(i.nodeName,' id="').concat(a,'"></').concat(i.nodeName,">"))}return i&&"function"==typeof i.item&&"number"==typeof i.length?r.concat(Array.prototype.reduce.call(i,e,[])):r.concat(i)}r.concat(i)},[]).join("").replace(/^\s*</,"<").replace(/>\s*$/,">"),l=e.createElement("template");l.innerHTML=f;var d=l.content;t.forEach(function(e){var t=e.id,n=e.node,r=d.querySelector("".concat(n.nodeName,"#").concat(t));r.parentNode.replaceChild(n,r)}),n.forEach(function(e){var t=d.querySelectorAll(e.name);t&&t.forEach(function(t){for(var n={},r=0,o=t.attributes.length;r<o;r++){var i=t.attributes[r];n[i.name]=i.value}if("function"==typeof a[e.name]){var c=a[e.name](n);t.parentNode.replaceChild(c,t)}})});for(var s=!1,v=0;v<i.length;v++)if(""!=i[v]){if(i[v]instanceof Node){s=!0;break}break}if(1!=d.childNodes.length||s)return d;var p=d.firstChild;return d.removeChild(p),p}t.a=function(t){a=e||this||window;for(var n=arguments.length,o=new Array(n>1?n-1:0),c=1;c<n;c++)o[c-1]=arguments[c];return function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=t.reduce(function(e,n,o){return e.concat(n,o+1===t.length?[]:r[o])},[]);return u.apply(void 0,[e].concat(i(a)))}.apply(void 0,[r.c,t].concat(o))}}).call(this,n(6))},function(e,t,n){var r=n(9);n(7),n(8),e.exports=r.default},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"useState",function(){return u});var r=n(3);n.d(t,"mag",function(){return r.a});var o=n(1);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={},u=function(e){var t=Object(o.b)(r.a._current),n=t.key||t.id,a=t.props,u=t,f=(t.element,c[n]);if(!f){f={name:n,setValue:function(e){var t=Object(o.c)(e);"function"==typeof e&&(t=Object(o.c)(e(f.value))),t!==f.value&&(Object(o.h)(t)?f.value=i({},f.value,t):f.value=t,f.render(i({},a)))},render:u,value:Object(o.c)(e)},c[n]=f}return[f.value,f.setValue]};r.a.useState=u},function(e,t,n){"use strict";n.r(t),n.d(t,"useEffect",function(){return f});var r=n(3);n.d(t,"mag",function(){return r.a});var o=n(1),i=n(2),a={},c=function(e){return new Promise(function(t){requestAnimationFrame(function(){var n="function"==typeof e&&e();t(n)})})},u=function(e,t,n,r){var a=t[n];if(a)a&&!e?("function"==typeof a.callback&&a.callback(),c(r).then(function(e){return a.callback=e})):a&&!Object(o.a)(e,a.value)&&(a.value=e.slice(),"function"==typeof a.callback&&a.callback(),c(r).then(function(e){return a.callback=e}));else{a={name:n,func:r,value:e&&e.slice()},t[n]=a,c(r).then(function(e){return a.callback=e});var u=Object(i.b)("onunload",n,function(){"function"==typeof a.callback&&a.callback(),delete t[n],u()})}},f=function(e,t){r.a._current.element;var n=Object(o.b)(r.a._current),c=n.key||n.id;n.props,n.element;if(!n.fake)var f=Object(i.b)("didupdate",c,function(){r.a.doc.body.contains(arguments.length<=2?void 0:arguments[2])?u(t,a,c,e):function(e,t,n,o,i){var a=setInterval(function(){r.a.doc.body.contains(t)&&(clearInterval(a),u(n,o,e,i))},10)}(c,arguments.length<=2?void 0:arguments[2],t,a,e),f()})};r.a.useEffect=f},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(2),i=n(1);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c="/";function u(e,t,n,o){var u=new WeakSet;return new Proxy(e,{get:function(e,f,l){var d,s=e[f];if("symbol"==a(f))return s;if("object"!==a(s)||"symbol"===a(s)||null===s||"function"==typeof s||Object(i.e)(s)||!Object(i.h)(s)||s.then||s.draw)f in e||~r.d.indexOf(f.toString())||n||"_"==f[0]||(s=e({},t,n,o+c+f));else if(d=s,!u.has(d))return u.add(s),e(s,t,n,o+c+f);var v=t({type:"get",object:e,name:f,path:o,oldValue:Reflect.get(e,f,l)});return void 0!==v&&(s=v==r.a?void 0:v),s},deleteProperty:function(e,n){return t({type:"delete",name:n,object:e,oldValue:Reflect.get(e,n)}),Reflect.deleteProperty(e,n)},set:function(e,n,r,o){var i=Reflect.get(e,n,o);return i===r&&"length"!==n||(t({type:"set",name:n,object:e,oldValue:i}),Reflect.set(e,n,r,o))}})}var f=function e(t,n,r,o){for(var f in t){var l=a(t[f]);Object(i.e)(t[f])&&t[f].length<101?t[f]=u(t[f],n):"object"==l&&null!==t[f]&&"symbol"!=a(f)&&"symbol"!=l&&"function"!=l&&Object(i.h)(t[f])&&(t[f]=e(t[f],n,r,o+c+f))}return u(t,n,r,o||c)};function l(e,t){if(r.e[e]&&!t)return r.e[e];var n=r.c.getElementById(e);return n&&(r.e[e]=n),r.e[e]}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s,v,p,y,b,h,m,g=[],O=[],j="function",S=[],_=[],N={},k=function(){return v},w=function(){},x=function(e){return w=e},I=function(e){return p=e},E=function(){return y},C=function(e){return y=e},P=function(){return b},A=function(){return h},T=function(){return m},M=0,L=function(e){_[e]&&delete _[e]};function V(e,t){return e[r.a]=e[r.a]||{},e[r.a].uid&&!t||(e[r.a].uid=++M),e[r.a].uid}function H(e,t){var n=V(e);return S[n]&&!t?S[n]:S[n]=D(e)}function F(e,t){var n=V(e);if(_[E()]=_[E()]||[],_[E()][n]&&_[E()][n]==t)return 1;_[E()][n]=t}function q(e){var t="",n=function e(t){return b&&t.id&&b.isItem(t.id)?t:t.parentNode?e(t.parentNode):void 0}(e),r=function(e){for(var t=1;e=e.previousElementSibling;)++t;return t}(e);return n&&(t+='id("'+(n.id||n.tagName)+'")'),t+="/"+e.tagName+"["+r+"]"}function D(e,t){if(e.id&&E()===e.id||E()===e)return'id("'+(e.id||e.tagName)+'")';if(e===r.c.body)return e.tagName;var n=0;if(e.parentNode)for(var o=e.parentNode.childNodes,i=0,a=o.length;i<a;i++){var c=o[i];if(c===e)return D(e.parentNode)+(e.tagName?"/"+e.tagName+"["+(n+1)+"]":"");1===c.nodeType&&c.tagName===e.tagName&&n++}}function R(e){var t=D(e);e&&O[t+"-config"]&&O[t+"-config"].configContext&&d(O[t+"-config"].configContext.onunload)===j&&(O[t+"-config"].configContext.onunload(O[t+"-config"].configContext,e,t),delete O[t+"-config"],delete g[t]),p&&p(e),e.parentNode&&e.parentNode.removeChild(e)}function B(e){var t=e&&parseInt(e.split("[").pop().slice(0,-1));return t?parseInt(t)-1:0}var J=[];function $(e,t,n){var o=V(e);if(S[o])return S[o];if(J[o])return J[o];var a=+n==+n?t+n:t,c='id("'+("object"==d(E())?E().tagName:E())+'")'+(Object(i.i)(n)?n.split(")")[1]+"/":"/")+e.tagName+"["+a+"]";return J[o]=e[r.a].xpath=c}function K(e,t,n){if(!(!t||e.childNodes[n]&&e.childNodes[n].isEqualNode(t))){for(var r=U(e.childNodes),o=0,i=r.length;o<i;o++)r[o]&&e.removeChild(r[o]);e.childNodes[n]?e.replaceChild(t,e.childNodes[n]):e.appendChild(t)}}function U(e){var t;if(null==e.length&&(e=[e]),!Object(i.e)(e)){t=[];for(var n=0;n<e.length;n+=1)e[n]&&t.push(e[n]);e=t}return e}var Y=function(e,t,n){return function(e,t,n){if(l(e.id,1),_e(e.id,t)&&e){var r=fe(t);if(!Object(o.a)("isupdate",r,e,t)){if(ge(t)&&!n)return 0;if(!Object(o.a)("willupdate",r,e,t)){Se(e,t);var i=E();C(e.id),lt(e,r),C(i),function(e,t){for(var n in t)n.startsWith('id("'+e+'")/')&&t[n]()}(e.id,g),Object(o.a)("didupdate",r,e,t),n||ge(t)}}}}.bind({},e,t,n)},W=[],G=function(e,t,n){if(!W[t]){if(!e||void 0===t)throw Error("Mag.JS - Id or node invalid: "+Ce.getItemVal(t));if(!_e(e.id,t))return{then:function(e){return e()}};if(n&&g.splice(0,g.length),n&&Oe(t),ce==t)throw Error("Mag.JS - recursive call:"+t);return Ie(t,Y(e,t,n))}},X=function(e,t){var n=E();C(e);var r=He(e,t);return C(n),r};function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Q="_value",Z=function(e,t,n,r){var o,a=n.toString().split(".");if(a.length>=3)r=function(e,t){for(var n=1;n<e.length;n++){var r=e[n],o=e[n+1],a=X(Object(i.e)(t)?t[0]:t,r);if(o&&!isNaN(Number(o)))t=a[o];else if(a&&a.length&&o&&n+2<e.length)t=X(a[0],o);else if(a&&a.length&&(t=a,n+2==e.length))break}return Object(i.e)(t)?t[0]:t}(a,r),o=X(r,t);else{var c=parseInt(a.pop()),u=isNaN(c)?0:c;o=X(r[u]?r[u]:r,t)}return function(e,t,n,r){var o=[];for(var i in e){var a=e[i];te(a)&&(o.push(a),ee(a,t,n,r))}if(o.length)return 1==o.length?o[0]:o;return!1}(o,e,t,r)};function ee(e,t,n,o){if(e[r.a]=e[r.a]||{},!e[r.a].eventOnFocus){var i=function(t,n,o,i){var a=~["radio","checkbox"].indexOf(e.type);if(this[r.a].dirty||(this[r.a].dirty=1),e.selectedOptions)var c=Array.prototype.map.call(e.selectedOptions,function(e){return e.value});a?"_checked"in n||Q in n?n._checked=this.checked:this.checked&&(n[o]=this.value):void 0!==n[Q]?n[Q]=c||this.value:void 0!==n._text&&(n._text=c||this.value),G(t,Ce.getItem(t.id))}.bind(e,o,t,n);e.addEventListener("click",i),e.addEventListener("input",i),e.addEventListener("change",i),e.addEventListener("focus",i),e[r.a].eventOnFocus=1}}function te(e){return e&&~["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)}var ne=function(e,t,n,o){var a=n[t];~[Q,"_checked","_text"].indexOf(t)&&Object(i.i)(e)&&(t=e.split(".").pop());var c=function(e){for(var t in e)if(te(e[t]))return e[t];return!1}(X(o,t));if("function"!=typeof a&&c){var u=Z.bind({},n,t,e,o);u(),Object.defineProperty(n,t,{configurable:!0,get:function(){var t=u();return t&&"undefined"!==t.value&&t[r.a]&&t[r.a].dirty&&t.value!==a?(a=t.value,G(o,e,1),t.value):a},set:function(e){var t=u();t&&"undefined"!==t.value&&t.value!==e&&e!==a&&(t.value=e,a=e)}})}},re=function e(t,n,r){for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];o==Q||"object"!==z(a)||Object(i.g)(a)?ne.bind({},t,o,n,r)():(Object(i.h)(a)&&Object(i.f)(a)&&(a[Q]=""),e(t+"."+o,a,r))}};function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ie=[],ae={runningViewInstance:-1,cache:[]},ce=ae.runningViewInstance,ue=ae.innerMods=[],fe=ae.getState=function(e){return ie[e][1]};ae.setState=function(e,t){ie[e][1]=t},ae.getView=function(e){return ie[e][0]};var le=ae.getProps=function(e){return ie[e]&&ie[e][2]};ae.setProps=function(e,t){return ie[e][2]=t};var de=ae.remove=function(e){ie[e]&&(ie[e]=0)},se=ae.getId=function(e){return ie[e]&&ie[e][3]},ve=ae.exists=function(e){return"object"==oe(ie[e])},pe=ae.setFrameId=function(e,t){ie[e][4]=t};ae.getFrameId=function(e){return ie[e][4]};var ye=ae.getMod=function(e){return ie[e]&&ie[e][5]},be=function(e,t,n,r){if(ie[t])return r.key&&r.key==ae.getProps(t).key?ae.setProps(t,Object(i.c)(Object(i.j)(ae.getProps(t),r))):ae.setProps(t,r),ie[t];(function(e,t){for(var n in t=t||e,e){var r=e[n];"function"!=typeof r||~["controller","view"].indexOf(n)||(e[n]=r.bind(t))}})(n=Object(i.c)(n),n),ie[t]=[0,0,0,0,0,0],ae.setProps(t,r);var o={controller:function(r){return n.props=ae.getProps(t),n.state=r,n.element=l(e),(n.controller||function(){}).call(r,n.props)||r},view:function(e,t,r){n.element=r,n.state=t,n.props=ae.getProps(e),n.view&&n.view.call(n,t,n.props,r)}.bind({},t)};return ie[t][0]=o.view,ie[t][3]=e,ie[t][1]=function(e,t,n){return new e(f({},me.bind({},"state",t)))}(o.controller,t),ie[t][5]=n,ie[t]},he=[];var me=function(e,t,n){if("get"!=n.type||"props"==e||~r.d.indexOf(n.name.toString())||void 0!==n.oldValue)"set"==n.type&&"props"!=e&&n.object[n.name]&&n.object[n.name].draw&&"function"==typeof n.object[n.name].draw&&(ae.innerMods[ae.getId(t)]=[n.name,n.object[n.name]]);else{var o=l(ae.getId(t));if(n.path&&"/"==n.path[0])var a=function(e,t){var n=e,r=t.split("/"),o=!0,i=!1,a=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var f=c.value;if(f){var l=mag._find(n,f);l.length&&(n=l)}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return n}(o,n.path);a&&"$"!=n.path.split("/").pop()[0]&&(a=a[0]);var c=function(e,t){var n=e.name;if(void 0===e.object[e.name]&&"_"!=n[0]){var o=mag._find(t,n),i="$"===n[0],a=[];return o.length?(o.forEach(function(n){var o;if(n&&n.type&&!~["submit","button"].indexOf(n.type)){if(n.value&&n.value.length>0)if("checkbox"==n.type||"radio"==n.type)if(n.checked&&((o={})._checked=!0),i)o?o._value=n.value:o={_value:n.value};else{var c=t.querySelectorAll("[name="+n.name+"]");if(c.length){var u=!0,f=!1,l=void 0;try{for(var d,s=c[Symbol.iterator]();!(u=(d=s.next()).done);u=!0){var v=d.value;v.checked&&(o?o._value=v.value:o={_value:v.value})}}catch(e){f=!0,l=e}finally{try{u||null==s.return||s.return()}finally{if(f)throw l}}}}else o={_value:n.multiple&&Array.prototype.map.call(n.selectedOptions,function(e){return e.value})||n.value}}else void 0===e.oldValue&&void 0===e.object[e.name]&&n&&!~["submit","button"].indexOf(n.type)&&1==n.childNodes.length&&n.childNodes[0].textContent.trim()&&(o={_text:n.childNodes[0].textContent.trim()});o?a.push(o):n&&!n.hasChildNodes()&&a.push(r.a)}),0===a.length?void 0:i?a:a[0]&&void 0!==a[0]._value?a[0]._value:a[0]&&a[0]._text?a[0]._text:a[0]):r.a}if("_"==n[0]){var c=n.substr(1);if(t.length){for(var u in a=[],t){var f,l=t[u];void 0===(f=l[c])&&(f=l.getAttribute(c)),a.push(f)}return a}return void 0===(f=t[c])&&(f=t.getAttribute(c)),f}}(n,a||o);if(null!==c&&"object"==oe(c)&&n.object&&Object(i.j)(c,n.object[n.name]),c)return ae.cached[t]=0,c}var u=ae.getFrameId(t);"function"==typeof u&&"set"==n.type&&(cancelAnimationFrame(he[t]),he[t]=requestAnimationFrame(u))};var ge=ae.iscached=function(e){var t=Object(i.k)([ae.getProps(e),ae.getState(e)]);if(e in ae.cache&&ae.cache[e]==t)return!0;ae.cache[e]=t},Oe=ae.clear=function(e){~e&&ae.cache[e]&&ae.cache.splice(e,1)};ae.cached=[];var je,Se=function(e,t){ae.runningViewInstance=t,ae.cached[t]||(re(t,ae.getState(t),e),ae.cached[t]=1);try{ae.exists(t)&&ae.getView(t)(ae.getState(t),e)}finally{ae.runningViewInstance=-1}},_e=function(e,t){return!(t<0||t!=Ce.getItem(e))||e==se(t)},Ne={},ke=[],we=[],xe=[],Ie=function(e,t){return new Promise(function(n){r.f||r.g[e]&&t?(we[e]&&(xe[e](),cancelAnimationFrame(we[e])),xe[e]=n,we[e]=requestAnimationFrame(function(r){we[e]=0,t(),n()})):(t&&ke.push(t),je||(je=requestAnimationFrame(function(t){return function(e,t,n){var r;je=0;do{var o=ke.shift();o&&o(),r=performance.now()}while(ke.length&&Ee(r,t));ke.length?Ie(n).then(e):e()}(n,t,e)})))})};function Ee(e,t){return!r.h||e-t<r.h}var Ce={i:[],isItem:function(e){return~Ce.i.indexOf(e)},setItem:function(e){return Ce.i[Ce.i.length]=e},getItem:function(e){return Ce.i.indexOf(e)},getItemVal:function(e){return Ce.i[e]},removeItem:function(e){return Ce.i.splice(Ce.i.indexOf(e),1)}};Ne.items=Ce,Ne.getItemInstanceIdAll=function(){return Ce.i};var Pe=function(e){return Ce.isItem(e)?Ce.getItem(e):(Ce.setItem(e),Ce.getItem(e))},Ae={values:[],attributes:[],elementMatcher:[]},Te=function(e,t,n,r,o,i){e[n][r].key==t&&(i={v:o.value,k:o.key},o.change=!1,e[n][r].handler.call(e[n][r].context,o),i!=={v:o.value,k:o.key}&&(o.change=!0))},Me=function(e,t,n){for(var r=0,o=Ae[e].length;r<o;r++)Te(Ae,t,e,r,n)},Le=k(),Ve=P();function He(e,t,n){var r=function(e){var t=[];if(e){var n=e.childNodes;if(n)for(var r=0;r<n.length;r+=1)1===n[r].nodeType&&Fe(n[r])&&t.push(n[r])}return t}(e),o=[],i=t,a="$"===t[0];"$"===i[0]&&(i=i.substr(1));for(var c=0;c<r.length;c+=1)qe(r[c],i)&&o.push(r[c]);if(!o.length||a)for(c=0;c<r.length&&(!(o=o.concat(He(r[c],t,!0))).length||a);c++);if(!n&&!o.length&&Le){var u={key:t,value:o,node:e};Le("elementMatcher",t,u),u.change&&(o=u.value)}return o}function Fe(e){return E()&&e.id&&e.id!=E()&&Ve&&Ve.isItem(e.id)?0:1}function qe(e,t){var n=" "+e.className+" ";return e.id===t||~n.indexOf(" "+t+" ")||e.name===t||e.nodeName.toLowerCase()===t.toLowerCase()||e.getAttribute("data-bind")===t}var De=w,Re=[];function Be(e,t,n){(t?He(e,t):U(e.childNodes.length?e.childNodes:e)).forEach(function(e){var t=V(e);if(t in Re){if(!n)for(var r in Re[t])e.appendChild(Re[t][r]);delete Re[t]}})}function Je(e,t){var n=0,r=function(e){if(1==++n)for(;e.lastChild;)R(e.lastChild)};(t?He(e,t):U(e)).forEach(function(e){var t=V(e);e.childNodes.length&&(Re[t]=U(e.childNodes));for(var n in Re[t]){var o=Re[t][n];De(o,function(){r(e)},1)}r(e)})}var $e=P(),Ke=T(),Ue=A(),Ye=s;function We(e,t){if(!F(e,t.outerHTML)&&(!t.id&&!e.childNodes[0]||t.id&&!r.c.getElementById(t.id)||e.firstChild&&!e.firstChild.isEqualNode(t))){var n;if($e&&(n=$e.getItem(t.id)),$e&&~n&&e.hasChildNodes()){var i=$e.getItem(getId()),a=e.cloneNode(1);a[r.a]={childof:i},Ue&&Ue.getProps&&(Ue.getProps(n).children=a),Ke(t,n)}else t[r.a]&&t[r.a].scid&&!r.b[t[r.a].scid]&&((a=e.cloneNode(1))[r.a]={childof:t[r.a].scid},r.b[t[r.a].scid]=a);for(;e.lastChild;)R(e.lastChild);if(t[r.a]&&void 0!==t[r.a].childof){e.innerHTML=t.innerHTML;var c=t[r.a].childof;!r.b[c]&&Ye&&(Ye(e,c),Object(o.b)("willupdate",c,function(){Ye(e,c)}))}else e.appendChild(t)}}var Ge=T(),Xe=P(),ze=A();function Qe(e,t){return function(e,t,n){var o,i=q(t),a=(o=i)&&~o.indexOf("id(")&&o.split('id("')[1].split('")')[0];a||(a=function e(t,n){if(t[r.a]&&t[r.a].scid&&!t[r.a].pscid)n=t;else if(n)return n;if(t.parentNode)return e(t.parentNode,n)}(t));var c=E();C(a);var u=function e(t){return t&&t[r.a]&&t[r.a].isItem?t:t.parentNode?e(t.parentNode):void 0}(t),f=u&&D(u),l=B(f),d=B(i=i),s={path:f,node:u,data:((u||{})[r.a]||[]).dataPass,index:l};C(c);var v=r.c.getElementById(a),p=Xe&&Xe.getItem(a),y=e.call(~p&&ze?ze.getMod(p):v,n,d,t,s);if(a&&v){var b=function(){Ge(v,p,1)};y&&y.then?y.then(function(e){return b(),e}):b()}return y}.bind({},t,e)}function Ze(e,t,n,o){var a=t.substr(2).toLowerCase(),c=(Object(i.i)(o)?o.split("/")[0]:"")+"-"+n[r.a].uid,u=n[r.a].events=n[r.a].events||[],f=n[r.a].eventHandlers=n[r.a].eventHandlers||[];f[a]=f[a]||[],f[a][c]=e,u[a]||(u[a]=1,function(e,t){function n(n){var o=e[r.a].eventHandlers[t];for(var i in o){var a=o[i];!1===Qe(e,a)(n)&&n.preventDefault()}}e.removeEventListener(t,n),e.addEventListener(t,n)}(n,a))}var et=k();function tt(e,t,n,o){var a=B(n);for(var c in O[V(e)]=O[V(e)]||[],t)if("text"!==c&&"html"!==c)if(0==c.indexOf("on"))Ze(t[c],c,e,o);else{if("config"==c){a=B(n=H(e));var u=!0;O[n+"-config"]?u=!1:O[n+"-config"]={};var f=O[n+"-config"].configContext=O[n+"-config"].configContext||{};configs[n]=function(e,t){return function(){return e.apply(e,t)}}(t[c],[e,u,f,a]);continue}if(et){var d={key:c,value:t[c],node:e};et("attributes",c,d),d.change&&(t[c=d.key]=d.value)}if(O[V(e)]&&O[V(e)][c]==t[c])continue;null===t[c]?e.removeAttribute(c):"value"==c&&e.multiple&&e.selectedOptions&&Object(i.e)(t[c])?(e.value=t[c],t[c].forEach(function(t){Array.from(e.options).find(function(e){return e.value==t}).selected=!0})):c in e?"style"==c?e[c].cssText=t[c]:e[c]=t[c]:e.setAttribute(c,String(t[c])),O[V(e)][c]=t[c]}!function(e,t){if(e&&null!=t&&!F(e,t)){var n=String(t);if("INPUT"===e.nodeName)if(~["radio","checkbox"].indexOf(e.type)){if(e.name){var r=l(E()).querySelectorAll("[name="+e.name+"]");if(r.length>1){var o=!0,i=!1,a=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var f=c.value;if(f.value==n){f.checked=!0;break}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}}}else n!=e.value&&(e.value=n);else"SELECT"!==e.nodeName&&(e.firstChild?e.firstChild.textContent=n:e.appendChild(e.ownerDocument.createTextNode(n)));"SELECT"===e.nodeName&&n&&(e.value=n)}}(e,t.text),function(e,t){if(Object(i.e)(t))for(var n in t)K(e,t[n],n);else if(!Object(i.g)(t)||F(e,t))e&&null!=t&&!F(e,t)&&(e.innerHTML=t);else{if(t[r.a]&&t[r.a].scid&&!r.b[t[r.a].scid]){var o=e.cloneNode(1);o[r.a]={childof:t[r.a].scid},r.b[t[r.a].scid]=o}K(e,t,0)}}(e,t.html)}var nt=k();var rt=function(e){var t=r.c.createElement("template");return t.innerHTML=e,t.content.children[0]};function ot(e){if(Object(i.i)(e)&&"<"==e.trim()[0])return rt(e)}function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var at=A(),ct=function(e,t,n,o){var a=e((n=function(e){var t=[];return e.replace(/\[(.+?)\]/g,function(e,n){t.push(n)}),t}(o=H(t))).join("."),o);if(!a||!Object(i.g)(a))return ut(t,a,o);We(t,a),t[r.a]=t[r.a]||{},t[r.a].isItem=!0,t[r.a].dataPass={index:n},e.draw&&e.draw()};function ut(e,t,n,o){var a,c=at&&at.innerMods,u=B(n),f=ot(t);if(f&&(t=f),t&&Object(i.g)(t))We(e,t);else{if("function"==typeof t)return ct(t,e,u,n);if("object"!==it(t))return ut(e,{_text:t},n);c&&c[E()]&&t[c[E()][0]]&&!t[c[E()][0]].draw&&c[E()][1].destroy(),(a=function(e,t){var n;for(var o in t){var i=t[o];void 0===i?i="":null===i&&-1===["onunload"].indexOf(o)?(e[r.a].detached=e[r.a].detached||[],e[r.a].detached[o]=1,Je(e,o)):e[r.a].detached&&e[r.a].detached[o]&&(Be(e,o,i.nodeType),e[r.a].detached[o]=0),("_"===o[0]&&"_"!==o[1]||"on"==o.substr(0,2))&&(n=n||{},"on"==o.substr(0,2)?n[o]=i:n[o.substr(1)]=i)}return n}(e,t))&&tt(e,a,n,o),function(e,t,n){var o;for(var i in t){var a=t[i];if(!~r.d.indexOf(i)&&"_"!==i[0]&&"on"!=i.substr(0,2)){if(o=He(e,i),nt){var c={key:i,value:a,node:e};nt("values","*",c),c.change&&(a=c.value)}lt(o,a,n+"/"+i)}}}(e,t,n)}}function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var lt=function e(t,n,o){var a,c;if(t){if(null===n&&o)Je(t,o);else{if(null===n&&!o)return t[r.a].detached=1,Je(t);t[r.a]&&t[r.a].detached&&!o&&(t[r.a].detached=0,Be(t))}var u=U(t);if(c=Object(i.e)(n)){if(N[o]&&0===u.length&&(N[o].parent.insertAdjacentHTML("beforeend",N[o].node),u=U(N[o].parent.childNodes)),!u.length)return;var f=u[0].parentNode;N[o]||(N[o]={node:u[0].cloneNode(1).outerHTML,parent:f});for(var l=r.c.createDocumentFragment(),d=0;u.length<n.length;)N[o]?(f.insertAdjacentHTML("beforeend",N[o].node),a=f.lastChild):a=u[0].cloneNode(1),$(a,++d,o),u.push(a),l.appendChild(a);f.appendChild(l);var s=n.map(function(e){return e&&e._key});if(u.length!=n.length&&-1===s.indexOf(void 0)||(n=n.map(function(e,t){if("object"===ft(e)){if(u[t][r.a]=u[t][r.a]||{},u[t][r.a].__key&&"undefined"===ft(e._key))return e._key=u[t][r.a].__key,e;"undefined"===ft(e._key)&&(e._key=r.a+t),u[t][r.a].__key=e._key}return e})),u.length>n.length)if(0===n.length||"object"!==ft(n[0]))for(;u.length>n.length;)(f=(a=u.pop()).parentNode)&&R(a);else{var v=[],p=n.map(function(e){return e._key});u=u.filter(function(e,t){var n;return"undefined"==ft(e[r.a])?n=1:~p.indexOf(e[r.a].__key)&&!~v.indexOf(e[r.a].__key)||(v.push(e[r.a].__key),n=1),n?(R(e),!1):(v.push(e[r.a].__key),!0)})}}for(var y=0;y<u.length;y++)if(c)u[y]&&e(u[y],n[y],y);else{var b=$(u[y],y+1,o);n&&"object"==ft(n)&&n.hasOwnProperty("_key")&&!Object(i.g)(n)&&(u[y][r.a].isItem=!0,u[y][r.a].dataPass=n),ut(u[y],n,b,o)}}};I(function e(t){var n=Ce.getItem(t.id);if(t.children)for(var i=0;i<t.children.length;i++)e(t.children[i]);~n?(Object(o.a)("onunload",fe(n),t,n),Oe(n),de(n),L(se(n))):t[r.a]&&t[r.a].scid&&Object(o.a)("onunload",{},t,t[r.a].scid)}),x(function(e,t,n){var i;e.id&&Ce.isItem(e.id)&&(i=Ce.getItem(e.id)),!i&&e[r.a]&&e[r.a].scid?Object(o.a)("onunload",{},e,e[r.a].scid):i&&fe(i).onbeforeunload?Object(o.a)("onbeforeunload",fe(i),e,i,0,function(){i&&Object(o.a)("onunload",fe(i),e,i),t()}):(i&&Object(o.a)("onunload",fe(i),e,i,1),t())}),h={getMod:ye,getProps:le,innerMods:ue},m=G,b=Ce,v=Me,s=function(e,t){var n=E();C(se(t)),lt(e,fe(t)),C(n)};var dt=function(e){return l(Ce.getItemVal(e))},st=n(3),vt=["#KEY",".KEY","KEY"],pt=function(e,t){var n;for(var r in vt){var o=vt[r].replace("KEY",t);if(n=e.querySelector(o))break}return n},yt=function(e){if(Object(i.i)(e)){if(n=ot(e))return n;var t=dt(~ce||void 0),n=pt(t||st.a.doc,e);if(n)return n}return e},bt=0,ht=function(e){return Object(i.g)(e)&&(e.id||(e.id=++bt),r.e[e.id]=e,e=e.id),e},mt=function(e,t){return Object(o.a)("willload",fe(e),t,e,1)},gt=function(e,t){if(l(Ce.getItemVal(e))&&ve(e))return Object(o.a)("didload",fe(e),t,e,1)},Ot=function(e,t){var n=function(e,t){l(t)?G(l(t),e):Ce.isItem(t)&&mag.clear(e)}.bind({},e,t);pe(e,n)},jt=function(e,t,n,r,a){var c=Ce.getItem(t);t=ht(e);var u=Object(i.k)(le(c));gt(c,e),ve(c)&&Object(o.a)("willgetprops",fe(c),e,c,0,n)||(be(e.id,c,r,n),u!=Object(i.k)(le(c))&&(a=1),Ot(c,e.id),mt(c,e)||G(e,c,a).then(function(){gt(c,e)}))};function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _t=[],Nt={},kt=0,wt=function(e,t,n,o){_t[e]=_t[e]||[];var a=function(e,t,n,r,o){"object"==St(o)&&(r=Object(i.j)(Object(i.c)(r),o),o=0),e<0&&!o&&(o=1);var c=t.id+(r.key?"."+r.key+".":"")+(o||"");!Nt[c]||r.key||~a._id||(c+=++kt);var u=Nt[c]=Nt[c]||t.cloneNode(1);if(u.id=c,Ce.isItem(c))return jt(u,c,r,n),u;var f=Pe(u.id);return e<0?e=a._id=f:_t[e].push({instanceId:f,subscribe:subscriberHandler.bind({},f)}),jt(u,c,r,n),u}.bind({},e,t,n,o);return a._id=e,a.clones=function(){return _t[a._id]},a.destroy=function(e){destroyerHandler(a._id,a.clones,e)},a.getId=function(){return a._id},a.rafBounce=function(e){return e?r.g[a._id]=1:!1===e&&(r.g[a._id]=0),!!r.g[a._id]},a.draw=function(e){return st.a.redraw(t,a._id,e)},a.getState=function(){return fe(a._id)},a.getProps=function(){return le(a._id)},a.subscribe=function(e){return subscriberHandler(a._id,e)},a};x(function(e,t){e[r.a]&&e[r.a].scid?Object(o.a)("onunload",{},e,e[r.a].scid):t()}),I(function e(t){if(t.children)for(var n=0;n<t.children.length;n++)e(t.children[n]);t[r.a]&&t[r.a].scid&&Object(o.a)("onunload",{},t,t[r.a].scid)});var xt=function(e){if(Object(i.i)(e)){var t;if(t=ot(e))return t;if(t=pt(r.c,e))return t}return e},It=n(4);st.a._handler=function(e,t,n){return Tt(e,t,n,lt,xt)},st.a.dom=It.a;var Et=st.a;function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Pt=0,At=function(e,t,n,a){var c,u=[],f=e.cloneNode(1),l=[],d=function d(s){var v,p=e;void 0!==(s=s||{}).key&&(v=s.key+"-"+d.id);var y,b=void 0!==s.key?s.key+"-"+d.id:d.id;if(l[b]||(l[b]="object"==Ct(n)?Object(i.c)(n):n),"object"==Ct(s)&&(s=Object(i.d)(l[b],s)),v&&!u[v]?p=u[v]=f.cloneNode(1):v&&u[v]&&(p=u[v]),void 0!==Ct(d)&&s&&s.key&&d.key&&d.key!=b&&Object(o.a)("onunload",s,p,d.key),c&&c==p[r.a].scid)throw Error("MagJS Error - recursive call:"+c);p[r.a]=p[r.a]||{},Et._cprops[b]&&"object"==Ct(s)&&(s.children=r.b[b]),d.props=s,d.key=b,d.fake=a;try{var h=Et._current;Et._current=d,y=t(s),c=p[r.a].scid=b;var m=E();m&&m[r.a]&&m[r.a].scid&&(p[r.a].pscid=m[r.a].scid),C(p),lt(p,y)}finally{Object(o.a)("didupdate",s,p,b),C(m),c=0,Et._current=h}return p};return d.id=++Pt,d.element=f,d},Tt=function(e,t,n,o,a,c){if(e=a(e),t=a(t),n=n||{},Object(i.g)(t)&&Object(i.g)(e))t[r.a]||o(t,e);else{if("function"==typeof t&&Object(i.g)(e)){try{At(e.cloneNode(1),t,n,!0)()}catch(e){}return At(e,t,n)}if(c)return c(e,t,n)}};st.a._handler=function(e,t,n){return Tt(e,t,n,lt,yt,function(e,t,n){return wt(-1,l(ht(e)),t,n)})};var Mt=st.a;Mt.hook=Me,Mt.hookin=function(e,t,n){Ae[e].push({context:{},handler:n,key:t})},Mt.redraw=G,Mt.begin=function(e){void 0===W[e]?W[e]=1:W[e]++},Mt.end=function(e){if(W[e]>1)W[e]--;else{W[e]=0;var t=Ce.getItemVal(e);G(l(t),e)}};Mt.module=function(e,t,n){n=n||{};var r=function(e,t){var n=t?e+"-"+t:e;return Ce.isItem(n)?Ce.getItem(n):Pe(n)}(e=ht(e),n.key),o=Lt(n,r,t,e);if(o)return wt(r,o,t,Object(i.c)(n))};var Lt=function(e,t,n,r){e.retain||Oe(t);var o=l(r);if(be(r,t,n,e),Ot(t,r),!mt(t,o))return G(o,t,1).then(function(){gt(t,o)}),o};Mt.clear=function(e){Ce.removeItem(e),Oe(e),L(se(e))};Mt.getNode=l;t.default=Mt}]);