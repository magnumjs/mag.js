/*! mag.js - 1.5.1 | (c)2020  https://github.com/magnumjs | MIT */
var mag=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=0)}([function(e,n,t){var r=t(1);e.exports=r.default},function(e,n,t){"use strict";t.r(n);var r,o="__magnum__",i=[],u=[],a=[],c=["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","willupdate","didupdate","didload","willload","isupdate"],f=document,l=function(e){return e},d=[],s=function(e,n,t){var r=e+"-"+n;return d[r]=d[r]||[],d[r].push(t),function(){var e=d[r].indexOf(t);return d[r].splice(e,1)}},v=function(e,n,t,r,o,i){var u;l(r);var a=n&&n[e];a&&!a.called&&(u=a.call(void 0,t,void 0,r,i),o&&(a.called=1));var c=e+"-"+r;if(d[c]){var f=d[c].slice(),s=!0,v=!1,p=void 0;try{for(var y,h=f[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){(0,y.value)(n,void 0,t)}}catch(e){v=!0,p=e}finally{try{s||null==h.return||h.return()}finally{if(v)throw p}}}if(l(-1),!1===u)return!0};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e){var n=p(e);return null!=e&&("object"==n||"function"==n)},h=function(e){return"string"==typeof e},m=function(e){return y(e)?Object.assign({},e):e},g=function(){return Object.assign.apply({},arguments)},b=function(e){return e&&1===e.nodeType},S=function(e,n){return"function"==typeof n?""+n:n},_=function(e){return JSON.stringify(e,S)},N=function(e){for(var n in e)if(e.hasOwnProperty(n))return 0;return 1},k=function(e){return Array.isArray(e)};function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I="/";function w(e,n,t,r){var i=new WeakSet;return new Proxy(e,{get:function(e,u,a){var f,l=e[u];if("symbol"==x(u))return l;if("object"!==x(l)||"symbol"===x(l)||null===l||"function"==typeof l||k(l)||!y(l)||l.then||l.draw)u in e||~c.indexOf(u.toString())||t||"_"==u[0]||(l=e({},n,t,r+I+u));else if(f=l,!i.has(f))return i.add(l),e(l,n,t,r+I+u);var d=n({type:"get",object:e,name:u,path:r,oldValue:Reflect.get(e,u,a)});return void 0!==d&&(l=d==o?void 0:d),l},deleteProperty:function(e,t){return n({type:"delete",name:t,object:e,oldValue:Reflect.get(e,t)}),Reflect.deleteProperty(e,t)},set:function(e,t,r,o){var i=Reflect.get(e,t,o);return i===r&&"length"!==t||(n({type:"set",name:t,object:e,oldValue:i}),Reflect.set(e,t,r,o))}})}var O=function e(n,t,r,o){for(var i in n){var u=x(n[i]);k(n[i])&&n[i].length<101?n[i]=w(n[i],t):"object"==u&&null!==n[i]&&"symbol"!=x(i)&&"symbol"!=u&&"function"!=u&&y(n[i])&&(n[i]=e(n[i],t,r,o+I+i))}return w(n,t,r,o||I)};function j(e,n){if(i[e]&&!n)return i[e];var t=f.getElementById(e);return t&&(i[e]=t),i[e]}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E,A,P,T,M,L,V,H=[],F=[],q="function",R=[],D=[],B={},J=function(){return A},$=function(){},K=function(e){return $=e},Y=function(e){return P=e},U=function(){return T},W=function(e){return T=e},G=function(){return M},X=function(){return L},z=function(){return V},Q=0,Z=function(e){D[e]&&delete D[e]};function ee(e,n){return e[o]=e[o]||{},e[o].uid&&!n||(e[o].uid=++Q),e[o].uid}function ne(e,n){var t=ee(e);return R[t]&&!n?R[t]:R[t]=oe(e)}function te(e,n){var t=ee(e);if(D[U()]=D[U()]||[],D[U()][t]&&D[U()][t]==n)return 1;D[U()][t]=n}function re(e){var n="",t=function e(n){return M&&n.id&&M.isItem(n.id)?n:n.parentNode?e(n.parentNode):void 0}(e),r=function(e){for(var n=1;e=e.previousElementSibling;)++n;return n}(e);return t&&(n+='id("'+(t.id||t.tagName)+'")'),n+="/"+e.tagName+"["+r+"]"}function oe(e,n){if(e.id&&U()===e.id||U()===e)return'id("'+(e.id||e.tagName)+'")';if(e===f.body)return e.tagName;var t=0;if(e.parentNode)for(var r=e.parentNode.childNodes,o=0,i=r.length;o<i;o++){var u=r[o];if(u===e)return oe(e.parentNode)+(e.tagName?"/"+e.tagName+"["+(t+1)+"]":"");1===u.nodeType&&u.tagName===e.tagName&&t++}}function ie(e){var n=oe(e);e&&F[n+"-config"]&&F[n+"-config"].configContext&&C(F[n+"-config"].configContext.onunload)===q&&(F[n+"-config"].configContext.onunload(F[n+"-config"].configContext,e,n),delete F[n+"-config"],delete H[n]),P&&P(e),e.parentNode&&e.parentNode.removeChild(e)}function ue(e){var n=e&&parseInt(e.split("[").pop().slice(0,-1));return n?parseInt(n)-1:0}var ae=[];function ce(e,n,t){var r=ee(e);if(R[r])return R[r];if(ae[r])return ae[r];var i=+t==+t?n+t:n,u='id("'+("object"==C(U())?U().tagName:U())+'")'+(h(t)?t.split(")")[1]+"/":"/")+e.tagName+"["+i+"]";return ae[r]=e[o].xpath=u}function fe(e,n,t){if(!(!n||e.childNodes[t]&&e.childNodes[t].isEqualNode(n))){for(var r=le(e.childNodes),o=0,i=r.length;o<i;o++)r[o]&&e.removeChild(r[o]);e.childNodes[t]?e.replaceChild(n,e.childNodes[t]):e.appendChild(n)}}function le(e){var n;if(null==e.length&&(e=[e]),!k(e)){n=[];for(var t=0;t<e.length;t+=1)e[t]&&n.push(e[t]);e=n}return e}var de=function(e,n,t){return function(e,n,t){if(j(e.id,1),De(e.id,n)&&e){var r=Oe(n);if(!v("isupdate",r,e,n)){if(He(n)&&!t)return 0;if(!v("willupdate",r,e,n)){Re(e,n);var o=U();W(e.id),Cn(e,r),W(o),function(e,n){for(var t in n)t.startsWith('id("'+e+'")/')&&n[t]()}(e.id,H),v("didupdate",r,e,n),t||He(n)}}}}.bind({},e,n,t)},se=[],ve=function(e,n,t){if(!se[n]){if(!e||void 0===n)throw Error("Mag.JS - Id or node invalid: "+We.getItemVal(n));if(!De(e.id,n))return{then:function(e){return e()}};if(t&&H.splice(0,H.length),t&&Fe(n),Ie==n)throw Error("Mag.JS - recursive call:"+n);return Ye(n,de(e,n,t))}},pe=function(e,n){var t=U();W(e);var r=nn(e,n);return W(t),r};function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var he="_value",me=function(e,n,t,r){var o,i=t.toString().split(".");if(i.length>=3)r=function(e,n){for(var t=1;t<e.length;t++){var r=e[t],o=e[t+1],i=pe(k(n)?n[0]:n,r);if(o&&!isNaN(Number(o)))n=i[o];else if(i&&i.length&&o&&t+2<e.length)n=pe(i[0],o);else if(i&&i.length&&(n=i,t+2==e.length))break}return k(n)?n[0]:n}(i,r),o=pe(r,n);else{var u=parseInt(i.pop()),a=isNaN(u)?0:u;o=pe(r[a]?r[a]:r,n)}return function(e,n,t,r){var o=[];for(var i in e){var u=e[i];be(u)&&(o.push(u),ge(u,n,t,r))}if(o.length)return 1==o.length?o[0]:o;return!1}(o,e,n,r)};function ge(e,n,t,r){if(e[o]=e[o]||{},!e[o].eventOnFocus){var i=function(n,t,r,i){var u=~["radio","checkbox"].indexOf(e.type);if(this[o].dirty||(this[o].dirty=1),e.selectedOptions)var a=Array.prototype.map.call(e.selectedOptions,function(e){return e.value});u?"_checked"in t||he in t?t._checked=this.checked:this.checked&&(t[r]=this.value):void 0!==t[he]?t[he]=a||this.value:void 0!==t._text&&(t._text=a||this.value),ve(n,We.getItem(n.id))}.bind(e,r,n,t);e.addEventListener("click",i),e.addEventListener("input",i),e.addEventListener("change",i),e.addEventListener("focus",i),e[o].eventOnFocus=1}}function be(e){return e&&~["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)}var Se=function(e,n,t,r){var i=t[n];~[he,"_checked","_text"].indexOf(n)&&h(e)&&(n=e.split(".").pop());var u=function(e){for(var n in e)if(be(e[n]))return e[n];return!1}(pe(r,n));if("function"!=typeof i&&u){var a=me.bind({},t,n,e,r);a(),Object.defineProperty(t,n,{configurable:!0,get:function(){var n=a();return n&&"undefined"!==n.value&&n[o]&&n[o].dirty&&n.value!==i?(i=n.value,ve(r,e,1),n.value):i},set:function(e){var n=a();n&&"undefined"!==n.value&&n.value!==e&&e!==i&&(n.value=e,i=e)}})}},_e=function e(n,t,r){for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o==he||"object"!==ye(i)||b(i)?Se.bind({},n,o,t,r)():(y(i)&&N(i)&&(i[he]=""),e(n+"."+o,i,r))}};function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ke=[],xe={runningViewInstance:-1,cache:[]},Ie=xe.runningViewInstance,we=xe.innerMods=[],Oe=xe.getState=function(e){return ke[e][1]};xe.setState=function(e,n){ke[e][1]=n},xe.getView=function(e){return ke[e][0]};var je=xe.getProps=function(e){return ke[e]&&ke[e][2]};xe.setProps=function(e,n){return ke[e][2]=n};var Ce=xe.remove=function(e){ke[e]&&(ke[e]=0)},Ee=xe.getId=function(e){return ke[e]&&ke[e][3]},Ae=xe.exists=function(e){return"object"==Ne(ke[e])},Pe=xe.setFrameId=function(e,n){ke[e][4]=n};xe.getFrameId=function(e){return ke[e][4]};var Te=xe.getMod=function(e){return ke[e]&&ke[e][5]},Me=function(e,n,t,r){if(ke[n])return r.key&&r.key==xe.getProps(n).key?xe.setProps(n,m(g(xe.getProps(n),r))):xe.setProps(n,r),ke[n];(function(e,n){for(var t in n=n||e,e){var r=e[t];"function"!=typeof r||~["controller","view"].indexOf(t)||(e[t]=r.bind(n))}})(t=m(t),t),ke[n]=[0,0,0,0,0,0],xe.setProps(n,r);var o={controller:function(r){return t.props=xe.getProps(n),t.state=r,t.element=j(e),(t.controller||function(){}).call(r,t.props)||r},view:function(e,n,r){t.element=r,t.state=n,t.props=xe.getProps(e),t.view&&t.view.call(t,n,t.props,r)}.bind({},n)};return ke[n][0]=o.view,ke[n][3]=e,ke[n][1]=function(e,n,t){return new e(O({},Ve.bind({},"state",n)))}(o.controller,n),ke[n][5]=t,ke[n]},Le=[];var Ve=function(e,n,t){if("get"!=t.type||"props"==e||~c.indexOf(t.name.toString())||void 0!==t.oldValue)"set"==t.type&&"props"!=e&&t.object[t.name]&&t.object[t.name].draw&&"function"==typeof t.object[t.name].draw&&(xe.innerMods[xe.getId(n)]=[t.name,t.object[t.name]]);else{var r=j(xe.getId(n));if(t.path&&"/"==t.path[0])var i=function(e,n){var t=e,r=n.split("/"),o=!0,i=!1,u=void 0;try{for(var a,c=r[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value;if(f){var l=mag._find(t,f);l.length&&(t=l)}}}catch(e){i=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw u}}return t}(r,t.path);i&&"$"!=t.path.split("/").pop()[0]&&(i=i[0]);var u=function(e,n){var t=e.name;if(void 0===e.object[e.name]&&"_"!=t[0]){var r=mag._find(n,t),i="$"===t[0],u=[];return r.length?(r.forEach(function(t){var r;if(t&&t.type&&!~["submit","button"].indexOf(t.type)){if(t.value&&t.value.length>0)if("checkbox"==t.type||"radio"==t.type)if(t.checked&&((r={})._checked=!0),i)r?r._value=t.value:r={_value:t.value};else{var a=n.querySelectorAll("[name="+t.name+"]");if(a.length){var c=!0,f=!1,l=void 0;try{for(var d,s=a[Symbol.iterator]();!(c=(d=s.next()).done);c=!0){var v=d.value;v.checked&&(r?r._value=v.value:r={_value:v.value})}}catch(e){f=!0,l=e}finally{try{c||null==s.return||s.return()}finally{if(f)throw l}}}}else r={_value:t.multiple&&Array.prototype.map.call(t.selectedOptions,function(e){return e.value})||t.value}}else void 0===e.oldValue&&void 0===e.object[e.name]&&t&&!~["submit","button"].indexOf(t.type)&&1==t.childNodes.length&&t.childNodes[0].textContent.trim()&&(r={_text:t.childNodes[0].textContent.trim()});r?u.push(r):t&&!t.hasChildNodes()&&u.push(o)}),0===u.length?void 0:i?u:u[0]&&void 0!==u[0]._value?u[0]._value:u[0]&&u[0]._text?u[0]._text:u[0]):o}if("_"==t[0]){var a=t.substr(1);if(n.length){for(var c in u=[],n){var f,l=n[c];void 0===(f=l[a])&&(f=l.getAttribute(a)),u.push(f)}return u}return void 0===(f=n[a])&&(f=n.getAttribute(a)),f}}(t,i||r);if(null!==u&&"object"==Ne(u)&&t.object&&g(u,t.object[t.name]),u)return xe.cached[n]=0,u}var a=xe.getFrameId(n);"function"==typeof a&&"set"==t.type&&(cancelAnimationFrame(Le[n]),Le[n]=requestAnimationFrame(a))};var He=xe.iscached=function(e){var n=_([xe.getProps(e),xe.getState(e)]);if(e in xe.cache&&xe.cache[e]==n)return!0;xe.cache[e]=n},Fe=xe.clear=function(e){~e&&xe.cache[e]&&xe.cache.splice(e,1)};xe.cached=[];var qe,Re=function(e,n){xe.runningViewInstance=n,xe.cached[n]||(_e(n,xe.getState(n),e),xe.cached[n]=1);try{xe.exists(n)&&xe.getView(n)(xe.getState(n),e)}finally{xe.runningViewInstance=-1}},De=function(e,n){return!(n<0||n!=We.getItem(e))||e==Ee(n)},Be={},Je=[],$e=[],Ke=[],Ye=function(e,n){return new Promise(function(t){u[e]&&n?($e[e]&&(Ke[e](),cancelAnimationFrame($e[e])),Ke[e]=t,$e[e]=requestAnimationFrame(function(r){$e[e]=0,n(),t()})):(n&&Je.push(n),qe||(qe=requestAnimationFrame(function(n){return function(e,n,t){var r;qe=0;do{var o=Je.shift();o&&o(),r=performance.now()}while(Je.length&&Ue(r,n));Je.length?Ye(t).then(e):e()}(t,n,e)})))})};function Ue(e,n){return!r||e-n<r}var We={i:[],isItem:function(e){return~We.i.indexOf(e)},setItem:function(e){return We.i[We.i.length]=e},getItem:function(e){return We.i.indexOf(e)},getItemVal:function(e){return We.i[e]},removeItem:function(e){return We.i.splice(We.i.indexOf(e),1)}};Be.items=We,Be.getItemInstanceIdAll=function(){return We.i};var Ge=function(e){return We.isItem(e)?We.getItem(e):(We.setItem(e),We.getItem(e))},Xe={values:[],attributes:[],elementMatcher:[]},ze=function(e,n,t,r,o,i){e[t][r].key==n&&(i={v:o.value,k:o.key},o.change=!1,e[t][r].handler.call(e[t][r].context,o),i!=={v:o.value,k:o.key}&&(o.change=!0))},Qe=function(e,n,t){for(var r=0,o=Xe[e].length;r<o;r++)ze(Xe,n,e,r,t)},Ze=J(),en=G();function nn(e,n,t){var r=function(e){var n=[];if(e){var t=e.childNodes;if(t)for(var r=0;r<t.length;r+=1)1===t[r].nodeType&&tn(t[r])&&n.push(t[r])}return n}(e),o=[],i=n,u="$"===n[0];"$"===i[0]&&(i=i.substr(1));for(var a=0;a<r.length;a+=1)rn(r[a],i)&&o.push(r[a]);if(!o.length||u)for(a=0;a<r.length&&(!(o=o.concat(nn(r[a],n,!0))).length||u);a++);if(!t&&!o.length&&Ze){var c={key:n,value:o,node:e};Ze("elementMatcher",n,c),c.change&&(o=c.value)}return o}function tn(e){return U()&&e.id&&e.id!=U()&&en&&en.isItem(e.id)?0:1}function rn(e,n){var t=" "+e.className+" ";return e.id===n||~t.indexOf(" "+n+" ")||e.name===n||e.nodeName.toLowerCase()===n.toLowerCase()||e.getAttribute("data-bind")===n}var on=$,un=[];function an(e,n,t){(n?nn(e,n):le(e.childNodes.length?e.childNodes:e)).forEach(function(e){var n=ee(e);if(n in un){if(!t)for(var r in un[n])e.appendChild(un[n][r]);delete un[n]}})}function cn(e,n){var t=0,r=function(e){if(1==++t)for(;e.lastChild;)ie(e.lastChild)};(n?nn(e,n):le(e)).forEach(function(e){var n=ee(e);e.childNodes.length&&(un[n]=le(e.childNodes));for(var t in un[n]){var o=un[n][t];on(o,function(){r(e)},1)}r(e)})}var fn=G(),ln=z(),dn=X(),sn=E;function vn(e,n){if(!te(e,n)&&(!n.id&&!e.childNodes[0]||n.id&&!f.getElementById(n.id)||e.firstChild&&!e.firstChild.isEqualNode(n))){var t;if(fn&&(t=fn.getItem(n.id)),fn&&~t&&e.hasChildNodes()){var r=fn.getItem(getId()),i=e.cloneNode(1);i[o]={childof:r},dn&&dn.getProps&&(dn.getProps(t).children=i),ln(n,t)}else n[o]&&n[o].scid&&!a[n[o].scid]&&((i=e.cloneNode(1))[o]={childof:n[o].scid},a[n[o].scid]=i);for(;e.lastChild;)ie(e.lastChild);if(n[o]&&void 0!==n[o].childof){e.innerHTML=n.innerHTML;var u=n[o].childof;!a[u]&&sn&&(sn(e,u),s("willupdate",u,function(){sn(e,u)}))}else e.appendChild(n)}}var pn=z(),yn=G(),hn=X();function mn(e,n){return function(e,n,t){var r,i=re(n),u=(r=i)&&~r.indexOf("id(")&&r.split('id("')[1].split('")')[0];u||(u=function e(n,t){if(n[o]&&n[o].scid&&!n[o].pscid)t=n;else if(t)return t;if(n.parentNode)return e(n.parentNode,t)}(n));var a=U();W(u);var c=function e(n){return n&&n[o]&&n[o].isItem?n:n.parentNode?e(n.parentNode):void 0}(n),l=c&&oe(c),d=ue(l),s=ue(i=i),v={path:l,node:c,data:((c||{})[o]||[]).dataPass,index:d};W(a);var p=f.getElementById(u),y=yn&&yn.getItem(u),h=e.call(~y&&hn?hn.getMod(y):p,t,s,n,v);if(u&&p){var m=function(){pn(p,y,1)};h&&h.then?h.then(function(e){return m(),e}):m()}return h}.bind({},n,e)}function gn(e,n,t,r){var i=n.substr(2).toLowerCase(),u=(h(r)?r.split("/")[0]:"")+"-"+t[o].uid,a=t[o].events=t[o].events||[],c=t[o].eventHandlers=t[o].eventHandlers||[];c[i]=c[i]||[],c[i][u]=e,a[i]||(a[i]=1,function(e,n){function t(t){var r=e[o].eventHandlers[n];for(var i in r){var u=r[i];!1===mn(e,u)(t)&&t.preventDefault()}}e.removeEventListener(n,t),e.addEventListener(n,t)}(t,i))}var bn=J();function Sn(e,n,t,r){var i=ue(t);for(var u in F[ee(e)]=F[ee(e)]||[],n)if("text"!==u&&"html"!==u)if(0==u.indexOf("on"))gn(n[u],u,e,r);else{if("config"==u){i=ue(t=ne(e));var c=!0;F[t+"-config"]?c=!1:F[t+"-config"]={};var f=F[t+"-config"].configContext=F[t+"-config"].configContext||{};configs[t]=function(e,n){return function(){return e.apply(e,n)}}(n[u],[e,c,f,i]);continue}if(bn){var l={key:u,value:n[u],node:e};bn("attributes",u,l),l.change&&(n[u=l.key]=l.value)}if(F[ee(e)]&&F[ee(e)][u]==n[u])continue;null===n[u]?e.removeAttribute(u):"value"==u&&e.multiple&&e.selectedOptions&&k(n[u])?(e.value=n[u],n[u].forEach(function(n){Array.from(e.options).find(function(e){return e.value==n}).selected=!0})):u in e?"style"==u?e[u].cssText=n[u]:e[u]=n[u]:e.setAttribute(u,String(n[u])),F[ee(e)][u]=n[u]}!function(e,n){if(e&&null!=n&&!te(e,n)){var t=String(n);if("INPUT"===e.nodeName)if(~["radio","checkbox"].indexOf(e.type)){if(e.name){var r=j(U()).querySelectorAll("[name="+e.name+"]");if(r.length>1){var o=!0,i=!1,u=void 0;try{for(var a,c=r[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value;if(f.value==t){f.checked=!0;break}}}catch(e){i=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw u}}}}}else t!=e.value&&(e.value=t);else"SELECT"!==e.nodeName&&(e.firstChild?e.firstChild.textContent=t:e.appendChild(e.ownerDocument.createTextNode(t)));"SELECT"===e.nodeName&&t&&(e.value=t)}}(e,n.text),function(e,n){if(k(n))for(var t in n)fe(e,n[t],t);else if(!b(n)||te(e,n))e&&null!=n&&!te(e,n)&&(e.innerHTML=n);else{if(n[o]&&n[o].scid&&!a[n[o].scid]){var r=e.cloneNode(1);r[o]={childof:n[o].scid},a[n[o].scid]=r}fe(e,n,0)}}(e,n.html)}var _n=J();var Nn=function(e){var n=f.createElement("template");return n.innerHTML=e,n.content.children[0]};function kn(e){if(h(e)&&"<"==e.trim()[0])return Nn(e)}function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var In=X(),wn=function(e,n,t,r){var i=e((t=function(e){var n=[];return e.replace(/\[(.+?)\]/g,function(e,t){n.push(t)}),n}(r=ne(n))).join("."),r);if(!i||!b(i))return On(n,i,r);vn(n,i),n[o]=n[o]||{},n[o].isItem=!0,n[o].dataPass={index:t},e.draw&&e.draw()};function On(e,n,t,r){var i,u=In&&In.innerMods,a=ue(t),f=kn(n);if(f&&(n=f),n&&b(n))vn(e,n);else{if("function"==typeof n)return wn(n,e,a,t);if("object"!==xn(n))return On(e,{_text:n},t);u&&u[U()]&&n[u[U()][0]]&&!n[u[U()][0]].draw&&u[U()][1].destroy(),(i=function(e,n){var t;for(var r in n){var i=n[r];void 0===i?i="":null===i&&-1===["onunload"].indexOf(r)?(e[o].detached=e[o].detached||[],e[o].detached[r]=1,cn(e,r)):e[o].detached&&e[o].detached[r]&&(an(e,r,i.nodeType),e[o].detached[r]=0),("_"===r[0]&&"_"!==r[1]||"on"==r.substr(0,2))&&(t=t||{},"on"==r.substr(0,2)?t[r]=i:t[r.substr(1)]=i)}return t}(e,n))&&Sn(e,i,t,r),function(e,n,t){var r;for(var o in n){var i=n[o];if(!~c.indexOf(o)&&"_"!==o[0]&&"on"!=o.substr(0,2)){if(r=nn(e,o),_n){var u={key:o,value:i,node:e};_n("values","*",u),u.change&&(i=u.value)}Cn(r,i,t+"/"+o)}}}(e,n,t)}}function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Cn=function e(n,t,r){var i,u;if(n){if(null===t&&r)cn(n,r);else{if(null===t&&!r)return n[o].detached=1,cn(n);n[o]&&n[o].detached&&!r&&(n[o].detached=0,an(n))}var a=le(n);if(u=k(t)){if(B[r]&&0===a.length&&(B[r].parent.insertAdjacentHTML("beforeend",B[r].node),a=le(B[r].parent.childNodes)),!a.length)return;var c=a[0].parentNode;B[r]||(B[r]={node:a[0].cloneNode(1).outerHTML,parent:c});for(var l=f.createDocumentFragment(),d=0;a.length<t.length;)B[r]?(c.insertAdjacentHTML("beforeend",B[r].node),i=c.lastChild):i=a[0].cloneNode(1),ce(i,++d,r),a.push(i),l.appendChild(i);c.appendChild(l);var s=t.map(function(e){return e&&e._key});if(a.length!=t.length&&-1===s.indexOf(void 0)||(t=t.map(function(e,n){if("object"===jn(e)){if(a[n][o]=a[n][o]||{},a[n][o].__key&&"undefined"===jn(e._key))return e._key=a[n][o].__key,e;"undefined"===jn(e._key)&&(e._key=o+n),a[n][o].__key=e._key}return e})),a.length>t.length)if(0===t.length||"object"!==jn(t[0]))for(;a.length>t.length;)(c=(i=a.pop()).parentNode)&&ie(i);else{var v=[],p=t.map(function(e){return e._key});a=a.filter(function(e,n){var t;return"undefined"==jn(e[o])?t=1:~p.indexOf(e[o].__key)&&!~v.indexOf(e[o].__key)||(v.push(e[o].__key),t=1),t?(ie(e),!1):(v.push(e[o].__key),!0)})}}for(var y=0;y<a.length;y++)if(u)a[y]&&e(a[y],t[y],y);else{var h=ce(a[y],y+1,r);t&&"object"==jn(t)&&t.hasOwnProperty("_key")&&!b(t)&&(a[y][o].isItem=!0,a[y][o].dataPass=t),On(a[y],t,h,r)}}};Y(function e(n){var t=We.getItem(n.id);if(n.children)for(var r=0;r<n.children.length;r++)e(n.children[r]);~t?(v("onunload",Oe(t),n,t),Fe(t),Ce(t),Z(Ee(t))):n[o]&&n[o].scid&&v("onunload",{},n,n[o].scid)}),K(function(e,n,t){var r;e.id&&We.isItem(e.id)&&(r=We.getItem(e.id)),!r&&e[o]&&e[o].scid?v("onunload",{},e,e[o].scid):r&&Oe(r).onbeforeunload?v("onbeforeunload",Oe(r),e,r,0,function(){r&&v("onunload",Oe(r),e,r),n()}):(r&&v("onunload",Oe(r),e,r,1),n())}),L={getMod:Te,getProps:je,innerMods:we},V=ve,M=We,A=Qe,E=function(e,n){var t=U();W(Ee(n)),Cn(e,Oe(n)),W(t)};var En=function(e){return j(We.getItemVal(e))},An=function e(n,t,r){return e._handler(n,t,r)};An._handler=function(){},An.rafBounceIds=u,An._cprops=a,An.doc=f;var Pn=An,Tn=["#KEY",".KEY","KEY"],Mn=function(e,n){var t;for(var r in Tn){var o=Tn[r].replace("KEY",n);if(t=e.querySelector(o))break}return t},Ln=function(e){if(h(e)){if(t=kn(e))return t;var n=En(~Ie||void 0),t=Mn(n||Pn.doc,e);if(t)return t}return e},Vn=0,Hn=function(e){return b(e)&&(e.id||(e.id=++Vn),i[e.id]=e,e=e.id),e},Fn=function(e,n){return v("willload",Oe(e),n,e,1)},qn=function(e,n){if(j(We.getItemVal(e))&&Ae(e))return v("didload",Oe(e),n,e,1)},Rn=function(e,n){var t=function(e,n){j(n)?ve(j(n),e):We.isItem(n)&&mag.clear(e)}.bind({},e,n);Pe(e,t)},Dn=function(e,n,t,r,o){var i=We.getItem(n);n=Hn(e);var u=_(je(i));qn(i,e),Ae(i)&&v("willgetprops",Oe(i),e,i,0,t)||(Me(e.id,i,r,t),u!=_(je(i))&&(o=1),Rn(i,e.id),Fn(i,e)||ve(e,i,o).then(function(){qn(i,e)}))};function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Jn=[],$n={},Kn=0,Yn=function(e,n,t,r){Jn[e]=Jn[e]||[];var o=function(e,n,t,r,i){"object"==Bn(i)&&(r=g(m(r),i),i=0),e<0&&!i&&(i=1);var u=n.id+(r.key?"."+r.key+".":"")+(i||"");!$n[u]||r.key||~o._id||(u+=++Kn);var a=$n[u]=$n[u]||n.cloneNode(1);if(a.id=u,We.isItem(u))return Dn(a,u,r,t),a;var c=Ge(a.id);return e<0?e=o._id=c:Jn[e].push({instanceId:c,subscribe:subscriberHandler.bind({},c)}),Dn(a,u,r,t),a}.bind({},e,n,t,r);return o._id=e,o.clones=function(){return Jn[o._id]},o.destroy=function(e){destroyerHandler(o._id,o.clones,e)},o.getId=function(){return o._id},o.rafBounce=function(e){return e?u[o._id]=1:!1===e&&(u[o._id]=0),!!u[o._id]},o.draw=function(e){return Pn.redraw(n,o._id,e)},o.getState=function(){return Oe(o._id)},o.getProps=function(){return je(o._id)},o.subscribe=function(e){return subscriberHandler(o._id,e)},o};K(function(e,n){e[o]&&e[o].scid?v("onunload",{},e,e[o].scid):n()}),Y(function e(n){if(n.children)for(var t=0;t<n.children.length;t++)e(n.children[t]);n[o]&&n[o].scid&&v("onunload",{},n,n[o].scid)});var Un=function(e){if(h(e)){var n;if(n=kn(e))return n;if(n=Mn(f,e))return n}return e};function Wn(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xn=0;function zn(e){var n=[];for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i=r.reduce(function e(t,r){if(r&&r.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(r=r.childNodes),!Array.isArray(r)){if("object"===Gn(r)&&r instanceof Node){var o="p-".concat(++Xn,"-").concat(Date.now());return n.push({id:o,node:r}),t.concat("<".concat(r.nodeName,' id="').concat(o,'"></').concat(r.nodeName,">"))}return r&&"function"==typeof r.item&&"number"==typeof r.length?t.concat(Array.prototype.reduce.call(r,e,[])):t.concat(r)}t.concat(r)},[]).join("").replace(/^\s*</,"<").replace(/>\s*$/,">"),u=e.createElement("template");u.innerHTML=i;var a=u.content;n.forEach(function(e){var n=e.id,t=e.node,r=a.querySelector("".concat(t.nodeName,"#").concat(n));r.parentNode.replaceChild(t,r)});for(var c=!1,f=0;f<r.length;f++)if(""!=r[f]){if(r[f]instanceof Node){c=!0;break}break}if(1!=a.childNodes.length||c)return a;var l=a.firstChild;return a.removeChild(l),l}var Qn=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];var i=n.reduce(function(e,t,o){return e.concat(t,o+1===n.length?[]:r[o])},[]);return zn.apply(void 0,[e].concat(Wn(i)))}.apply(void 0,[f,e].concat(t))};Pn._handler=function(e,n,t){return rt(e,n,t,Cn,Un)},Pn.dom=Qn;var Zn=Pn;function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nt=0,tt=function(e,n,t,r){var i,u=[],c=e.cloneNode(1),f=[],l=function l(d){var s,p=e;void 0!==(d=d||{}).key&&(s=d.key+"-"+l.id);var h,b=void 0!==d.key?d.key+"-"+l.id:l.id;if(f[b]||(f[b]="object"==et(t)?m(t):t),"object"==et(d)&&(d=function e(n,t,r){for(var o in t)if(void 0===t[o])delete t[o];else if(r&&y(t[o]))return e(n[o],t[o]);return g(n,t)}(f[b],d)),s&&!u[s]?p=u[s]=c.cloneNode(1):s&&u[s]&&(p=u[s]),void 0!==et(l)&&d&&d.key&&l.key&&l.key!=b&&v("onunload",d,p,l.key),i&&i==p[o].scid)throw Error("MagJS Error - recursive call:"+i);p[o]=p[o]||{},Zn._cprops[b]&&"object"==et(d)&&(d.children=a[b]),l.props=d,l.key=b,l.fake=r;try{var S=Zn._current;Zn._current=l,h=n(d),i=p[o].scid=b;var _=U();_&&_[o]&&_[o].scid&&(p[o].pscid=_[o].scid),W(p),Cn(p,h)}finally{v("didupdate",d,p,b),W(_),i=0,Zn._current=S}return p};return l.id=++nt,l.element=c,l},rt=function(e,n,t,r,i,u){if(e=i(e),n=i(n),t=t||{},b(n)&&b(e))n[o]||r(n,e);else{if("function"==typeof n&&b(e)){try{tt(e.cloneNode(1),n,t,!0)()}catch(e){}return tt(e,n,t)}if(u)return u(e,n,t)}};Pn._handler=function(e,n,t){return rt(e,n,t,Cn,Ln,function(e,n,t){return Yn(-1,j(Hn(e)),n,t)})};var ot=Pn;ot.hook=Qe,ot.hookin=function(e,n,t){Xe[e].push({context:{},handler:t,key:n})},ot.redraw=ve,ot.begin=function(e){void 0===se[e]?se[e]=1:se[e]++},ot.end=function(e){if(se[e]>1)se[e]--;else{se[e]=0;var n=We.getItemVal(e);ve(j(n),e)}};ot.module=function(e,n,t){t=t||{};var r=function(e,n){var t=n?e+"-"+n:e;return We.isItem(t)?We.getItem(t):Ge(t)}(e=Hn(e),t.key),o=it(t,r,n,e);if(o)return Yn(r,o,n,m(t))};var it=function(e,n,t,r){e.retain||Fe(n);var o=j(r);if(Me(r,n,t,e),Rn(n,r),!Fn(n,o))return ve(o,n,1).then(function(){qn(n,o)}),o};ot.clear=function(e){We.removeItem(e),Fe(e),Z(Ee(e))};ot.getNode=j;n.default=ot}]);