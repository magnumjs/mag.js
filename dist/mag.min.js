/*! mag.js - 1.4.1 | (c)2020  https://github.com/magnumjs | MIT */
var mag=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=0)}([function(e,n,t){var r=t(1);e.exports=r.default},function(e,n,t){"use strict";t.r(n);var r,o="__magnum__",i=[],u=[],a=[],f=["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","willupdate","didupdate","didload","willload","isupdate"],c=document,l=function(e){return e},d=[],s=function(e,n,t){var r=e+"-"+n;return d[r]=d[r]||[],d[r].push(t),function(){var e=d[r].indexOf(t);return d[r].splice(e,1)}},v=function(e,n,t,r,o,i){var u;l(r);var a=n&&n[e];a&&!a.called&&(u=a.call(void 0,t,void 0,r,i),o&&(a.called=1));var f=e+"-"+r;if(d[f]){var c=d[f].slice(),s=!0,v=!1,y=void 0;try{for(var p,h=c[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){(0,p.value)(n,void 0,t)}}catch(e){v=!0,y=e}finally{try{s||null==h.return||h.return()}finally{if(v)throw y}}}if(l(-1),!1===u)return!0};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e){var n=y(e);return null!=e&&("object"==n||"function"==n)},h=function(e){return p(e)?Object.assign({},e):e},m=function(){return Object.assign.apply({},arguments)},g=function(e){return e&&1===e.nodeType},b=function(e,n){return"function"==typeof n?""+n:n},S=function(e){return JSON.stringify(e,b)},_=function(e){for(var n in e)if(e.hasOwnProperty(n))return 0;return 1},N=function(e){return Array.isArray(e)};function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k="/";function I(e,n,t,r){var i=new WeakSet;return new Proxy(e,{get:function(e,u,a){var c,l=e[u];if("symbol"==x(u))return l;if("object"!==x(l)||"symbol"===x(l)||null===l||"function"==typeof l||Array.isArray(l)||!p(l)||l.then||l.draw)u in e||~f.indexOf(u.toString())||t||"_"==u[0]||(l=e({},n,t,r+k+u));else if(c=l,!i.has(c))return i.add(l),e(l,n,t,r+k+u);var d=n({type:"get",object:e,name:u,path:r,oldValue:Reflect.get(e,u,a)});return void 0!==d&&(l=d==o?void 0:d),l},deleteProperty:function(e,t){return n({type:"delete",name:t,object:e,oldValue:Reflect.get(e,t)}),Reflect.deleteProperty(e,t)},set:function(e,t,r,o){var i=Reflect.get(e,t,o);return i===r&&"length"!==t||(n({type:"set",name:t,object:e,oldValue:i}),Reflect.set(e,t,r,o))}})}var w=function e(n,t,r,o){for(var i in n){var u=x(n[i]);Array.isArray(n[i])&&n[i].length<101?n[i]=I(n[i],t):"object"==u&&null!==n[i]&&"symbol"!=x(i)&&"symbol"!=u&&"function"!=u&&p(n[i])&&(n[i]=e(n[i],t,r,o+k+i))}return I(n,t,r,o||k)};function O(e,n){if(i[e]&&!n)return i[e];var t=c.getElementById(e);return t&&(i[e]=t),i[e]}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C,A,E,M,P,T,L,V=[],H=[],F="function",q=[],R=[],U={},B=function(){return A},J=function(){},G=function(e){return J=e},K=function(e){return E=e},Y=function(){return M},$=function(e){return M=e},D=function(){return P},W=function(){return T},X=function(){return L},z=0,Q=function(e){R[e]&&delete R[e]};function Z(e,n){return e[o]=e[o]||{},e[o].uid&&!n||(e[o].uid=++z),e[o].uid}function ee(e,n){var t=Z(e);return q[t]&&!n?q[t]:q[t]=re(e)}function ne(e,n){var t=Z(e);if(R[Y()]=R[Y()]||[],R[Y()][t]&&R[Y()][t]==n)return 1;R[Y()][t]=n}function te(e){var n="",t=function e(n){return P&&n.id&&P.isItem(n.id)?n:n.parentNode?e(n.parentNode):void 0}(e),r=function(e){for(var n=1;e=e.previousElementSibling;)++n;return n}(e);return t&&(n+='id("'+(t.id||t.tagName)+'")'),n+="/"+e.tagName+"["+r+"]"}function re(e,n){if(e.id&&Y()===e.id||Y()===e)return'id("'+(e.id||e.tagName)+'")';if(e===c.body)return e.tagName;var t=0;if(e.parentNode)for(var r=e.parentNode.childNodes,o=0,i=r.length;o<i;o++){var u=r[o];if(u===e)return re(e.parentNode)+(e.tagName?"/"+e.tagName+"["+(t+1)+"]":"");1===u.nodeType&&u.tagName===e.tagName&&t++}}function oe(e){var n=re(e);e&&H[n+"-config"]&&H[n+"-config"].configContext&&j(H[n+"-config"].configContext.onunload)===F&&(H[n+"-config"].configContext.onunload(H[n+"-config"].configContext,e,n),delete H[n+"-config"],delete V[n]),E&&E(e),e.parentNode&&e.parentNode.removeChild(e)}function ie(e){var n=e&&parseInt(e.split("[").pop().slice(0,-1));return n?parseInt(n)-1:0}var ue=[];function ae(e,n,t){var r=Z(e);if(q[r])return q[r];if(ue[r])return ue[r];var i=+t==+t?n+t:n,u='id("'+("object"==j(Y())?Y().tagName:Y())+'")'+("string"==typeof t?t.split(")")[1]+"/":"/")+e.tagName+"["+i+"]";return ue[r]=e[o].xpath=u}function fe(e,n,t){if(!(!n||e.childNodes[t]&&e.childNodes[t].isEqualNode(n))){for(var r=ce(e.childNodes),o=0,i=r.length;o<i;o++)r[o]&&e.removeChild(r[o]);e.childNodes[t]?e.replaceChild(n,e.childNodes[t]):e.appendChild(n)}}function ce(e){var n;if(null==e.length&&(e=[e]),!N(e)){n=[];for(var t=0;t<e.length;t+=1)e[t]&&n.push(e[t]);e=n}return e}var le=function(e,n,t){return function(e,n,t){if(O(e.id,1),Re(e.id,n)&&e){var r=we(n);if(!v("isupdate",r,e,n)){if(Ve(n)&&!t)return 0;if(!v("willupdate",r,e,n)){qe(e,n);var o=Y();$(e.id),wn(e,r),$(o),function(e,n){for(var t in n)t.startsWith('id("'+e+'")/')&&n[t]()}(e.id,V),v("didupdate",r,e,n),t||Ve(n)}}}}.bind({},e,n,t)},de=[],se=function(e,n,t){if(!de[n]){if(!e||void 0===n)throw Error("Mag.JS - Id or node invalid: "+$e.getItemVal(n));if(!Re(e.id,n))return{then:function(e){return e()}};if(t&&V.splice(0,V.length),t&&He(n),ke==n)throw Error("Mag.JS - recursive call:"+n);return Ke(n,le(e,n,t))}},ve=function(e,n){var t=Y();$(e);var r=en(e,n);return $(t),r};function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pe="_value",he=function(e,n,t,r){var o,i=t.toString().split(".");if(i.length>=3)r=function(e,n){for(var t=1;t<e.length;t++){var r=e[t],o=e[t+1],i=ve(Array.isArray(n)?n[0]:n,r);if(o&&!isNaN(Number(o)))n=i[o];else if(i&&i.length&&o&&t+2<e.length)n=ve(i[0],o);else if(i&&i.length&&(n=i,t+2==e.length))break}return Array.isArray(n)?n[0]:n}(i,r),o=ve(r,n);else{var u=parseInt(i.pop()),a=isNaN(u)?0:u;o=ve(r[a]?r[a]:r,n)}return function(e,n,t,r){var o=[];for(var i in e){var u=e[i];ge(u)&&(o.push(u),me(u,n,t,r))}if(o.length)return 1==o.length?o[0]:o;return!1}(o,e,n,r)};function me(e,n,t,r){if(e[o]=e[o]||{},!e[o].eventOnFocus){var i=function(n,t,r,i){var u=~["radio","checkbox"].indexOf(e.type);if(this[o].dirty||(this[o].dirty=1),e.selectedOptions)var a=Array.prototype.map.call(e.selectedOptions,function(e){return e.value});u?"_checked"in t||pe in t?t._checked=this.checked:this.checked&&(t[r]=this.value):void 0!==t[pe]?t[pe]=a||this.value:void 0!==t._text&&(t._text=a||this.value),se(n,$e.getItem(n.id))}.bind(e,r,n,t);e.addEventListener("click",i),e.addEventListener("input",i),e.addEventListener("change",i),e.addEventListener("focus",i),e[o].eventOnFocus=1}}function ge(e){return e&&~["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)}var be=function(e,n,t,r){var i=t[n];~[pe,"_checked","_text"].indexOf(n)&&"string"==typeof e&&(n=e.split(".").pop());var u=function(e){for(var n in e)if(ge(e[n]))return e[n];return!1}(ve(r,n));if("function"!=typeof i&&u){var a=he.bind({},t,n,e,r);a(),Object.defineProperty(t,n,{configurable:!0,get:function(){var n=a();return n&&"undefined"!==n.value&&n[o]&&n[o].dirty&&n.value!==i?(i=n.value,se(r,e,1),n.value):i},set:function(e){var n=a();n&&"undefined"!==n.value&&n.value!==e&&e!==i&&(n.value=e,i=e)}})}},Se=function e(n,t,r){for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o==pe||"object"!==ye(i)||g(i)?be.bind({},n,o,t,r)():(p(i)&&_(i)&&(i[pe]=""),e(n+"."+o,i,r))}};function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ne=[],xe={runningViewInstance:-1,cache:[]},ke=xe.runningViewInstance,Ie=xe.innerMods=[],we=xe.getState=function(e){return Ne[e][1]};xe.setState=function(e,n){Ne[e][1]=n},xe.getView=function(e){return Ne[e][0]};var Oe=xe.getProps=function(e){return Ne[e]&&Ne[e][2]};xe.setProps=function(e,n){return Ne[e][2]=n};var je=xe.remove=function(e){Ne[e]&&(Ne[e]=0)},Ce=xe.getId=function(e){return Ne[e]&&Ne[e][3]},Ae=xe.exists=function(e){return"object"==_e(Ne[e])},Ee=xe.setFrameId=function(e,n){Ne[e][4]=n};xe.getFrameId=function(e){return Ne[e][4]};var Me=xe.getMod=function(e){return Ne[e]&&Ne[e][5]},Pe=function(e,n,t,r){if(Ne[n])return r.key&&r.key==xe.getProps(n).key?xe.setProps(n,h(m(xe.getProps(n),r))):xe.setProps(n,r),Ne[n];(function(e,n){for(var t in n=n||e,e){var r=e[t];"function"!=typeof r||~["controller","view"].indexOf(t)||(e[t]=r.bind(n))}})(t=h(t),t),Ne[n]=[0,0,0,0,0,0],xe.setProps(n,r);var o={controller:function(r){return t.props=xe.getProps(n),t.state=r,t.element=O(e),(t.controller||function(){}).call(r,t.props)||r},view:function(e,n,r){t.element=r,t.state=n,t.props=xe.getProps(e),t.view&&t.view.call(t,n,t.props,r)}.bind({},n)};return Ne[n][0]=o.view,Ne[n][3]=e,Ne[n][1]=function(e,n,t){return new e(w({},Le.bind({},"state",n)))}(o.controller,n),Ne[n][5]=t,Ne[n]},Te=[];var Le=function(e,n,t){if("get"!=t.type||"props"==e||~f.indexOf(t.name.toString())||void 0!==t.oldValue)"set"==t.type&&"props"!=e&&t.object[t.name]&&t.object[t.name].draw&&"function"==typeof t.object[t.name].draw&&(xe.innerMods[xe.getId(n)]=[t.name,t.object[t.name]]);else{var r=O(xe.getId(n));if(t.path&&"/"==t.path[0])var i=function(e,n){var t=e,r=n.split("/"),o=!0,i=!1,u=void 0;try{for(var a,f=r[Symbol.iterator]();!(o=(a=f.next()).done);o=!0){var c=a.value;if(c){var l=mag._find(t,c);l.length&&(t=l)}}}catch(e){i=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(i)throw u}}return t}(r,t.path);i&&"$"!=t.path.split("/").pop()[0]&&(i=i[0]);var u=function(e,n){var t=e.name;if(void 0===e.object[e.name]&&"_"!=t[0]){var r=mag._find(n,t),i="$"===t[0],u=[];return r.length?(r.forEach(function(t){var r;if(t&&t.type&&!~["submit","button"].indexOf(t.type)){if(t.value&&t.value.length>0)if("checkbox"==t.type||"radio"==t.type)if(t.checked&&((r={})._checked=!0),i)r?r._value=t.value:r={_value:t.value};else{var a=n.querySelectorAll("[name="+t.name+"]");if(a.length){var f=!0,c=!1,l=void 0;try{for(var d,s=a[Symbol.iterator]();!(f=(d=s.next()).done);f=!0){var v=d.value;v.checked&&(r?r._value=v.value:r={_value:v.value})}}catch(e){c=!0,l=e}finally{try{f||null==s.return||s.return()}finally{if(c)throw l}}}}else r={_value:t.multiple&&Array.prototype.map.call(t.selectedOptions,function(e){return e.value})||t.value}}else void 0===e.oldValue&&void 0===e.object[e.name]&&t&&!~["submit","button"].indexOf(t.type)&&1==t.childNodes.length&&t.childNodes[0].textContent.trim()&&(r={_text:t.childNodes[0].textContent.trim()});r?u.push(r):t&&!t.hasChildNodes()&&u.push(o)}),0===u.length?void 0:i?u:u[0]&&void 0!==u[0]._value?u[0]._value:u[0]&&u[0]._text?u[0]._text:u[0]):o}if("_"==t[0]){var a=t.substr(1);if(n.length){for(var f in u=[],n){var c,l=n[f];void 0===(c=l[a])&&(c=l.getAttribute(a)),u.push(c)}return u}return void 0===(c=n[a])&&(c=n.getAttribute(a)),c}}(t,i||r);if(null!==u&&"object"==_e(u)&&t.object&&m(u,t.object[t.name]),u)return xe.cached[n]=0,u}var a=xe.getFrameId(n);"function"==typeof a&&"set"==t.type&&(cancelAnimationFrame(Te[n]),Te[n]=requestAnimationFrame(a))};var Ve=xe.iscached=function(e){var n=S([xe.getProps(e),xe.getState(e)]);if(e in xe.cache&&xe.cache[e]==n)return!0;xe.cache[e]=n},He=xe.clear=function(e){~e&&xe.cache[e]&&xe.cache.splice(e,1)};xe.cached=[];var Fe,qe=function(e,n){xe.runningViewInstance=n,xe.cached[n]||(Se(n,xe.getState(n),e),xe.cached[n]=1);try{xe.exists(n)&&xe.getView(n)(xe.getState(n),e)}finally{xe.runningViewInstance=-1}},Re=function(e,n){return!(n<0||n!=$e.getItem(e))||e==Ce(n)},Ue={},Be=[],Je=[],Ge=[],Ke=function(e,n){return new Promise(function(t){u[e]&&n?(Je[e]&&(Ge[e](),cancelAnimationFrame(Je[e])),Ge[e]=t,Je[e]=requestAnimationFrame(function(r){Je[e]=0,n(),t()})):(n&&Be.push(n),Fe||(Fe=requestAnimationFrame(function(n){return function(e,n,t){var r;Fe=0;do{var o=Be.shift();o&&o(),r=performance.now()}while(Be.length&&Ye(r,n));Be.length?Ke(t).then(e):e()}(t,n,e)})))})};function Ye(e,n){return!r||e-n<r}var $e={i:[],isItem:function(e){return~$e.i.indexOf(e)},setItem:function(e){return $e.i[$e.i.length]=e},getItem:function(e){return $e.i.indexOf(e)},getItemVal:function(e){return $e.i[e]},removeItem:function(e){return $e.i.splice($e.i.indexOf(e),1)}};Ue.items=$e,Ue.getItemInstanceIdAll=function(){return $e.i};var De=function(e){return $e.isItem(e)?$e.getItem(e):($e.setItem(e),$e.getItem(e))},We={values:[],attributes:[],elementMatcher:[]},Xe=function(e,n,t,r,o,i){e[t][r].key==n&&(i={v:o.value,k:o.key},o.change=!1,e[t][r].handler.call(e[t][r].context,o),i!=={v:o.value,k:o.key}&&(o.change=!0))},ze=function(e,n,t){for(var r=0,o=We[e].length;r<o;r++)Xe(We,n,e,r,t)},Qe=B(),Ze=D();function en(e,n,t){var r=function(e){var n=[];if(e){var t=e.childNodes;if(t)for(var r=0;r<t.length;r+=1)1===t[r].nodeType&&nn(t[r])&&n.push(t[r])}return n}(e),o=[],i=n,u="$"===n[0];"$"===i[0]&&(i=i.substr(1));for(var a=0;a<r.length;a+=1)tn(r[a],i)&&o.push(r[a]);if(!o.length||u)for(a=0;a<r.length&&(!(o=o.concat(en(r[a],n,!0))).length||u);a++);if(!t&&!o.length&&Qe){var f={key:n,value:o,node:e};Qe("elementMatcher",n,f),f.change&&(o=f.value)}return o}function nn(e){return Y()&&e.id&&e.id!=Y()&&Ze&&Ze.isItem(e.id)?0:1}function tn(e,n){var t=" "+e.className+" ";return e.id===n||~t.indexOf(" "+n+" ")||e.name===n||e.nodeName.toLowerCase()===n.toLowerCase()||e.getAttribute("data-bind")===n}var rn=J,on=[];function un(e,n,t){(n?en(e,n):ce(e.childNodes.length?e.childNodes:e)).forEach(function(e){var n=Z(e);if(n in on){if(!t)for(var r in on[n])e.appendChild(on[n][r]);delete on[n]}})}function an(e,n){var t=0,r=function(e){if(1==++t)for(;e.lastChild;)oe(e.lastChild)};(n?en(e,n):ce(e)).forEach(function(e){var n=Z(e);e.childNodes.length&&(on[n]=ce(e.childNodes));for(var t in on[n]){var o=on[n][t];rn(o,function(){r(e)},1)}r(e)})}var fn=D(),cn=X(),ln=W(),dn=C;function sn(e,n){if(!ne(e,n.outerHTML)&&(!n.id&&!e.childNodes[0]||n.id&&!c.getElementById(n.id)||e.firstChild&&!e.firstChild.isEqualNode(n))){var t;if(fn&&(t=fn.getItem(n.id)),fn&&~t&&e.hasChildNodes()){var r=fn.getItem(getId()),i=e.cloneNode(1);i[o]={childof:r},ln&&ln.getProps&&(ln.getProps(t).children=i),cn(n,t)}else n[o]&&n[o].scid&&!a[n[o].scid]&&((i=e.cloneNode(1))[o]={childof:n[o].scid},a[n[o].scid]=i);for(;e.lastChild;)oe(e.lastChild);if(n[o]&&void 0!==n[o].childof){e.innerHTML=n.innerHTML;var u=n[o].childof;!a[u]&&dn&&(dn(e,u),s("willupdate",u,function(){dn(e,u)}))}else e.appendChild(n)}}var vn=X(),yn=D(),pn=W();function hn(e,n){return function(e,n,t){var r,i=te(n),u=(r=i)&&~r.indexOf("id(")&&r.split('id("')[1].split('")')[0];u||(u=function e(n,t){if(n[o]&&n[o].scid&&!n[o].pscid)t=n;else if(t)return t;if(n.parentNode)return e(n.parentNode,t)}(n));var a=Y();$(u);var f=function e(n){return n&&n[o]&&n[o].isItem?n:n.parentNode?e(n.parentNode):void 0}(n),l=f&&re(f),d=ie(l),s=ie(i=i),v={path:l,node:f,data:((f||{})[o]||[]).dataPass,index:d};$(a);var y=c.getElementById(u),p=yn&&yn.getItem(u),h=e.call(~p&&pn?pn.getMod(p):y,t,s,n,v);if(u&&y){var m=function(){vn(y,p,1)};h&&h.then?h.then(function(e){return m(),e}):m()}return h}.bind({},n,e)}function mn(e,n,t,r){var i=n.substr(2).toLowerCase(),u=("string"==typeof r?r.split("/")[0]:"")+"-"+t[o].uid,a=t[o].events=t[o].events||[],f=t[o].eventHandlers=t[o].eventHandlers||[];f[i]=f[i]||[],f[i][u]=e,a[i]||(a[i]=1,function(e,n){function t(t){var r=e[o].eventHandlers[n];for(var i in r){var u=r[i];!1===hn(e,u)(t)&&t.preventDefault()}}e.removeEventListener(n,t),e.addEventListener(n,t)}(t,i))}var gn=B();function bn(e,n,t,r){var i=ie(t);for(var u in H[Z(e)]=H[Z(e)]||[],n)if("text"!==u&&"html"!==u)if(0==u.indexOf("on"))mn(n[u],u,e,r);else{if("config"==u){i=ie(t=ee(e));var f=!0;H[t+"-config"]?f=!1:H[t+"-config"]={};var c=H[t+"-config"].configContext=H[t+"-config"].configContext||{};configs[t]=function(e,n){return function(){return e.apply(e,n)}}(n[u],[e,f,c,i]);continue}if(gn){var l={key:u,value:n[u],node:e};gn("attributes",u,l),l.change&&(n[u=l.key]=l.value)}if(H[Z(e)]&&H[Z(e)][u]==n[u])continue;null===n[u]?e.removeAttribute(u):"value"==u&&e.multiple&&e.selectedOptions&&N(n[u])?(e.value=n[u],n[u].forEach(function(n){Array.from(e.options).find(function(e){return e.value==n}).selected=!0})):u in e?"style"==u?e[u].cssText=n[u]:e[u]=n[u]:e.setAttribute(u,String(n[u])),H[Z(e)][u]=n[u]}!function(e,n){if(e&&null!=n&&!ne(e,n)){var t=String(n);if("INPUT"===e.nodeName)if(~["radio","checkbox"].indexOf(e.type)){if(e.name){var r=O(Y()).querySelectorAll("[name="+e.name+"]");if(r.length>1){var o=!0,i=!1,u=void 0;try{for(var a,f=r[Symbol.iterator]();!(o=(a=f.next()).done);o=!0){var c=a.value;if(c.value==t){c.checked=!0;break}}}catch(e){i=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(i)throw u}}}}}else t!=e.value&&(e.value=t);else"SELECT"!==e.nodeName&&(e.firstChild?e.firstChild.textContent=t:e.appendChild(e.ownerDocument.createTextNode(t)));"SELECT"===e.nodeName&&t&&(e.value=t)}}(e,n.text),function(e,n){if(N(n))for(var t in n)fe(e,n[t],t);else if(!g(n)||ne(e,n.outerHTML))e&&null!=n&&!ne(e,n)&&(e.innerHTML=n);else{if(n[o]&&n[o].scid&&!a[n[o].scid]){var r=e.cloneNode(1);r[o]={childof:n[o].scid},a[n[o].scid]=r}fe(e,n,0)}}(e,n.html)}var Sn=B();function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Nn=W(),xn=function(e,n,t,r){var o=e((t=function(e){var n=[];return e.replace(/\[(.+?)\]/g,function(e,t){n.push(t)}),n}(r=ee(n))).join("."),r);if(!o||!g(o))return kn(n,o,r);sn(n,o),n[MAGNUM]=n[MAGNUM]||{},n[MAGNUM].isItem=!0,n[MAGNUM].dataPass={index:t},e.draw&&e.draw()};function kn(e,n,t,r){var i,u=Nn&&Nn.innerMods,a=ie(t);if(n&&g(n))sn(e,n);else{if("function"==typeof n)return xn(n,e,a,t);if("object"!==_n(n))return kn(e,{_text:n},t);u&&u[Y()]&&n[u[Y()][0]]&&!n[u[Y()][0]].draw&&u[Y()][1].destroy(),(i=function(e,n){var t;for(var r in n){var i=n[r];void 0===i?i="":null===i&&-1===["onunload"].indexOf(r)?(e[o].detached=e[o].detached||[],e[o].detached[r]=1,an(e,r)):e[o].detached&&e[o].detached[r]&&(un(e,r,i.nodeType),e[o].detached[r]=0),("_"===r[0]&&"_"!==r[1]||"on"==r.substr(0,2))&&(t=t||{},"on"==r.substr(0,2)?t[r]=i:t[r.substr(1)]=i)}return t}(e,n))&&bn(e,i,t,r),function(e,n,t){var r;for(var o in n){var i=n[o];if(!~f.indexOf(o)&&"_"!==o[0]&&"on"!=o.substr(0,2)){if(r=en(e,o),Sn){var u={key:o,value:i,node:e};Sn("values","*",u),u.change&&(i=u.value)}wn(r,i,t+"/"+o)}}}(e,n,t)}}function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wn=function e(n,t,r){var i,u;if(n){if(null===t&&r)an(n,r);else{if(null===t&&!r)return n[o].detached=1,an(n);n[o]&&n[o].detached&&!r&&(n[o].detached=0,un(n))}var a=ce(n);if(u=N(t)){if(U[r]&&0===a.length&&(U[r].parent.insertAdjacentHTML("beforeend",U[r].node),a=ce(U[r].parent.childNodes)),!a.length)return;var f=a[0].parentNode;U[r]||(U[r]={node:a[0].cloneNode(1).outerHTML,parent:f});for(var l=c.createDocumentFragment(),d=0;a.length<t.length;)U[r]?(f.insertAdjacentHTML("beforeend",U[r].node),i=f.lastChild):i=a[0].cloneNode(1),ae(i,++d,r),a.push(i),l.appendChild(i);f.appendChild(l);var s=t.map(function(e){return e&&e._key});if(a.length!=t.length&&-1===s.indexOf(void 0)||(t=t.map(function(e,n){if("object"===In(e)){if(a[n][o]=a[n][o]||{},a[n][o].__key&&"undefined"===In(e._key))return e._key=a[n][o].__key,e;"undefined"===In(e._key)&&(e._key=o+n),a[n][o].__key=e._key}return e})),a.length>t.length)if(0===t.length||"object"!==In(t[0]))for(;a.length>t.length;)(f=(i=a.pop()).parentNode)&&oe(i);else{var v=[],y=t.map(function(e){return e._key});a=a.filter(function(e,n){var t;return"undefined"==In(e[o])?t=1:~y.indexOf(e[o].__key)&&!~v.indexOf(e[o].__key)||(v.push(e[o].__key),t=1),t?(oe(e),!1):(v.push(e[o].__key),!0)})}}for(var p=0;p<a.length;p++)if(u)a[p]&&e(a[p],t[p],p);else{var h=ae(a[p],p+1,r);t&&"object"==In(t)&&t.hasOwnProperty("_key")&&!g(t)&&(a[p][o].isItem=!0,a[p][o].dataPass=t),kn(a[p],t,h,r)}}};K(function e(n){var t=$e.getItem(n.id);if(n.children)for(var r=0;r<n.children.length;r++)e(n.children[r]);~t?(v("onunload",we(t),n,t),He(t),je(t),Q(Ce(t))):n[o]&&n[o].scid&&v("onunload",{},n,n[o].scid)}),G(function(e,n,t){var r;e.id&&$e.isItem(e.id)&&(r=$e.getItem(e.id)),!r&&e[o]&&e[o].scid?v("onunload",{},e,e[o].scid):r&&we(r).onbeforeunload?v("onbeforeunload",we(r),e,r,0,function(){r&&v("onunload",we(r),e,r),n()}):(r&&v("onunload",we(r),e,r,1),n())}),T={getMod:Me,getProps:Oe,innerMods:Ie},L=se,P=$e,A=ze,C=function(e,n){var t=Y();$(Ce(n)),wn(e,we(n)),$(t)};var On=function(e){return O($e.getItemVal(e))},jn=function e(n,t,r){return e._handler(n,t,r)};jn._handler=function(){},jn.rafBounceIds=u,jn._cprops=a,jn.doc=c;var Cn=jn,An=function(e){var n=c.createElement("template");return n.innerHTML=e,n.content.children[0]},En=["#KEY",".KEY","KEY"],Mn=function(e,n){var t;for(var r in En){var o=En[r].replace("KEY",n);if(t=e.querySelector(o))break}return t},Pn=function(e){if("string"==typeof e){if("<"==e.trim()[0]&&(n=An(e)))return n;var n,t=On(~ke||void 0);if(n=Mn(t||Cn.doc,e))return n}return e},Tn=0,Ln=function(e){return g(e)&&(e.id||(e.id=++Tn),i[e.id]=e,e=e.id),e},Vn=function(e,n){return v("willload",we(e),n,e,1)},Hn=function(e,n){if(O($e.getItemVal(e))&&Ae(e))return v("didload",we(e),n,e,1)},Fn=function(e,n){var t=function(e,n){O(n)?se(O(n),e):$e.isItem(n)&&mag.clear(e)}.bind({},e,n);Ee(e,t)},qn=function(e,n,t,r,o){var i=$e.getItem(n);n=Ln(e);var u=S(Oe(i));Hn(i,e),Ae(i)&&v("willgetprops",we(i),e,i,0,t)||(Pe(e.id,i,r,t),u!=S(Oe(i))&&(o=1),Fn(i,e.id),Vn(i,e)||se(e,i,o).then(function(){Hn(i,e)}))};function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Un=[],Bn={},Jn=0,Gn=function(e,n,t,r){Un[e]=Un[e]||[];var o=function(e,n,t,r,i){"object"==Rn(i)&&(r=m(h(r),i),i=0),e<0&&!i&&(i=1);var u=n.id+(r.key?"."+r.key+".":"")+(i||"");!Bn[u]||r.key||~o._id||(u+=++Jn);var a=Bn[u]=Bn[u]||n.cloneNode(1);if(a.id=u,$e.isItem(u))return qn(a,u,r,t),a;var f=De(a.id);return e<0?e=o._id=f:Un[e].push({instanceId:f,subscribe:subscriberHandler.bind({},f)}),qn(a,u,r,t),a}.bind({},e,n,t,r);return o._id=e,o.clones=function(){return Un[o._id]},o.destroy=function(e){destroyerHandler(o._id,o.clones,e)},o.getId=function(){return o._id},o.rafBounce=function(e){return e?u[o._id]=1:!1===e&&(u[o._id]=0),!!u[o._id]},o.draw=function(e){return Cn.redraw(n,o._id,e)},o.getState=function(){return we(o._id)},o.getProps=function(){return Oe(o._id)},o.subscribe=function(e){return subscriberHandler(o._id,e)},o};G(function(e,n){e[o]&&e[o].scid?v("onunload",{},e,e[o].scid):n()}),K(function e(n){if(n.children)for(var t=0;t<n.children.length;t++)e(n.children[t]);n[o]&&n[o].scid&&v("onunload",{},n,n[o].scid)});var Kn=function(e){if("string"==typeof e){var n;if("<"==e.trim()[0]&&(n=An(e)))return n;if(n=Mn(c,e))return n}return e};Cn._handler=function(e,n,t){return Xn(e,n,t,wn,Kn)};var Yn=Cn;function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Dn=0,Wn=function(e,n,t,r){var i,u=[],f=e.cloneNode(1),c=[],l=function l(d){var s,y=e;void 0!==(d=d||{}).key&&(s=d.key+"-"+l.id);var g,b=void 0!==d.key?d.key+"-"+l.id:l.id;if(c[b]||(c[b]="object"==$n(t)?h(t):t),"object"==$n(d)&&(d=function e(n,t,r){for(var o in t)if(void 0===t[o])delete t[o];else if(r&&p(t[o]))return e(n[o],t[o]);return m(n,t)}(c[b],d)),s&&!u[s]?y=u[s]=f.cloneNode(1):s&&u[s]&&(y=u[s]),void 0!==$n(l)&&d&&d.key&&l.key&&l.key!=b&&v("onunload",d,y,l.key),i&&i==y[o].scid)throw Error("MagJS Error - recursive call:"+i);y[o]=y[o]||{},Yn._cprops[b]&&"object"==$n(d)&&(d.children=a[b]),l.props=d,l.key=b,l.fake=r;try{var S=Yn._current;Yn._current=l,g=n(d),i=y[o].scid=b;var _=Y();_&&_[o]&&_[o].scid&&(y[o].pscid=_[o].scid),$(y),wn(y,g)}finally{v("didupdate",d,y,b),$(_),i=0,Yn._current=S}return y};return l.id=++Dn,l.element=f,l},Xn=function(e,n,t,r,i,u){if(e=i(e),n=i(n),t=t||{},g(n)&&g(e))n[o]||r(n,e);else{if("function"==typeof n&&g(e)){try{Wn(e.cloneNode(1),n,t,!0)()}catch(e){}return Wn(e,n,t)}if(u)return u(e,n,t)}};Cn._handler=function(e,n,t){return Xn(e,n,t,wn,Pn,function(e,n,t){return Gn(-1,O(Ln(e)),n,t)})};var zn=Cn;zn.hook=ze,zn.hookin=function(e,n,t){We[e].push({context:{},handler:t,key:n})},zn.redraw=se,zn.begin=function(e){void 0===de[e]?de[e]=1:de[e]++},zn.end=function(e){if(de[e]>1)de[e]--;else{de[e]=0;var n=$e.getItemVal(e);se(O(n),e)}};zn.module=function(e,n,t){t=t||{};var r=function(e,n){var t=n?e+"-"+n:e;return $e.isItem(t)?$e.getItem(t):De(t)}(e=Ln(e),t.key),o=Qn(t,r,n,e);if(o)return Gn(r,o,n,h(t))};var Qn=function(e,n,t,r){e.retain||He(n);var o=O(r);if(Pe(r,n,t,e),Fn(n,r),!Vn(n,o))return se(o,n,1).then(function(){Hn(n,o)}),o};zn.clear=function(e){$e.removeItem(e),He(e),Q(Ce(e))};zn.getNode=O;n.default=zn}]);