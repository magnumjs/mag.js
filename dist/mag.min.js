/*! mag.js - 1.4.3 | (c)2020  https://github.com/magnumjs | MIT */
var mag=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=0)}([function(e,n,t){var r=t(1);e.exports=r.default},function(e,n,t){"use strict";t.r(n);var r,o="__magnum__",i=[],u=[],a=[],c=["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","willupdate","didupdate","didload","willload","isupdate"],f=document,l=function(e){return e},d=[],s=function(e,n,t){var r=e+"-"+n;return d[r]=d[r]||[],d[r].push(t),function(){var e=d[r].indexOf(t);return d[r].splice(e,1)}},v=function(e,n,t,r,o,i){var u;l(r);var a=n&&n[e];a&&!a.called&&(u=a.call(void 0,t,void 0,r,i),o&&(a.called=1));var c=e+"-"+r;if(d[c]){var f=d[c].slice(),s=!0,v=!1,y=void 0;try{for(var p,h=f[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){(0,p.value)(n,void 0,t)}}catch(e){v=!0,y=e}finally{try{s||null==h.return||h.return()}finally{if(v)throw y}}}if(l(-1),!1===u)return!0};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e){var n=y(e);return null!=e&&("object"==n||"function"==n)},h=function(e){return p(e)?Object.assign({},e):e},m=function(){return Object.assign.apply({},arguments)},g=function(e){return e&&1===e.nodeType},b=function(e,n){return"function"==typeof n?""+n:n},S=function(e){return JSON.stringify(e,b)},_=function(e){for(var n in e)if(e.hasOwnProperty(n))return 0;return 1},N=function(e){return Array.isArray(e)};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x="/";function I(e,n,t,r){var i=new WeakSet;return new Proxy(e,{get:function(e,u,a){var f,l=e[u];if("symbol"==k(u))return l;if("object"!==k(l)||"symbol"===k(l)||null===l||"function"==typeof l||Array.isArray(l)||!p(l)||l.then||l.draw)u in e||~c.indexOf(u.toString())||t||"_"==u[0]||(l=e({},n,t,r+x+u));else if(f=l,!i.has(f))return i.add(l),e(l,n,t,r+x+u);var d=n({type:"get",object:e,name:u,path:r,oldValue:Reflect.get(e,u,a)});return void 0!==d&&(l=d==o?void 0:d),l},deleteProperty:function(e,t){return n({type:"delete",name:t,object:e,oldValue:Reflect.get(e,t)}),Reflect.deleteProperty(e,t)},set:function(e,t,r,o){var i=Reflect.get(e,t,o);return i===r&&"length"!==t||(n({type:"set",name:t,object:e,oldValue:i}),Reflect.set(e,t,r,o))}})}var w=function e(n,t,r,o){for(var i in n){var u=k(n[i]);Array.isArray(n[i])&&n[i].length<101?n[i]=I(n[i],t):"object"==u&&null!==n[i]&&"symbol"!=k(i)&&"symbol"!=u&&"function"!=u&&p(n[i])&&(n[i]=e(n[i],t,r,o+x+i))}return I(n,t,r,o||x)};function O(e,n){if(i[e]&&!n)return i[e];var t=f.getElementById(e);return t&&(i[e]=t),i[e]}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A,C,E,P,T,M,L,V=[],H=[],F="function",q=[],R=[],D={},B=function(){return C},J=function(){},$=function(e){return J=e},K=function(e){return E=e},Y=function(){return P},U=function(e){return P=e},W=function(){return T},G=function(){return M},X=function(){return L},z=0,Q=function(e){R[e]&&delete R[e]};function Z(e,n){return e[o]=e[o]||{},e[o].uid&&!n||(e[o].uid=++z),e[o].uid}function ee(e,n){var t=Z(e);return q[t]&&!n?q[t]:q[t]=re(e)}function ne(e,n){var t=Z(e);if(R[Y()]=R[Y()]||[],R[Y()][t]&&R[Y()][t]==n)return 1;R[Y()][t]=n}function te(e){var n="",t=function e(n){return T&&n.id&&T.isItem(n.id)?n:n.parentNode?e(n.parentNode):void 0}(e),r=function(e){for(var n=1;e=e.previousElementSibling;)++n;return n}(e);return t&&(n+='id("'+(t.id||t.tagName)+'")'),n+="/"+e.tagName+"["+r+"]"}function re(e,n){if(e.id&&Y()===e.id||Y()===e)return'id("'+(e.id||e.tagName)+'")';if(e===f.body)return e.tagName;var t=0;if(e.parentNode)for(var r=e.parentNode.childNodes,o=0,i=r.length;o<i;o++){var u=r[o];if(u===e)return re(e.parentNode)+(e.tagName?"/"+e.tagName+"["+(t+1)+"]":"");1===u.nodeType&&u.tagName===e.tagName&&t++}}function oe(e){var n=re(e);e&&H[n+"-config"]&&H[n+"-config"].configContext&&j(H[n+"-config"].configContext.onunload)===F&&(H[n+"-config"].configContext.onunload(H[n+"-config"].configContext,e,n),delete H[n+"-config"],delete V[n]),E&&E(e),e.parentNode&&e.parentNode.removeChild(e)}function ie(e){var n=e&&parseInt(e.split("[").pop().slice(0,-1));return n?parseInt(n)-1:0}var ue=[];function ae(e,n,t){var r=Z(e);if(q[r])return q[r];if(ue[r])return ue[r];var i=+t==+t?n+t:n,u='id("'+("object"==j(Y())?Y().tagName:Y())+'")'+("string"==typeof t?t.split(")")[1]+"/":"/")+e.tagName+"["+i+"]";return ue[r]=e[o].xpath=u}function ce(e,n,t){if(!(!n||e.childNodes[t]&&e.childNodes[t].isEqualNode(n))){for(var r=fe(e.childNodes),o=0,i=r.length;o<i;o++)r[o]&&e.removeChild(r[o]);e.childNodes[t]?e.replaceChild(n,e.childNodes[t]):e.appendChild(n)}}function fe(e){var n;if(null==e.length&&(e=[e]),!N(e)){n=[];for(var t=0;t<e.length;t+=1)e[t]&&n.push(e[t]);e=n}return e}var le=function(e,n,t){return function(e,n,t){if(O(e.id,1),Re(e.id,n)&&e){var r=we(n);if(!v("isupdate",r,e,n)){if(Ve(n)&&!t)return 0;if(!v("willupdate",r,e,n)){qe(e,n);var o=Y();U(e.id),Cn(e,r),U(o),function(e,n){for(var t in n)t.startsWith('id("'+e+'")/')&&n[t]()}(e.id,V),v("didupdate",r,e,n),t||Ve(n)}}}}.bind({},e,n,t)},de=[],se=function(e,n,t){if(!de[n]){if(!e||void 0===n)throw Error("Mag.JS - Id or node invalid: "+Ue.getItemVal(n));if(!Re(e.id,n))return{then:function(e){return e()}};if(t&&V.splice(0,V.length),t&&He(n),xe==n)throw Error("Mag.JS - recursive call:"+n);return Ke(n,le(e,n,t))}},ve=function(e,n){var t=Y();U(e);var r=en(e,n);return U(t),r};function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pe="_value",he=function(e,n,t,r){var o,i=t.toString().split(".");if(i.length>=3)r=function(e,n){for(var t=1;t<e.length;t++){var r=e[t],o=e[t+1],i=ve(Array.isArray(n)?n[0]:n,r);if(o&&!isNaN(Number(o)))n=i[o];else if(i&&i.length&&o&&t+2<e.length)n=ve(i[0],o);else if(i&&i.length&&(n=i,t+2==e.length))break}return Array.isArray(n)?n[0]:n}(i,r),o=ve(r,n);else{var u=parseInt(i.pop()),a=isNaN(u)?0:u;o=ve(r[a]?r[a]:r,n)}return function(e,n,t,r){var o=[];for(var i in e){var u=e[i];ge(u)&&(o.push(u),me(u,n,t,r))}if(o.length)return 1==o.length?o[0]:o;return!1}(o,e,n,r)};function me(e,n,t,r){if(e[o]=e[o]||{},!e[o].eventOnFocus){var i=function(n,t,r,i){var u=~["radio","checkbox"].indexOf(e.type);if(this[o].dirty||(this[o].dirty=1),e.selectedOptions)var a=Array.prototype.map.call(e.selectedOptions,function(e){return e.value});u?"_checked"in t||pe in t?t._checked=this.checked:this.checked&&(t[r]=this.value):void 0!==t[pe]?t[pe]=a||this.value:void 0!==t._text&&(t._text=a||this.value),se(n,Ue.getItem(n.id))}.bind(e,r,n,t);e.addEventListener("click",i),e.addEventListener("input",i),e.addEventListener("change",i),e.addEventListener("focus",i),e[o].eventOnFocus=1}}function ge(e){return e&&~["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)}var be=function(e,n,t,r){var i=t[n];~[pe,"_checked","_text"].indexOf(n)&&"string"==typeof e&&(n=e.split(".").pop());var u=function(e){for(var n in e)if(ge(e[n]))return e[n];return!1}(ve(r,n));if("function"!=typeof i&&u){var a=he.bind({},t,n,e,r);a(),Object.defineProperty(t,n,{configurable:!0,get:function(){var n=a();return n&&"undefined"!==n.value&&n[o]&&n[o].dirty&&n.value!==i?(i=n.value,se(r,e,1),n.value):i},set:function(e){var n=a();n&&"undefined"!==n.value&&n.value!==e&&e!==i&&(n.value=e,i=e)}})}},Se=function e(n,t,r){for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o==pe||"object"!==ye(i)||g(i)?be.bind({},n,o,t,r)():(p(i)&&_(i)&&(i[pe]=""),e(n+"."+o,i,r))}};function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ne=[],ke={runningViewInstance:-1,cache:[]},xe=ke.runningViewInstance,Ie=ke.innerMods=[],we=ke.getState=function(e){return Ne[e][1]};ke.setState=function(e,n){Ne[e][1]=n},ke.getView=function(e){return Ne[e][0]};var Oe=ke.getProps=function(e){return Ne[e]&&Ne[e][2]};ke.setProps=function(e,n){return Ne[e][2]=n};var je=ke.remove=function(e){Ne[e]&&(Ne[e]=0)},Ae=ke.getId=function(e){return Ne[e]&&Ne[e][3]},Ce=ke.exists=function(e){return"object"==_e(Ne[e])},Ee=ke.setFrameId=function(e,n){Ne[e][4]=n};ke.getFrameId=function(e){return Ne[e][4]};var Pe=ke.getMod=function(e){return Ne[e]&&Ne[e][5]},Te=function(e,n,t,r){if(Ne[n])return r.key&&r.key==ke.getProps(n).key?ke.setProps(n,h(m(ke.getProps(n),r))):ke.setProps(n,r),Ne[n];(function(e,n){for(var t in n=n||e,e){var r=e[t];"function"!=typeof r||~["controller","view"].indexOf(t)||(e[t]=r.bind(n))}})(t=h(t),t),Ne[n]=[0,0,0,0,0,0],ke.setProps(n,r);var o={controller:function(r){return t.props=ke.getProps(n),t.state=r,t.element=O(e),(t.controller||function(){}).call(r,t.props)||r},view:function(e,n,r){t.element=r,t.state=n,t.props=ke.getProps(e),t.view&&t.view.call(t,n,t.props,r)}.bind({},n)};return Ne[n][0]=o.view,Ne[n][3]=e,Ne[n][1]=function(e,n,t){return new e(w({},Le.bind({},"state",n)))}(o.controller,n),Ne[n][5]=t,Ne[n]},Me=[];var Le=function(e,n,t){if("get"!=t.type||"props"==e||~c.indexOf(t.name.toString())||void 0!==t.oldValue)"set"==t.type&&"props"!=e&&t.object[t.name]&&t.object[t.name].draw&&"function"==typeof t.object[t.name].draw&&(ke.innerMods[ke.getId(n)]=[t.name,t.object[t.name]]);else{var r=O(ke.getId(n));if(t.path&&"/"==t.path[0])var i=function(e,n){var t=e,r=n.split("/"),o=!0,i=!1,u=void 0;try{for(var a,c=r[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value;if(f){var l=mag._find(t,f);l.length&&(t=l)}}}catch(e){i=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw u}}return t}(r,t.path);i&&"$"!=t.path.split("/").pop()[0]&&(i=i[0]);var u=function(e,n){var t=e.name;if(void 0===e.object[e.name]&&"_"!=t[0]){var r=mag._find(n,t),i="$"===t[0],u=[];return r.length?(r.forEach(function(t){var r;if(t&&t.type&&!~["submit","button"].indexOf(t.type)){if(t.value&&t.value.length>0)if("checkbox"==t.type||"radio"==t.type)if(t.checked&&((r={})._checked=!0),i)r?r._value=t.value:r={_value:t.value};else{var a=n.querySelectorAll("[name="+t.name+"]");if(a.length){var c=!0,f=!1,l=void 0;try{for(var d,s=a[Symbol.iterator]();!(c=(d=s.next()).done);c=!0){var v=d.value;v.checked&&(r?r._value=v.value:r={_value:v.value})}}catch(e){f=!0,l=e}finally{try{c||null==s.return||s.return()}finally{if(f)throw l}}}}else r={_value:t.multiple&&Array.prototype.map.call(t.selectedOptions,function(e){return e.value})||t.value}}else void 0===e.oldValue&&void 0===e.object[e.name]&&t&&!~["submit","button"].indexOf(t.type)&&1==t.childNodes.length&&t.childNodes[0].textContent.trim()&&(r={_text:t.childNodes[0].textContent.trim()});r?u.push(r):t&&!t.hasChildNodes()&&u.push(o)}),0===u.length?void 0:i?u:u[0]&&void 0!==u[0]._value?u[0]._value:u[0]&&u[0]._text?u[0]._text:u[0]):o}if("_"==t[0]){var a=t.substr(1);if(n.length){for(var c in u=[],n){var f,l=n[c];void 0===(f=l[a])&&(f=l.getAttribute(a)),u.push(f)}return u}return void 0===(f=n[a])&&(f=n.getAttribute(a)),f}}(t,i||r);if(null!==u&&"object"==_e(u)&&t.object&&m(u,t.object[t.name]),u)return ke.cached[n]=0,u}var a=ke.getFrameId(n);"function"==typeof a&&"set"==t.type&&(cancelAnimationFrame(Me[n]),Me[n]=requestAnimationFrame(a))};var Ve=ke.iscached=function(e){var n=S([ke.getProps(e),ke.getState(e)]);if(e in ke.cache&&ke.cache[e]==n)return!0;ke.cache[e]=n},He=ke.clear=function(e){~e&&ke.cache[e]&&ke.cache.splice(e,1)};ke.cached=[];var Fe,qe=function(e,n){ke.runningViewInstance=n,ke.cached[n]||(Se(n,ke.getState(n),e),ke.cached[n]=1);try{ke.exists(n)&&ke.getView(n)(ke.getState(n),e)}finally{ke.runningViewInstance=-1}},Re=function(e,n){return!(n<0||n!=Ue.getItem(e))||e==Ae(n)},De={},Be=[],Je=[],$e=[],Ke=function(e,n){return new Promise(function(t){u[e]&&n?(Je[e]&&($e[e](),cancelAnimationFrame(Je[e])),$e[e]=t,Je[e]=requestAnimationFrame(function(r){Je[e]=0,n(),t()})):(n&&Be.push(n),Fe||(Fe=requestAnimationFrame(function(n){return function(e,n,t){var r;Fe=0;do{var o=Be.shift();o&&o(),r=performance.now()}while(Be.length&&Ye(r,n));Be.length?Ke(t).then(e):e()}(t,n,e)})))})};function Ye(e,n){return!r||e-n<r}var Ue={i:[],isItem:function(e){return~Ue.i.indexOf(e)},setItem:function(e){return Ue.i[Ue.i.length]=e},getItem:function(e){return Ue.i.indexOf(e)},getItemVal:function(e){return Ue.i[e]},removeItem:function(e){return Ue.i.splice(Ue.i.indexOf(e),1)}};De.items=Ue,De.getItemInstanceIdAll=function(){return Ue.i};var We=function(e){return Ue.isItem(e)?Ue.getItem(e):(Ue.setItem(e),Ue.getItem(e))},Ge={values:[],attributes:[],elementMatcher:[]},Xe=function(e,n,t,r,o,i){e[t][r].key==n&&(i={v:o.value,k:o.key},o.change=!1,e[t][r].handler.call(e[t][r].context,o),i!=={v:o.value,k:o.key}&&(o.change=!0))},ze=function(e,n,t){for(var r=0,o=Ge[e].length;r<o;r++)Xe(Ge,n,e,r,t)},Qe=B(),Ze=W();function en(e,n,t){var r=function(e){var n=[];if(e){var t=e.childNodes;if(t)for(var r=0;r<t.length;r+=1)1===t[r].nodeType&&nn(t[r])&&n.push(t[r])}return n}(e),o=[],i=n,u="$"===n[0];"$"===i[0]&&(i=i.substr(1));for(var a=0;a<r.length;a+=1)tn(r[a],i)&&o.push(r[a]);if(!o.length||u)for(a=0;a<r.length&&(!(o=o.concat(en(r[a],n,!0))).length||u);a++);if(!t&&!o.length&&Qe){var c={key:n,value:o,node:e};Qe("elementMatcher",n,c),c.change&&(o=c.value)}return o}function nn(e){return Y()&&e.id&&e.id!=Y()&&Ze&&Ze.isItem(e.id)?0:1}function tn(e,n){var t=" "+e.className+" ";return e.id===n||~t.indexOf(" "+n+" ")||e.name===n||e.nodeName.toLowerCase()===n.toLowerCase()||e.getAttribute("data-bind")===n}var rn=J,on=[];function un(e,n,t){(n?en(e,n):fe(e.childNodes.length?e.childNodes:e)).forEach(function(e){var n=Z(e);if(n in on){if(!t)for(var r in on[n])e.appendChild(on[n][r]);delete on[n]}})}function an(e,n){var t=0,r=function(e){if(1==++t)for(;e.lastChild;)oe(e.lastChild)};(n?en(e,n):fe(e)).forEach(function(e){var n=Z(e);e.childNodes.length&&(on[n]=fe(e.childNodes));for(var t in on[n]){var o=on[n][t];rn(o,function(){r(e)},1)}r(e)})}var cn=W(),fn=X(),ln=G(),dn=A;function sn(e,n){if(!ne(e,n)&&(!n.id&&!e.childNodes[0]||n.id&&!f.getElementById(n.id)||e.firstChild&&!e.firstChild.isEqualNode(n))){var t;if(cn&&(t=cn.getItem(n.id)),cn&&~t&&e.hasChildNodes()){var r=cn.getItem(getId()),i=e.cloneNode(1);i[o]={childof:r},ln&&ln.getProps&&(ln.getProps(t).children=i),fn(n,t)}else n[o]&&n[o].scid&&!a[n[o].scid]&&((i=e.cloneNode(1))[o]={childof:n[o].scid},a[n[o].scid]=i);for(;e.lastChild;)oe(e.lastChild);if(n[o]&&void 0!==n[o].childof){e.innerHTML=n.innerHTML;var u=n[o].childof;!a[u]&&dn&&(dn(e,u),s("willupdate",u,function(){dn(e,u)}))}else e.appendChild(n)}}var vn=X(),yn=W(),pn=G();function hn(e,n){return function(e,n,t){var r,i=te(n),u=(r=i)&&~r.indexOf("id(")&&r.split('id("')[1].split('")')[0];u||(u=function e(n,t){if(n[o]&&n[o].scid&&!n[o].pscid)t=n;else if(t)return t;if(n.parentNode)return e(n.parentNode,t)}(n));var a=Y();U(u);var c=function e(n){return n&&n[o]&&n[o].isItem?n:n.parentNode?e(n.parentNode):void 0}(n),l=c&&re(c),d=ie(l),s=ie(i=i),v={path:l,node:c,data:((c||{})[o]||[]).dataPass,index:d};U(a);var y=f.getElementById(u),p=yn&&yn.getItem(u),h=e.call(~p&&pn?pn.getMod(p):y,t,s,n,v);if(u&&y){var m=function(){vn(y,p,1)};h&&h.then?h.then(function(e){return m(),e}):m()}return h}.bind({},n,e)}function mn(e,n,t,r){var i=n.substr(2).toLowerCase(),u=("string"==typeof r?r.split("/")[0]:"")+"-"+t[o].uid,a=t[o].events=t[o].events||[],c=t[o].eventHandlers=t[o].eventHandlers||[];c[i]=c[i]||[],c[i][u]=e,a[i]||(a[i]=1,function(e,n){function t(t){var r=e[o].eventHandlers[n];for(var i in r){var u=r[i];!1===hn(e,u)(t)&&t.preventDefault()}}e.removeEventListener(n,t),e.addEventListener(n,t)}(t,i))}var gn=B();function bn(e,n,t,r){var i=ie(t);for(var u in H[Z(e)]=H[Z(e)]||[],n)if("text"!==u&&"html"!==u)if(0==u.indexOf("on"))mn(n[u],u,e,r);else{if("config"==u){i=ie(t=ee(e));var c=!0;H[t+"-config"]?c=!1:H[t+"-config"]={};var f=H[t+"-config"].configContext=H[t+"-config"].configContext||{};configs[t]=function(e,n){return function(){return e.apply(e,n)}}(n[u],[e,c,f,i]);continue}if(gn){var l={key:u,value:n[u],node:e};gn("attributes",u,l),l.change&&(n[u=l.key]=l.value)}if(H[Z(e)]&&H[Z(e)][u]==n[u])continue;null===n[u]?e.removeAttribute(u):"value"==u&&e.multiple&&e.selectedOptions&&N(n[u])?(e.value=n[u],n[u].forEach(function(n){Array.from(e.options).find(function(e){return e.value==n}).selected=!0})):u in e?"style"==u?e[u].cssText=n[u]:e[u]=n[u]:e.setAttribute(u,String(n[u])),H[Z(e)][u]=n[u]}!function(e,n){if(e&&null!=n&&!ne(e,n)){var t=String(n);if("INPUT"===e.nodeName)if(~["radio","checkbox"].indexOf(e.type)){if(e.name){var r=O(Y()).querySelectorAll("[name="+e.name+"]");if(r.length>1){var o=!0,i=!1,u=void 0;try{for(var a,c=r[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value;if(f.value==t){f.checked=!0;break}}}catch(e){i=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw u}}}}}else t!=e.value&&(e.value=t);else"SELECT"!==e.nodeName&&(e.firstChild?e.firstChild.textContent=t:e.appendChild(e.ownerDocument.createTextNode(t)));"SELECT"===e.nodeName&&t&&(e.value=t)}}(e,n.text),function(e,n){if(N(n))for(var t in n)ce(e,n[t],t);else if(!g(n)||ne(e,n))e&&null!=n&&!ne(e,n)&&(e.innerHTML=n);else{if(n[o]&&n[o].scid&&!a[n[o].scid]){var r=e.cloneNode(1);r[o]={childof:n[o].scid},a[n[o].scid]=r}ce(e,n,0)}}(e,n.html)}var Sn=B();var _n=function(e){var n=f.createElement("template");return n.innerHTML=e,n.content.children[0]},Nn=["#KEY",".KEY","KEY"],kn=function(e,n){var t;for(var r in Nn){var o=Nn[r].replace("KEY",n);if(t=e.querySelector(o))break}return t},xn=function(e){if("string"==typeof e){var n;if("<"==e.trim()[0]&&(n=_n(e)))return n;try{n=kn(f,e)}catch(e){}if(n)return n}return e};function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wn=G(),On=function(e,n,t,r){var i=e((t=function(e){var n=[];return e.replace(/\[(.+?)\]/g,function(e,t){n.push(t)}),n}(r=ee(n))).join("."),r);if(!i||!g(i))return jn(n,i,r);sn(n,i),n[o]=n[o]||{},n[o].isItem=!0,n[o].dataPass={index:t},e.draw&&e.draw()};function jn(e,n,t,r){var i,u=wn&&wn.innerMods,a=ie(t);if((n=xn(n))&&g(n))sn(e,n);else{if("function"==typeof n)return On(n,e,a,t);if("object"!==In(n))return jn(e,{_text:n},t);u&&u[Y()]&&n[u[Y()][0]]&&!n[u[Y()][0]].draw&&u[Y()][1].destroy(),(i=function(e,n){var t;for(var r in n){var i=n[r];void 0===i?i="":null===i&&-1===["onunload"].indexOf(r)?(e[o].detached=e[o].detached||[],e[o].detached[r]=1,an(e,r)):e[o].detached&&e[o].detached[r]&&(un(e,r,i.nodeType),e[o].detached[r]=0),("_"===r[0]&&"_"!==r[1]||"on"==r.substr(0,2))&&(t=t||{},"on"==r.substr(0,2)?t[r]=i:t[r.substr(1)]=i)}return t}(e,n))&&bn(e,i,t,r),function(e,n,t){var r;for(var o in n){var i=n[o];if(!~c.indexOf(o)&&"_"!==o[0]&&"on"!=o.substr(0,2)){if(r=en(e,o),Sn){var u={key:o,value:i,node:e};Sn("values","*",u),u.change&&(i=u.value)}Cn(r,i,t+"/"+o)}}}(e,n,t)}}function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Cn=function e(n,t,r){var i,u;if(n){if(null===t&&r)an(n,r);else{if(null===t&&!r)return n[o].detached=1,an(n);n[o]&&n[o].detached&&!r&&(n[o].detached=0,un(n))}var a=fe(n);if(u=N(t)){if(D[r]&&0===a.length&&(D[r].parent.insertAdjacentHTML("beforeend",D[r].node),a=fe(D[r].parent.childNodes)),!a.length)return;var c=a[0].parentNode;D[r]||(D[r]={node:a[0].cloneNode(1).outerHTML,parent:c});for(var l=f.createDocumentFragment(),d=0;a.length<t.length;)D[r]?(c.insertAdjacentHTML("beforeend",D[r].node),i=c.lastChild):i=a[0].cloneNode(1),ae(i,++d,r),a.push(i),l.appendChild(i);c.appendChild(l);var s=t.map(function(e){return e&&e._key});if(a.length!=t.length&&-1===s.indexOf(void 0)||(t=t.map(function(e,n){if("object"===An(e)){if(a[n][o]=a[n][o]||{},a[n][o].__key&&"undefined"===An(e._key))return e._key=a[n][o].__key,e;"undefined"===An(e._key)&&(e._key=o+n),a[n][o].__key=e._key}return e})),a.length>t.length)if(0===t.length||"object"!==An(t[0]))for(;a.length>t.length;)(c=(i=a.pop()).parentNode)&&oe(i);else{var v=[],y=t.map(function(e){return e._key});a=a.filter(function(e,n){var t;return"undefined"==An(e[o])?t=1:~y.indexOf(e[o].__key)&&!~v.indexOf(e[o].__key)||(v.push(e[o].__key),t=1),t?(oe(e),!1):(v.push(e[o].__key),!0)})}}for(var p=0;p<a.length;p++)if(u)a[p]&&e(a[p],t[p],p);else{var h=ae(a[p],p+1,r);t&&"object"==An(t)&&t.hasOwnProperty("_key")&&!g(t)&&(a[p][o].isItem=!0,a[p][o].dataPass=t),jn(a[p],t,h,r)}}};K(function e(n){var t=Ue.getItem(n.id);if(n.children)for(var r=0;r<n.children.length;r++)e(n.children[r]);~t?(v("onunload",we(t),n,t),He(t),je(t),Q(Ae(t))):n[o]&&n[o].scid&&v("onunload",{},n,n[o].scid)}),$(function(e,n,t){var r;e.id&&Ue.isItem(e.id)&&(r=Ue.getItem(e.id)),!r&&e[o]&&e[o].scid?v("onunload",{},e,e[o].scid):r&&we(r).onbeforeunload?v("onbeforeunload",we(r),e,r,0,function(){r&&v("onunload",we(r),e,r),n()}):(r&&v("onunload",we(r),e,r,1),n())}),M={getMod:Pe,getProps:Oe,innerMods:Ie},L=se,T=Ue,C=ze,A=function(e,n){var t=Y();U(Ae(n)),Cn(e,we(n)),U(t)};var En=function(e){return O(Ue.getItemVal(e))},Pn=function e(n,t,r){return e._handler(n,t,r)};Pn._handler=function(){},Pn.rafBounceIds=u,Pn._cprops=a,Pn.doc=f;var Tn=Pn,Mn=function(e){if("string"==typeof e){if("<"==e.trim()[0]&&(n=_n(e)))return n;var n,t=En(~xe||void 0);if(n=kn(t||Tn.doc,e))return n}return e},Ln=0,Vn=function(e){return g(e)&&(e.id||(e.id=++Ln),i[e.id]=e,e=e.id),e},Hn=function(e,n){return v("willload",we(e),n,e,1)},Fn=function(e,n){if(O(Ue.getItemVal(e))&&Ce(e))return v("didload",we(e),n,e,1)},qn=function(e,n){var t=function(e,n){O(n)?se(O(n),e):Ue.isItem(n)&&mag.clear(e)}.bind({},e,n);Ee(e,t)},Rn=function(e,n,t,r,o){var i=Ue.getItem(n);n=Vn(e);var u=S(Oe(i));Fn(i,e),Ce(i)&&v("willgetprops",we(i),e,i,0,t)||(Te(e.id,i,r,t),u!=S(Oe(i))&&(o=1),qn(i,e.id),Hn(i,e)||se(e,i,o).then(function(){Fn(i,e)}))};function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Bn=[],Jn={},$n=0,Kn=function(e,n,t,r){Bn[e]=Bn[e]||[];var o=function(e,n,t,r,i){"object"==Dn(i)&&(r=m(h(r),i),i=0),e<0&&!i&&(i=1);var u=n.id+(r.key?"."+r.key+".":"")+(i||"");!Jn[u]||r.key||~o._id||(u+=++$n);var a=Jn[u]=Jn[u]||n.cloneNode(1);if(a.id=u,Ue.isItem(u))return Rn(a,u,r,t),a;var c=We(a.id);return e<0?e=o._id=c:Bn[e].push({instanceId:c,subscribe:subscriberHandler.bind({},c)}),Rn(a,u,r,t),a}.bind({},e,n,t,r);return o._id=e,o.clones=function(){return Bn[o._id]},o.destroy=function(e){destroyerHandler(o._id,o.clones,e)},o.getId=function(){return o._id},o.rafBounce=function(e){return e?u[o._id]=1:!1===e&&(u[o._id]=0),!!u[o._id]},o.draw=function(e){return Tn.redraw(n,o._id,e)},o.getState=function(){return we(o._id)},o.getProps=function(){return Oe(o._id)},o.subscribe=function(e){return subscriberHandler(o._id,e)},o};function Yn(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$(function(e,n){e[o]&&e[o].scid?v("onunload",{},e,e[o].scid):n()}),K(function e(n){if(n.children)for(var t=0;t<n.children.length;t++)e(n.children[t]);n[o]&&n[o].scid&&v("onunload",{},n,n[o].scid)});var Wn=0;function Gn(e){var n=[];for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i=r.reduce(function e(t,r){if(r&&r.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(r=r.childNodes),!Array.isArray(r)){if("object"===Un(r)&&r instanceof Node){var o="p-".concat(++Wn,"-").concat(Date.now());return n.push({id:o,node:r}),t.concat("<".concat(r.nodeName,' id="').concat(o,'"></').concat(r.nodeName,">"))}return r&&"function"==typeof r.item&&"number"==typeof r.length?t.concat(Array.prototype.reduce.call(r,e,[])):t.concat(r)}t.concat(r)},[]).join("").replace(/^\s*</,"<").replace(/>\s*$/,">"),u=e.createElement("template");u.innerHTML=i;var a=u.content;n.forEach(function(e){var n=e.id,t=e.node,r=a.querySelector("".concat(t.nodeName,"#").concat(n));r.parentNode.replaceChild(t,r)});for(var c=!1,f=0;f<r.length;f++)if(""!=r[f]){if(r[f]instanceof Node){c=!0;break}break}if(1!=a.childNodes.length||c)return a;var l=a.firstChild;return a.removeChild(l),l}var Xn=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];var i=n.reduce(function(e,t,o){return e.concat(t,o+1===n.length?[]:r[o])},[]);return Gn.apply(void 0,[e].concat(Yn(i)))}.apply(void 0,[f,e].concat(t))};Tn._handler=function(e,n,t){return nt(e,n,t,Cn,xn)},Tn.dom=Xn;var zn=Tn;function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Zn=0,et=function(e,n,t,r){var i,u=[],c=e.cloneNode(1),f=[],l=function l(d){var s,y=e;void 0!==(d=d||{}).key&&(s=d.key+"-"+l.id);var g,b=void 0!==d.key?d.key+"-"+l.id:l.id;if(f[b]||(f[b]="object"==Qn(t)?h(t):t),"object"==Qn(d)&&(d=function e(n,t,r){for(var o in t)if(void 0===t[o])delete t[o];else if(r&&p(t[o]))return e(n[o],t[o]);return m(n,t)}(f[b],d)),s&&!u[s]?y=u[s]=c.cloneNode(1):s&&u[s]&&(y=u[s]),void 0!==Qn(l)&&d&&d.key&&l.key&&l.key!=b&&v("onunload",d,y,l.key),i&&i==y[o].scid)throw Error("MagJS Error - recursive call:"+i);y[o]=y[o]||{},zn._cprops[b]&&"object"==Qn(d)&&(d.children=a[b]),l.props=d,l.key=b,l.fake=r;try{var S=zn._current;zn._current=l,g=n(d),i=y[o].scid=b;var _=Y();_&&_[o]&&_[o].scid&&(y[o].pscid=_[o].scid),U(y),Cn(y,g)}finally{v("didupdate",d,y,b),U(_),i=0,zn._current=S}return y};return l.id=++Zn,l.element=c,l},nt=function(e,n,t,r,i,u){if(e=i(e),n=i(n),t=t||{},g(n)&&g(e))n[o]||r(n,e);else{if("function"==typeof n&&g(e)){try{et(e.cloneNode(1),n,t,!0)()}catch(e){}return et(e,n,t)}if(u)return u(e,n,t)}};Tn._handler=function(e,n,t){return nt(e,n,t,Cn,Mn,function(e,n,t){return Kn(-1,O(Vn(e)),n,t)})};var tt=Tn;tt.hook=ze,tt.hookin=function(e,n,t){Ge[e].push({context:{},handler:t,key:n})},tt.redraw=se,tt.begin=function(e){void 0===de[e]?de[e]=1:de[e]++},tt.end=function(e){if(de[e]>1)de[e]--;else{de[e]=0;var n=Ue.getItemVal(e);se(O(n),e)}};tt.module=function(e,n,t){t=t||{};var r=function(e,n){var t=n?e+"-"+n:e;return Ue.isItem(t)?Ue.getItem(t):We(t)}(e=Vn(e),t.key),o=rt(t,r,n,e);if(o)return Kn(r,o,n,h(t))};var rt=function(e,n,t,r){e.retain||He(n);var o=O(r);if(Te(r,n,t,e),qn(n,r),!Hn(n,o))return se(o,n,1).then(function(){Fn(n,o)}),o};tt.clear=function(e){Ue.removeItem(e),He(e),Q(Ae(e))};tt.getNode=O;n.default=tt}]);