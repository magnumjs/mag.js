/*! mag.js - 1.5.3 | (c)2020  https://github.com/magnumjs | MIT */
var mag=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=3)}([function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"e",function(){return o}),t.d(n,"g",function(){return i}),t.d(n,"b",function(){return a}),t.d(n,"d",function(){return u}),t.d(n,"c",function(){return c}),t.d(n,"f",function(){}),t.d(n,"h",function(){}),t.d(n,"i",function(){return f});var r="__magnum__",o=[],i=[],a=[],u=["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","willupdate","didupdate","didload","willload","isupdate"],c=document,f=function(e){return e}},function(e,n,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.d(n,"f",function(){return o}),t.d(n,"g",function(){return i}),t.d(n,"a",function(){return a}),t.d(n,"h",function(){return u}),t.d(n,"b",function(){return c}),t.d(n,"e",function(){return f}),t.d(n,"i",function(){return d}),t.d(n,"d",function(){return s}),t.d(n,"c",function(){return v});var o=function(e){var n=r(e);return null!=e&&("object"==n||"function"==n)},i=function(e){return"string"==typeof e},a=function(e){return o(e)?Object.assign({},e):e},u=function(){return Object.assign.apply({},arguments)},c=function e(n,t,r){for(var i in t)if(void 0===t[i])delete t[i];else if(r&&o(t[i]))return e(n[i],t[i]);return u(n,t)},f=function(e){return e&&1===e.nodeType},l=function(e,n){return"function"==typeof n?""+n:n},d=function(e){return JSON.stringify(e,l)},s=function(e){for(var n in e)if(e.hasOwnProperty(n))return 0;return 1},v=function(e){return Array.isArray(e)}},function(e,n,t){"use strict";(function(e){var r=t(0),o=t(1);function i(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a,u=0;function c(e){var n=[],t=[];for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];var f=i.reduce(function e(r,i){i&&i.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(i=i.childNodes),Object(o.g)(i)&&i.split("<").forEach(function(e){var n=e[0];if(n&&n==n.toUpperCase()&&n!=n.toLowerCase()){var r=e.split("/")[0].split(" ")[0];t.push({name:r})}});if(!Object(o.c)(i)){if(Object(o.f)(i)&&Object(o.e)(i)){var a="p-".concat(++u,"-").concat(Date.now());return n.push({id:a,node:i}),r.concat("<".concat(i.nodeName,' id="').concat(a,'"></').concat(i.nodeName,">"))}return i&&"function"==typeof i.item&&"number"==typeof i.length?r.concat(Array.prototype.reduce.call(i,e,[])):r.concat(i)}r.concat(i)},[]).join("").replace(/^\s*</,"<").replace(/>\s*$/,">"),l=e.createElement("template");l.innerHTML=f;var d=l.content;n.forEach(function(e){var n=e.id,t=e.node,r=d.querySelector("".concat(t.nodeName,"#").concat(n));r.parentNode.replaceChild(t,r)}),t.forEach(function(e){var n=d.querySelectorAll(e.name);n&&n.forEach(function(n){for(var t={},r=0,o=n.attributes.length;r<o;r++){var i=n.attributes[r];t[i.name]=i.value}if("function"==typeof a[e.name]){var u=a[e.name](t);n.parentNode.replaceChild(u,n)}})});for(var s=!1,v=0;v<i.length;v++)if(""!=i[v]){if(i[v]instanceof Node){s=!0;break}break}if(1!=d.childNodes.length||s)return d;var p=d.firstChild;return d.removeChild(p),p}n.a=function(n){a=e||this||window;for(var t=arguments.length,o=new Array(t>1?t-1:0),u=1;u<t;u++)o[u-1]=arguments[u];return function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];var a=n.reduce(function(e,t,o){return e.concat(t,o+1===n.length?[]:r[o])},[]);return c.apply(void 0,[e].concat(i(a)))}.apply(void 0,[r.c,n].concat(o))}}).call(this,t(4))},function(e,n,t){var r=t(5);e.exports=r.default},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":t(window))&&(r=window)}e.exports=r},function(e,n,t){"use strict";t.r(n);var r=t(0),o=[],i=function(e,n,t){var r=e+"-"+n;return o[r]=o[r]||[],o[r].push(t),function(){var e=o[r].indexOf(t);return o[r].splice(e,1)}},a=function(e,n,t,i,a,u){var c;Object(r.i)(i);var f=n&&n[e];f&&!f.called&&(c=f.call(void 0,t,void 0,i,u),a&&(f.called=1));var l=e+"-"+i;if(o[l]){var d=o[l].slice(),s=!0,v=!1,p=void 0;try{for(var y,h=d[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){(0,y.value)(n,void 0,t)}}catch(e){v=!0,p=e}finally{try{s||null==h.return||h.return()}finally{if(v)throw p}}}if(Object(r.i)(-1),!1===c)return!0},u=t(1);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f="/";function l(e,n,t,o){var i=new WeakSet;return new Proxy(e,{get:function(e,a,l){var d,s=e[a];if("symbol"==c(a))return s;if("object"!==c(s)||"symbol"===c(s)||null===s||"function"==typeof s||Object(u.c)(s)||!Object(u.f)(s)||s.then||s.draw)a in e||~r.d.indexOf(a.toString())||t||"_"==a[0]||(s=e({},n,t,o+f+a));else if(d=s,!i.has(d))return i.add(s),e(s,n,t,o+f+a);var v=n({type:"get",object:e,name:a,path:o,oldValue:Reflect.get(e,a,l)});return void 0!==v&&(s=v==r.a?void 0:v),s},deleteProperty:function(e,t){return n({type:"delete",name:t,object:e,oldValue:Reflect.get(e,t)}),Reflect.deleteProperty(e,t)},set:function(e,t,r,o){var i=Reflect.get(e,t,o);return i===r&&"length"!==t||(n({type:"set",name:t,object:e,oldValue:i}),Reflect.set(e,t,r,o))}})}var d=function e(n,t,r,o){for(var i in n){var a=c(n[i]);Object(u.c)(n[i])&&n[i].length<101?n[i]=l(n[i],t):"object"==a&&null!==n[i]&&"symbol"!=c(i)&&"symbol"!=a&&"function"!=a&&Object(u.f)(n[i])&&(n[i]=e(n[i],t,r,o+f+i))}return l(n,t,r,o||f)};function s(e,n){if(r.e[e]&&!n)return r.e[e];var t=r.c.getElementById(e);return t&&(r.e[e]=t),r.e[e]}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p,y,h,b,m,g,O,S=[],j=[],_="function",N=[],w=[],k={},x=function(){return y},I=function(){},C=function(e){return I=e},E=function(e){return h=e},A=function(){return b},P=function(e){return b=e},T=function(){return m},M=function(){return g},L=function(){return O},V=0,H=function(e){w[e]&&delete w[e]};function F(e,n){return e[r.a]=e[r.a]||{},e[r.a].uid&&!n||(e[r.a].uid=++V),e[r.a].uid}function q(e,n){var t=F(e);return N[t]&&!n?N[t]:N[t]=B(e)}function R(e,n){var t=F(e);if(w[A()]=w[A()]||[],w[A()][t]&&w[A()][t]==n)return 1;w[A()][t]=n}function D(e){var n="",t=function e(n){return m&&n.id&&m.isItem(n.id)?n:n.parentNode?e(n.parentNode):void 0}(e),r=function(e){for(var n=1;e=e.previousElementSibling;)++n;return n}(e);return t&&(n+='id("'+(t.id||t.tagName)+'")'),n+="/"+e.tagName+"["+r+"]"}function B(e,n){if(e.id&&A()===e.id||A()===e)return'id("'+(e.id||e.tagName)+'")';if(e===r.c.body)return e.tagName;var t=0;if(e.parentNode)for(var o=e.parentNode.childNodes,i=0,a=o.length;i<a;i++){var u=o[i];if(u===e)return B(e.parentNode)+(e.tagName?"/"+e.tagName+"["+(t+1)+"]":"");1===u.nodeType&&u.tagName===e.tagName&&t++}}function J(e){var n=B(e);e&&j[n+"-config"]&&j[n+"-config"].configContext&&v(j[n+"-config"].configContext.onunload)===_&&(j[n+"-config"].configContext.onunload(j[n+"-config"].configContext,e,n),delete j[n+"-config"],delete S[n]),h&&h(e),e.parentNode&&e.parentNode.removeChild(e)}function $(e){var n=e&&parseInt(e.split("[").pop().slice(0,-1));return n?parseInt(n)-1:0}var K=[];function U(e,n,t){var o=F(e);if(N[o])return N[o];if(K[o])return K[o];var i=+t==+t?n+t:n,a='id("'+("object"==v(A())?A().tagName:A())+'")'+(Object(u.g)(t)?t.split(")")[1]+"/":"/")+e.tagName+"["+i+"]";return K[o]=e[r.a].xpath=a}function Y(e,n,t){if(!(!n||e.childNodes[t]&&e.childNodes[t].isEqualNode(n))){for(var r=W(e.childNodes),o=0,i=r.length;o<i;o++)r[o]&&e.removeChild(r[o]);e.childNodes[t]?e.replaceChild(n,e.childNodes[t]):e.appendChild(n)}}function W(e){var n;if(null==e.length&&(e=[e]),!Object(u.c)(e)){n=[];for(var t=0;t<e.length;t+=1)e[t]&&n.push(e[t]);e=n}return e}var G=function(e,n,t){return function(e,n,t){if(s(e.id,1),we(e.id,n)&&e){var r=de(n);if(!a("isupdate",r,e,n)){if(Se(n)&&!t)return 0;if(!a("willupdate",r,e,n)){Ne(e,n);var o=A();P(e.id),vn(e,r),P(o),function(e,n){for(var t in n)t.startsWith('id("'+e+'")/')&&n[t]()}(e.id,S),a("didupdate",r,e,n),t||Se(n)}}}}.bind({},e,n,t)},X=[],z=function(e,n,t){if(!X[n]){if(!e||void 0===n)throw Error("Mag.JS - Id or node invalid: "+Pe.getItemVal(n));if(!we(e.id,n))return{then:function(e){return e()}};if(t&&S.splice(0,S.length),t&&je(n),fe==n)throw Error("Mag.JS - recursive call:"+n);return Ee(n,G(e,n,t))}},Q=function(e,n){var t=A();P(e);var r=qe(e,n);return P(t),r};function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ee="_value",ne=function(e,n,t,r){var o,i=t.toString().split(".");if(i.length>=3)r=function(e,n){for(var t=1;t<e.length;t++){var r=e[t],o=e[t+1],i=Q(Object(u.c)(n)?n[0]:n,r);if(o&&!isNaN(Number(o)))n=i[o];else if(i&&i.length&&o&&t+2<e.length)n=Q(i[0],o);else if(i&&i.length&&(n=i,t+2==e.length))break}return Object(u.c)(n)?n[0]:n}(i,r),o=Q(r,n);else{var a=parseInt(i.pop()),c=isNaN(a)?0:a;o=Q(r[c]?r[c]:r,n)}return function(e,n,t,r){var o=[];for(var i in e){var a=e[i];re(a)&&(o.push(a),te(a,n,t,r))}if(o.length)return 1==o.length?o[0]:o;return!1}(o,e,n,r)};function te(e,n,t,o){if(e[r.a]=e[r.a]||{},!e[r.a].eventOnFocus){var i=function(n,t,o,i){var a=~["radio","checkbox"].indexOf(e.type);if(this[r.a].dirty||(this[r.a].dirty=1),e.selectedOptions)var u=Array.prototype.map.call(e.selectedOptions,function(e){return e.value});a?"_checked"in t||ee in t?t._checked=this.checked:this.checked&&(t[o]=this.value):void 0!==t[ee]?t[ee]=u||this.value:void 0!==t._text&&(t._text=u||this.value),z(n,Pe.getItem(n.id))}.bind(e,o,n,t);e.addEventListener("click",i),e.addEventListener("input",i),e.addEventListener("change",i),e.addEventListener("focus",i),e[r.a].eventOnFocus=1}}function re(e){return e&&~["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)}var oe=function(e,n,t,o){var i=t[n];~[ee,"_checked","_text"].indexOf(n)&&Object(u.g)(e)&&(n=e.split(".").pop());var a=function(e){for(var n in e)if(re(e[n]))return e[n];return!1}(Q(o,n));if("function"!=typeof i&&a){var c=ne.bind({},t,n,e,o);c(),Object.defineProperty(t,n,{configurable:!0,get:function(){var n=c();return n&&"undefined"!==n.value&&n[r.a]&&n[r.a].dirty&&n.value!==i?(i=n.value,z(o,e,1),n.value):i},set:function(e){var n=c();n&&"undefined"!==n.value&&n.value!==e&&e!==i&&(n.value=e,i=e)}})}},ie=function e(n,t,r){for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o==ee||"object"!==Z(i)||Object(u.e)(i)?oe.bind({},n,o,t,r)():(Object(u.f)(i)&&Object(u.d)(i)&&(i[ee]=""),e(n+"."+o,i,r))}};function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ue=[],ce={runningViewInstance:-1,cache:[]},fe=ce.runningViewInstance,le=ce.innerMods=[],de=ce.getState=function(e){return ue[e][1]};ce.setState=function(e,n){ue[e][1]=n},ce.getView=function(e){return ue[e][0]};var se=ce.getProps=function(e){return ue[e]&&ue[e][2]};ce.setProps=function(e,n){return ue[e][2]=n};var ve=ce.remove=function(e){ue[e]&&(ue[e]=0)},pe=ce.getId=function(e){return ue[e]&&ue[e][3]},ye=ce.exists=function(e){return"object"==ae(ue[e])},he=ce.setFrameId=function(e,n){ue[e][4]=n};ce.getFrameId=function(e){return ue[e][4]};var be=ce.getMod=function(e){return ue[e]&&ue[e][5]},me=function(e,n,t,r){if(ue[n])return r.key&&r.key==ce.getProps(n).key?ce.setProps(n,Object(u.a)(Object(u.h)(ce.getProps(n),r))):ce.setProps(n,r),ue[n];(function(e,n){for(var t in n=n||e,e){var r=e[t];"function"!=typeof r||~["controller","view"].indexOf(t)||(e[t]=r.bind(n))}})(t=Object(u.a)(t),t),ue[n]=[0,0,0,0,0,0],ce.setProps(n,r);var o={controller:function(r){return t.props=ce.getProps(n),t.state=r,t.element=s(e),(t.controller||function(){}).call(r,t.props)||r},view:function(e,n,r){t.element=r,t.state=n,t.props=ce.getProps(e),t.view&&t.view.call(t,n,t.props,r)}.bind({},n)};return ue[n][0]=o.view,ue[n][3]=e,ue[n][1]=function(e,n,t){return new e(d({},Oe.bind({},"state",n)))}(o.controller,n),ue[n][5]=t,ue[n]},ge=[];var Oe=function(e,n,t){if("get"!=t.type||"props"==e||~r.d.indexOf(t.name.toString())||void 0!==t.oldValue)"set"==t.type&&"props"!=e&&t.object[t.name]&&t.object[t.name].draw&&"function"==typeof t.object[t.name].draw&&(ce.innerMods[ce.getId(n)]=[t.name,t.object[t.name]]);else{var o=s(ce.getId(n));if(t.path&&"/"==t.path[0])var i=function(e,n){var t=e,r=n.split("/"),o=!0,i=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(f){var l=mag._find(t,f);l.length&&(t=l)}}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return t}(o,t.path);i&&"$"!=t.path.split("/").pop()[0]&&(i=i[0]);var a=function(e,n){var t=e.name;if(void 0===e.object[e.name]&&"_"!=t[0]){var o=mag._find(n,t),i="$"===t[0],a=[];return o.length?(o.forEach(function(t){var o;if(t&&t.type&&!~["submit","button"].indexOf(t.type)){if(t.value&&t.value.length>0)if("checkbox"==t.type||"radio"==t.type)if(t.checked&&((o={})._checked=!0),i)o?o._value=t.value:o={_value:t.value};else{var u=n.querySelectorAll("[name="+t.name+"]");if(u.length){var c=!0,f=!1,l=void 0;try{for(var d,s=u[Symbol.iterator]();!(c=(d=s.next()).done);c=!0){var v=d.value;v.checked&&(o?o._value=v.value:o={_value:v.value})}}catch(e){f=!0,l=e}finally{try{c||null==s.return||s.return()}finally{if(f)throw l}}}}else o={_value:t.multiple&&Array.prototype.map.call(t.selectedOptions,function(e){return e.value})||t.value}}else void 0===e.oldValue&&void 0===e.object[e.name]&&t&&!~["submit","button"].indexOf(t.type)&&1==t.childNodes.length&&t.childNodes[0].textContent.trim()&&(o={_text:t.childNodes[0].textContent.trim()});o?a.push(o):t&&!t.hasChildNodes()&&a.push(r.a)}),0===a.length?void 0:i?a:a[0]&&void 0!==a[0]._value?a[0]._value:a[0]&&a[0]._text?a[0]._text:a[0]):r.a}if("_"==t[0]){var u=t.substr(1);if(n.length){for(var c in a=[],n){var f,l=n[c];void 0===(f=l[u])&&(f=l.getAttribute(u)),a.push(f)}return a}return void 0===(f=n[u])&&(f=n.getAttribute(u)),f}}(t,i||o);if(null!==a&&"object"==ae(a)&&t.object&&Object(u.h)(a,t.object[t.name]),a)return ce.cached[n]=0,a}var c=ce.getFrameId(n);"function"==typeof c&&"set"==t.type&&(cancelAnimationFrame(ge[n]),ge[n]=requestAnimationFrame(c))};var Se=ce.iscached=function(e){var n=Object(u.i)([ce.getProps(e),ce.getState(e)]);if(e in ce.cache&&ce.cache[e]==n)return!0;ce.cache[e]=n},je=ce.clear=function(e){~e&&ce.cache[e]&&ce.cache.splice(e,1)};ce.cached=[];var _e,Ne=function(e,n){ce.runningViewInstance=n,ce.cached[n]||(ie(n,ce.getState(n),e),ce.cached[n]=1);try{ce.exists(n)&&ce.getView(n)(ce.getState(n),e)}finally{ce.runningViewInstance=-1}},we=function(e,n){return!(n<0||n!=Pe.getItem(e))||e==pe(n)},ke={},xe=[],Ie=[],Ce=[],Ee=function(e,n){return new Promise(function(t){r.f||r.g[e]&&n?(Ie[e]&&(Ce[e](),cancelAnimationFrame(Ie[e])),Ce[e]=t,Ie[e]=requestAnimationFrame(function(r){Ie[e]=0,n(),t()})):(n&&xe.push(n),_e||(_e=requestAnimationFrame(function(n){return function(e,n,t){var r;_e=0;do{var o=xe.shift();o&&o(),r=performance.now()}while(xe.length&&Ae(r,n));xe.length?Ee(t).then(e):e()}(t,n,e)})))})};function Ae(e,n){return!r.h||e-n<r.h}var Pe={i:[],isItem:function(e){return~Pe.i.indexOf(e)},setItem:function(e){return Pe.i[Pe.i.length]=e},getItem:function(e){return Pe.i.indexOf(e)},getItemVal:function(e){return Pe.i[e]},removeItem:function(e){return Pe.i.splice(Pe.i.indexOf(e),1)}};ke.items=Pe,ke.getItemInstanceIdAll=function(){return Pe.i};var Te=function(e){return Pe.isItem(e)?Pe.getItem(e):(Pe.setItem(e),Pe.getItem(e))},Me={values:[],attributes:[],elementMatcher:[]},Le=function(e,n,t,r,o,i){e[t][r].key==n&&(i={v:o.value,k:o.key},o.change=!1,e[t][r].handler.call(e[t][r].context,o),i!=={v:o.value,k:o.key}&&(o.change=!0))},Ve=function(e,n,t){for(var r=0,o=Me[e].length;r<o;r++)Le(Me,n,e,r,t)},He=x(),Fe=T();function qe(e,n,t){var r=function(e){var n=[];if(e){var t=e.childNodes;if(t)for(var r=0;r<t.length;r+=1)1===t[r].nodeType&&Re(t[r])&&n.push(t[r])}return n}(e),o=[],i=n,a="$"===n[0];"$"===i[0]&&(i=i.substr(1));for(var u=0;u<r.length;u+=1)De(r[u],i)&&o.push(r[u]);if(!o.length||a)for(u=0;u<r.length&&(!(o=o.concat(qe(r[u],n,!0))).length||a);u++);if(!t&&!o.length&&He){var c={key:n,value:o,node:e};He("elementMatcher",n,c),c.change&&(o=c.value)}return o}function Re(e){return A()&&e.id&&e.id!=A()&&Fe&&Fe.isItem(e.id)?0:1}function De(e,n){var t=" "+e.className+" ";return e.id===n||~t.indexOf(" "+n+" ")||e.name===n||e.nodeName.toLowerCase()===n.toLowerCase()||e.getAttribute("data-bind")===n}var Be=I,Je=[];function $e(e,n,t){(n?qe(e,n):W(e.childNodes.length?e.childNodes:e)).forEach(function(e){var n=F(e);if(n in Je){if(!t)for(var r in Je[n])e.appendChild(Je[n][r]);delete Je[n]}})}function Ke(e,n){var t=0,r=function(e){if(1==++t)for(;e.lastChild;)J(e.lastChild)};(n?qe(e,n):W(e)).forEach(function(e){var n=F(e);e.childNodes.length&&(Je[n]=W(e.childNodes));for(var t in Je[n]){var o=Je[n][t];Be(o,function(){r(e)},1)}r(e)})}var Ue=T(),Ye=L(),We=M(),Ge=p;function Xe(e,n){if(!R(e,n.outerHTML)&&(!n.id&&!e.childNodes[0]||n.id&&!r.c.getElementById(n.id)||e.firstChild&&!e.firstChild.isEqualNode(n))){var t;if(Ue&&(t=Ue.getItem(n.id)),Ue&&~t&&e.hasChildNodes()){var o=Ue.getItem(getId()),a=e.cloneNode(1);a[r.a]={childof:o},We&&We.getProps&&(We.getProps(t).children=a),Ye(n,t)}else n[r.a]&&n[r.a].scid&&!r.b[n[r.a].scid]&&((a=e.cloneNode(1))[r.a]={childof:n[r.a].scid},r.b[n[r.a].scid]=a);for(;e.lastChild;)J(e.lastChild);if(n[r.a]&&void 0!==n[r.a].childof){e.innerHTML=n.innerHTML;var u=n[r.a].childof;!r.b[u]&&Ge&&(Ge(e,u),i("willupdate",u,function(){Ge(e,u)}))}else e.appendChild(n)}}var ze=L(),Qe=T(),Ze=M();function en(e,n){return function(e,n,t){var o,i=D(n),a=(o=i)&&~o.indexOf("id(")&&o.split('id("')[1].split('")')[0];a||(a=function e(n,t){if(n[r.a]&&n[r.a].scid&&!n[r.a].pscid)t=n;else if(t)return t;if(n.parentNode)return e(n.parentNode,t)}(n));var u=A();P(a);var c=function e(n){return n&&n[r.a]&&n[r.a].isItem?n:n.parentNode?e(n.parentNode):void 0}(n),f=c&&B(c),l=$(f),d=$(i=i),s={path:f,node:c,data:((c||{})[r.a]||[]).dataPass,index:l};P(u);var v=r.c.getElementById(a),p=Qe&&Qe.getItem(a),y=e.call(~p&&Ze?Ze.getMod(p):v,t,d,n,s);if(a&&v){var h=function(){ze(v,p,1)};y&&y.then?y.then(function(e){return h(),e}):h()}return y}.bind({},n,e)}function nn(e,n,t,o){var i=n.substr(2).toLowerCase(),a=(Object(u.g)(o)?o.split("/")[0]:"")+"-"+t[r.a].uid,c=t[r.a].events=t[r.a].events||[],f=t[r.a].eventHandlers=t[r.a].eventHandlers||[];f[i]=f[i]||[],f[i][a]=e,c[i]||(c[i]=1,function(e,n){function t(t){var o=e[r.a].eventHandlers[n];for(var i in o){var a=o[i];!1===en(e,a)(t)&&t.preventDefault()}}e.removeEventListener(n,t),e.addEventListener(n,t)}(t,i))}var tn=x();function rn(e,n,t,o){var i=$(t);for(var a in j[F(e)]=j[F(e)]||[],n)if("text"!==a&&"html"!==a)if(0==a.indexOf("on"))nn(n[a],a,e,o);else{if("config"==a){i=$(t=q(e));var c=!0;j[t+"-config"]?c=!1:j[t+"-config"]={};var f=j[t+"-config"].configContext=j[t+"-config"].configContext||{};configs[t]=function(e,n){return function(){return e.apply(e,n)}}(n[a],[e,c,f,i]);continue}if(tn){var l={key:a,value:n[a],node:e};tn("attributes",a,l),l.change&&(n[a=l.key]=l.value)}if(j[F(e)]&&j[F(e)][a]==n[a])continue;null===n[a]?e.removeAttribute(a):"value"==a&&e.multiple&&e.selectedOptions&&Object(u.c)(n[a])?(e.value=n[a],n[a].forEach(function(n){Array.from(e.options).find(function(e){return e.value==n}).selected=!0})):a in e?"style"==a?e[a].cssText=n[a]:e[a]=n[a]:e.setAttribute(a,String(n[a])),j[F(e)][a]=n[a]}!function(e,n){if(e&&null!=n&&!R(e,n)){var t=String(n);if("INPUT"===e.nodeName)if(~["radio","checkbox"].indexOf(e.type)){if(e.name){var r=s(A()).querySelectorAll("[name="+e.name+"]");if(r.length>1){var o=!0,i=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(f.value==t){f.checked=!0;break}}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}}}else t!=e.value&&(e.value=t);else"SELECT"!==e.nodeName&&(e.firstChild?e.firstChild.textContent=t:e.appendChild(e.ownerDocument.createTextNode(t)));"SELECT"===e.nodeName&&t&&(e.value=t)}}(e,n.text),function(e,n){if(Object(u.c)(n))for(var t in n)Y(e,n[t],t);else if(!Object(u.e)(n)||R(e,n))e&&null!=n&&!R(e,n)&&(e.innerHTML=n);else{if(n[r.a]&&n[r.a].scid&&!r.b[n[r.a].scid]){var o=e.cloneNode(1);o[r.a]={childof:n[r.a].scid},r.b[n[r.a].scid]=o}Y(e,n,0)}}(e,n.html)}var on=x();var an=function(e){var n=r.c.createElement("template");return n.innerHTML=e,n.content.children[0]};function un(e){if(Object(u.g)(e)&&"<"==e.trim()[0])return an(e)}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fn=M(),ln=function(e,n,t,o){var i=e((t=function(e){var n=[];return e.replace(/\[(.+?)\]/g,function(e,t){n.push(t)}),n}(o=q(n))).join("."),o);if(!i||!Object(u.e)(i))return dn(n,i,o);Xe(n,i),n[r.a]=n[r.a]||{},n[r.a].isItem=!0,n[r.a].dataPass={index:t},e.draw&&e.draw()};function dn(e,n,t,o){var i,a=fn&&fn.innerMods,c=$(t),f=un(n);if(f&&(n=f),n&&Object(u.e)(n))Xe(e,n);else{if("function"==typeof n)return ln(n,e,c,t);if("object"!==cn(n))return dn(e,{_text:n},t);a&&a[A()]&&n[a[A()][0]]&&!n[a[A()][0]].draw&&a[A()][1].destroy(),(i=function(e,n){var t;for(var o in n){var i=n[o];void 0===i?i="":null===i&&-1===["onunload"].indexOf(o)?(e[r.a].detached=e[r.a].detached||[],e[r.a].detached[o]=1,Ke(e,o)):e[r.a].detached&&e[r.a].detached[o]&&($e(e,o,i.nodeType),e[r.a].detached[o]=0),("_"===o[0]&&"_"!==o[1]||"on"==o.substr(0,2))&&(t=t||{},"on"==o.substr(0,2)?t[o]=i:t[o.substr(1)]=i)}return t}(e,n))&&rn(e,i,t,o),function(e,n,t){var o;for(var i in n){var a=n[i];if(!~r.d.indexOf(i)&&"_"!==i[0]&&"on"!=i.substr(0,2)){if(o=qe(e,i),on){var u={key:i,value:a,node:e};on("values","*",u),u.change&&(a=u.value)}vn(o,a,t+"/"+i)}}}(e,n,t)}}function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vn=function e(n,t,o){var i,a;if(n){if(null===t&&o)Ke(n,o);else{if(null===t&&!o)return n[r.a].detached=1,Ke(n);n[r.a]&&n[r.a].detached&&!o&&(n[r.a].detached=0,$e(n))}var c=W(n);if(a=Object(u.c)(t)){if(k[o]&&0===c.length&&(k[o].parent.insertAdjacentHTML("beforeend",k[o].node),c=W(k[o].parent.childNodes)),!c.length)return;var f=c[0].parentNode;k[o]||(k[o]={node:c[0].cloneNode(1).outerHTML,parent:f});for(var l=r.c.createDocumentFragment(),d=0;c.length<t.length;)k[o]?(f.insertAdjacentHTML("beforeend",k[o].node),i=f.lastChild):i=c[0].cloneNode(1),U(i,++d,o),c.push(i),l.appendChild(i);f.appendChild(l);var s=t.map(function(e){return e&&e._key});if(c.length!=t.length&&-1===s.indexOf(void 0)||(t=t.map(function(e,n){if("object"===sn(e)){if(c[n][r.a]=c[n][r.a]||{},c[n][r.a].__key&&"undefined"===sn(e._key))return e._key=c[n][r.a].__key,e;"undefined"===sn(e._key)&&(e._key=r.a+n),c[n][r.a].__key=e._key}return e})),c.length>t.length)if(0===t.length||"object"!==sn(t[0]))for(;c.length>t.length;)(f=(i=c.pop()).parentNode)&&J(i);else{var v=[],p=t.map(function(e){return e._key});c=c.filter(function(e,n){var t;return"undefined"==sn(e[r.a])?t=1:~p.indexOf(e[r.a].__key)&&!~v.indexOf(e[r.a].__key)||(v.push(e[r.a].__key),t=1),t?(J(e),!1):(v.push(e[r.a].__key),!0)})}}for(var y=0;y<c.length;y++)if(a)c[y]&&e(c[y],t[y],y);else{var h=U(c[y],y+1,o);t&&"object"==sn(t)&&t.hasOwnProperty("_key")&&!Object(u.e)(t)&&(c[y][r.a].isItem=!0,c[y][r.a].dataPass=t),dn(c[y],t,h,o)}}};E(function e(n){var t=Pe.getItem(n.id);if(n.children)for(var o=0;o<n.children.length;o++)e(n.children[o]);~t?(a("onunload",de(t),n,t),je(t),ve(t),H(pe(t))):n[r.a]&&n[r.a].scid&&a("onunload",{},n,n[r.a].scid)}),C(function(e,n,t){var o;e.id&&Pe.isItem(e.id)&&(o=Pe.getItem(e.id)),!o&&e[r.a]&&e[r.a].scid?a("onunload",{},e,e[r.a].scid):o&&de(o).onbeforeunload?a("onbeforeunload",de(o),e,o,0,function(){o&&a("onunload",de(o),e,o),n()}):(o&&a("onunload",de(o),e,o,1),n())}),g={getMod:be,getProps:se,innerMods:le},O=z,m=Pe,y=Ve,p=function(e,n){var t=A();P(pe(n)),vn(e,de(n)),P(t)};var pn=function(e){return s(Pe.getItemVal(e))},yn=function e(n,t,r){return e._handler(n,t,r)};yn._handler=function(){},yn.rafBounceIds=r.g,yn._cprops=r.b,yn.doc=r.c;var hn=yn,bn=["#KEY",".KEY","KEY"],mn=function(e,n){var t;for(var r in bn){var o=bn[r].replace("KEY",n);if(t=e.querySelector(o))break}return t},gn=function(e){if(Object(u.g)(e)){if(t=un(e))return t;var n=pn(~fe||void 0),t=mn(n||hn.doc,e);if(t)return t}return e},On=0,Sn=function(e){return Object(u.e)(e)&&(e.id||(e.id=++On),r.e[e.id]=e,e=e.id),e},jn=function(e,n){return a("willload",de(e),n,e,1)},_n=function(e,n){if(s(Pe.getItemVal(e))&&ye(e))return a("didload",de(e),n,e,1)},Nn=function(e,n){var t=function(e,n){s(n)?z(s(n),e):Pe.isItem(n)&&mag.clear(e)}.bind({},e,n);he(e,t)},wn=function(e,n,t,r,o){var i=Pe.getItem(n);n=Sn(e);var c=Object(u.i)(se(i));_n(i,e),ye(i)&&a("willgetprops",de(i),e,i,0,t)||(me(e.id,i,r,t),c!=Object(u.i)(se(i))&&(o=1),Nn(i,e.id),jn(i,e)||z(e,i,o).then(function(){_n(i,e)}))};function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var xn=[],In={},Cn=0,En=function(e,n,t,o){xn[e]=xn[e]||[];var i=function(e,n,t,r,o){"object"==kn(o)&&(r=Object(u.h)(Object(u.a)(r),o),o=0),e<0&&!o&&(o=1);var a=n.id+(r.key?"."+r.key+".":"")+(o||"");!In[a]||r.key||~i._id||(a+=++Cn);var c=In[a]=In[a]||n.cloneNode(1);if(c.id=a,Pe.isItem(a))return wn(c,a,r,t),c;var f=Te(c.id);return e<0?e=i._id=f:xn[e].push({instanceId:f,subscribe:subscriberHandler.bind({},f)}),wn(c,a,r,t),c}.bind({},e,n,t,o);return i._id=e,i.clones=function(){return xn[i._id]},i.destroy=function(e){destroyerHandler(i._id,i.clones,e)},i.getId=function(){return i._id},i.rafBounce=function(e){return e?r.g[i._id]=1:!1===e&&(r.g[i._id]=0),!!r.g[i._id]},i.draw=function(e){return hn.redraw(n,i._id,e)},i.getState=function(){return de(i._id)},i.getProps=function(){return se(i._id)},i.subscribe=function(e){return subscriberHandler(i._id,e)},i};C(function(e,n){e[r.a]&&e[r.a].scid?a("onunload",{},e,e[r.a].scid):n()}),E(function e(n){if(n.children)for(var t=0;t<n.children.length;t++)e(n.children[t]);n[r.a]&&n[r.a].scid&&a("onunload",{},n,n[r.a].scid)});var An=function(e){if(Object(u.g)(e)){var n;if(n=un(e))return n;if(n=mn(r.c,e))return n}return e},Pn=t(2);hn._handler=function(e,n,t){return Hn(e,n,t,vn,An)},hn.dom=Pn.a;var Tn=hn;function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ln=0,Vn=function(e,n,t,o){var i,c=[],f=e.cloneNode(1),l=[],d=function d(s){var v,p=e;void 0!==(s=s||{}).key&&(v=s.key+"-"+d.id);var y,h=void 0!==s.key?s.key+"-"+d.id:d.id;if(l[h]||(l[h]="object"==Mn(t)?Object(u.a)(t):t),"object"==Mn(s)&&(s=Object(u.b)(l[h],s)),v&&!c[v]?p=c[v]=f.cloneNode(1):v&&c[v]&&(p=c[v]),void 0!==Mn(d)&&s&&s.key&&d.key&&d.key!=h&&a("onunload",s,p,d.key),i&&i==p[r.a].scid)throw Error("MagJS Error - recursive call:"+i);p[r.a]=p[r.a]||{},Tn._cprops[h]&&"object"==Mn(s)&&(s.children=r.b[h]),d.props=s,d.key=h,d.fake=o;try{var b=Tn._current;Tn._current=d,y=n(s),i=p[r.a].scid=h;var m=A();m&&m[r.a]&&m[r.a].scid&&(p[r.a].pscid=m[r.a].scid),P(p),vn(p,y)}finally{a("didupdate",s,p,h),P(m),i=0,Tn._current=b}return p};return d.id=++Ln,d.element=f,d},Hn=function(e,n,t,o,i,a){if(e=i(e),n=i(n),t=t||{},Object(u.e)(n)&&Object(u.e)(e))n[r.a]||o(n,e);else{if("function"==typeof n&&Object(u.e)(e)){try{Vn(e.cloneNode(1),n,t,!0)()}catch(e){}return Vn(e,n,t)}if(a)return a(e,n,t)}};hn._handler=function(e,n,t){return Hn(e,n,t,vn,gn,function(e,n,t){return En(-1,s(Sn(e)),n,t)})};var Fn=hn;Fn.hook=Ve,Fn.hookin=function(e,n,t){Me[e].push({context:{},handler:t,key:n})},Fn.redraw=z,Fn.begin=function(e){void 0===X[e]?X[e]=1:X[e]++},Fn.end=function(e){if(X[e]>1)X[e]--;else{X[e]=0;var n=Pe.getItemVal(e);z(s(n),e)}};Fn.module=function(e,n,t){t=t||{};var r=function(e,n){var t=n?e+"-"+n:e;return Pe.isItem(t)?Pe.getItem(t):Te(t)}(e=Sn(e),t.key),o=qn(t,r,n,e);if(o)return En(r,o,n,Object(u.a)(t))};var qn=function(e,n,t,r){e.retain||je(n);var o=s(r);if(me(r,n,t,e),Nn(n,r),!jn(n,o))return z(o,n,1).then(function(){_n(n,o)}),o};Fn.clear=function(e){Pe.removeItem(e),je(e),H(pe(e))};Fn.getNode=s;n.default=Fn}]);