/*
Mag.JS v0.25.9
http://github.com/magnumjs/mag.js
(c) Michael Glazer
License: MIT
*/
!function(a,b,c){"use strict";function t(a,b){if(e[a]&&!b)return e[a];var c=mag.doc.getElementById(a);return c&&(e[a]=c),e[a]}a.mag=function(a,b,c){return s(-1,t(a),b,c||{})},mag.MAGNUM="__magnum__",mag.doc=b;var d={values:[],attributes:[],elementMatcher:[]},e=[],f=function(a){return a instanceof HTMLElement&&(a.id||(a.id=performance.now()),e[a.id]=a,a=a.id),a},g=function(a,b){var c,d=b?a+"-"+b:a;return c=mag.utils.items.isItem(d)?mag.utils.items.getItem(d):mag.utils.getItemInstanceId(d)};mag.module=function(a,b,c){if(c=c||{},a=f(a),!mag.utils.items.isItem(a)||!z(mag.utils.items.getItem(a),t(a))){var d=g(a,c.key),e=h(c,d,b,a);if(e)return s(d,e,b,mag.utils.copy(c))}};var h=function(a,b,c,d){a.retain||mag.mod.clear(b),mag.mod.submodule(d,b,c,a);var e=t(d);if(u(b,d),!mag.utils.callLCEvent("willload",mag.mod.getState(b),e,b,1))return mag.redraw(e,b,1),mag.utils.callLCEvent("didload",mag.mod.getState(b),e,b,1),e},i=function(a,b){return!(b<0||b!=mag.utils.items.getItem(a))||a==mag.mod.getId(b)},j=[];mag.begin=function(a){"undefined"==typeof j[a]?j[a]=1:j[a]++},mag.end=function(a){if(j[a]>1)j[a]--;else{j[a]=0;var b=mag.utils.items.getItemVal(a);mag.redraw(t(b),a)}};var k=[];mag.redraw=function(a,b,c){if(!j[b]){if(!a||"undefined"==typeof b)throw Error("Mag.JS - Id or node invalid: "+mag.utils.items.getItemVal(b));if(!i(a.id,b))return;c&&mag.fill.configs.splice(0,mag.fill.configs.length),c&&mag.mod.clear(b);var d=v(a,b,c);cancelAnimationFrame(k[b]),k[b]=requestAnimationFrame(d)}},mag.hookin=function(a,b,c){d[a].push({context:{},handler:c,key:b})},mag.hook=function(a,b,c){for(var e=0,f=d[a].length;e<f;e++)mag.utils.callHook(d,b,a,e,c)};var l={},m=[],n=[],o=function(a,b,c){var d=mag.getNode(mag.mod.getId(a)),e=function(){mag.utils.callLCEvent("onunload",mag.mod.getState(a),d,a)||(mag.clear(a),y(a,d),b&&(b(a).length=0),c&&mag.fill.removeNode(d))};mag.mod.getState(a).onbeforeunload?mag.utils.callLCEvent("onbeforeunload",mag.mod.getState(a),d,a,0,function(){e()}):e()},p=function(a,b){n[a]=n[a]||[];var c=n[a].push(b);return mag.utils.onLCEvent("didupdate",a,function(b,c){var d=mag.utils.merge(mag.utils.copy(c),mag.utils.copy(b));if(JSON.stringify(d)!==JSON.stringify(m[a])){for(var e of n[a])e(b,c,t(mag.mod.getId(a)),m[a]);m[a]=d}}),function(){return n[a].splice(c-1,1)}},q=[],r=function(a,b,c,d,e){var f=mag.utils.items.getItem(b);mag.mod.exists(f)&&mag.utils.callLCEvent("willgetprops",mag.mod.getState(f),a,f,0,c)||(mag.mod.submodule(a.id,f,d,c),u(f,a.id),mag.redraw(a,f,e))},s=function(a,b,c,d){q[a]=q[a]||[];var e=function(a,b,c,d,f){"object"==typeof f&&(d=mag.utils.merge(mag.utils.copy(d)||{},f),f=0);var g=b.id+(d.key?"."+d.key:"")+"."+(f||0),h=l[g]=l[g]||b.cloneNode(1);if(h.id=g,mag.utils.items.isItem(g))return r(h,g,d,c,1),h;var i=mag.utils.getItemInstanceId(h.id);return a<0?a=e._id=i:q[a].push({instanceId:i,subscribe:p.bind({},i)}),r(h,g,d,c,1),h}.bind({},a,b,c,d);return e._id=a,e.clones=function(){return q[e._id]},e.destroy=function(a){o(e._id,e.clones,a)},e.getId=function(){return e._id},e.draw=function(a){mag.redraw(b,e._id,a)},e.getState=function(){return mag.mod.getState(e._id)},e.getProps=function(){return mag.mod.getProps(e._id)},e.subscribe=function(a){return p(e._id,a)},e},u=function(a,b){var c=function(a,b){t(b)?mag.redraw(t(b),a):mag.utils.items.isItem(b)&&mag.clear(a)}.bind({},a,b);mag.mod.setFrameId(a,c)};mag.clear=function(a){cancelAnimationFrame(k[a]),mag.utils.items.removeItem(a),mag.mod.clear(a),mag.fill.clearCache(mag.mod.getId(a))};var v=function(a,c,d){return function(a,c,d){if(t(a.id,1),i(a.id,c)&&a){var e=mag.mod.getState(c);if(!mag.utils.callLCEvent("isupdate",e,a,c)){if(mag.mod.iscached(c)&&!d)return 0;if(!mag.utils.callLCEvent("willupdate",e,a,c)){mag.mod.callView(a,c);var f=b.activeElement;mag.fill.setId(a.id),mag.fill.run(a,e),b.activeElement!==f&&f.focus(),w(a.id,mag.fill.configs),mag.utils.callLCEvent("didupdate",e,a,c),d||mag.mod.iscached(c)}}}}.bind({},a,c,d)},w=function(a,b){for(var c in b)c.startsWith('id("'+a+'")/')&&b[c]()},x=function(a,b){var c=[];for(var d in mag.fill.cached)d.indexOf('id("'+a+'")/')>-1&&d.indexOf("-config")>-1&&mag.fill.cached[d].configContext&&c.push({path:d.split("-config")[0],controller:mag.fill.cached[d].configContext,handler:mag.fill.cached[d].configContext.onunload});return c},y=function(a,b){for(var e,c=x(b.id,a),d=0,f=c;e=f&&f[d];d++)e.controller.onunload&&(e.handler.call(e.controller,b,e.path),e.controller.onunload=0)},z=function(a,b){return mag.utils.callLCEvent("onreload",mag.mod.getState(a),b,a)};mag.getNode=t}(window||global||this,document),function(a){"use strict";var b={};b.callHook=function(a,b,c,d,e,f){a[c][d].key==b&&(f={v:e.value,k:e.key},e.change=!1,a[c][d].handler.call(a[c][d].context,e),f!=={v:e.value,k:e.key}&&(e.change=!0))};var c=[];b.onLCEvent=function(a,b,d){var e=a+"-"+b;c[e]=c[e]||[];var f=c[e].push(d);return function(){return c[e].splice(f-1,1)}},b.callLCEvent=function(b,d,e,f,g,h){var i;d&&d[b]&&(i=d[b].call(d,e,a.mod.getProps(f),f,h),g&&(d[b]=0));var j=b+"-"+f;if(c[j])for(var k of c[j])k(a.mod.getState(f),a.mod.getProps(f));if(i===!1)return!0},b.copy=function(a){return Object.assign({},a)},b.merge=function(){return Object.assign.apply({},arguments)};var d={i:[],isItem:function(a){return d.i.indexOf(a)>-1},setItem:function(a){d.i[d.i.length]=a},getItem:function(a){return d.i.indexOf(a)},getItemVal:function(a){return d.i[a]},removeItem:function(a){d.i.splice(d.i.indexOf(a),1)}};b.items=d,b.getItemInstanceIdAll=function(){return d.i},b.getItemInstanceId=function(a){return d.isItem(a)?d.getItem(a):(d.setItem(a),d.getItem(a))},a.utils=b}(mag),function(a){"use strict";function g(b,d){var e=b.name;if("undefined"==typeof b.object[b.name]&&"_"!==e[0]){var f=a.fill.find(d,e),g="$"===e[0],h=[];return f.length?(f.forEach(function(a){var e;if(a&&a.type&&!~["submit","button"].indexOf(a.type)){if(a.value&&a.value.length>0)if("checkbox"==a.type||"radio"==a.type)if(a.checked&&(e={},e._checked=!0),g)e?e._value=a.value:e={_value:a.value};else{var f=d.querySelectorAll("[name="+a.name+"]");if(f.length)for(var i of f)i.checked&&(e?e._value=i.value:e={_value:i.value})}else e={_value:a.value}}else"undefined"==typeof b.oldValue&&"undefined"==typeof b.object[b.name]&&a&&!~["submit","button"].indexOf(a.type)&&1==a.childNodes.length&&a.childNodes[0].textContent.trim()&&(e={_text:a.childNodes[0].textContent.trim()});e?h.push(e):a&&!a.hasChildNodes()&&h.push(c)}),0===h.length?void 0:g?h:h[0]&&"undefined"!=typeof h[0]._value?h[0]._value:h[0]&&h[0]._text?h[0]._text:h[0]):c}}function j(b,c,d){var f;return e.setProps(c,a.proxy(e.getProps(c),i.bind({},"props",c),"prop")),f=new b(a.proxy({},i.bind({},"state",c)))}var b=[],c=a.MAGNUM,e={innerMods:[],cache:[]};e.getState=function(a){return b[a][1]},e.setState=function(a,c){b[a][1]=c},e.getView=function(a){return b[a][0]},e.getProps=function(a){return b[a][2]},e.setProps=function(a,c){return b[a][2]=c},e.remove=function(a){b.splice(a,1)},e.getId=function(a){return b[a]&&b[a][3]},e.exists=function(a){return"undefined"!=typeof b[a]},e.setFrameId=function(a,c){b[a][4]=c},e.getFrameId=function(a){return b[a][4]},e.submodule=function(c,d,f,g){if(b[d])return g.key&&g.key===e.getProps(d).key?e.setProps(d,a.utils.copy(a.utils.merge(e.getProps(d),g))):e.setProps(d,g),b[d];b[d]=[0,0,0,0,0],e.setProps(d,g);var h=function(a){return(f.controller||function(){}).call(a,e.getProps(d))||a},i=function(a,b,c){f.view&&f.view.call(f,b,e.getProps(a),c)}.bind({},d),k={controller:h,view:i};return b[d][0]=k.view,b[d][3]=c,b[d][1]=j(k.controller,d,c),b[d]};var f=[],h=function(b,c){var d=b,e=c.split("/");for(var f of e)if(f){var g=a.fill.find(d,f);g.length&&(d=g[0])}return d},i=function(b,c,d){if("get"!=d.type||"props"==b||~a.fill.ignorekeys.indexOf(d.name.toString())||"undefined"!=typeof d.oldValue)"set"==d.type&&"props"!=b&&d.object[d.name]&&d.object[d.name].draw&&"function"==typeof d.object[d.name].draw&&(e.innerMods[e.getId(c)]=[d.name,d.object[d.name]]);else{var i=a.doc.getElementById(e.getId(c));if(d.path&&"/"==d.path[0])var j=h(i,d.path);var k=g(d,j?j:i);if("undefined"!=typeof k&&"object"==typeof k&&d.object&&a.utils.merge(k,d.object[d.name]),"undefined"!=typeof k)return e.cached[c]=0,k}var l=e.getFrameId(c);"function"==typeof l&&"set"==d.type&&(cancelAnimationFrame(f[c]),f[c]=requestAnimationFrame(l))};e.iscached=function(b){var c=a.utils.merge(a.utils.copy(e.getProps(b)),e.getState(b));return!(!e.cache[b]||e.cache[b]!==JSON.stringify(c))||void(e.cache[b]=JSON.stringify(c))},e.clear=function(a){a>-1&&e.cache[a]&&e.cache.splice(a,1)},e.cached=[],e.callView=function(b,c){e.runningViewInstance=c,e.cached[c]||(a.props.attachToArgs(c,e.getState(c),b),e.cached[c]=1),e.getView(c)(e.getState(c),b)},a.mod=e}(mag),function(a,b){"use strict";function g(a,b,c,d){var e=[];for(var f in a){var g=a[f];i(g)&&(e.push(g),h(g,b,c,d))}return!!e.length&&(1==e.length?e[0]:e)}function h(b,c,e,f){if(b[d]=b[d]||{},!b[d].eventOnFocus){var g=function(c,e,f,g){var h=~["radio","checkbox"].indexOf(b.type);this[d].dirty||(this[d].dirty=1),h&&("_checked"in e||"_value"in e?e._checked=this.checked:this.checked&&(e[f]=this.value),a.redraw(c,a.utils.items.getItem(c.id),1))}.bind(b,f,c,e);b.addEventListener("click",g,!1),b.addEventListener("change",g,!1),b.addEventListener("focus",g,!1),b[d].eventOnFocus=1}}function i(a){return a&&~["INPUT","SELECT","TEXTAREA"].indexOf(a.tagName)}function j(a){for(var b in a)if(i(a[b]))return a[b];return!1}var c={},d=a.MAGNUM,e=function(b,c){for(var d=1;d<b.length;d++){var e=b[d],f=b[d+1],g=a.fill.find(Array.isArray(c)?c[0]:c,e);f&&!isNaN(Number(f))?c=g[f]:g&&g.length&&f?c=a.fill.find(g[0],f):g&&g.length&&(c=g)}return Array.isArray(c)?c[0]:c},f=function(b,c,d,f){var i,h=d.toString().split(".");if(h.length>=3)f=e(h,f),i=a.fill.find(f,c);else{var j=parseInt(h.pop()),k=isNaN(j)?0:j;i=a.fill.find(f[k]?f[k]:f,c)}return g(i,b,c,f)},k=function(b,c,e,g){var h=e[c];~["_value","_checked"].indexOf(c)&&(c=b.split(".").pop());var i=a.fill.find(g,c),k=j(i);if("function"!=typeof h&&k){var l=f.bind({},e,c,b,g);l(),Object.defineProperty(e,c,{configurable:!0,get:function(){var c=l();return c&&"undefined"!==c.value&&c[d]&&c[d].dirty&&c.value!==h?(h=c.value,a.redraw(g,b,1),c.value):h},set:function(a){var b=l();b&&"undefined"!==b.value&&b.value!==a&&a!==h&&(b.value=a,h=a)}})}},l=function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];"object"!=typeof e||e instanceof HTMLElement?k.bind({},a,d,b,c)():l(a+"."+d,e,c)}};c.attachToArgs=l,a.props=c}(mag),function(a,b,c){"use strict";function n(a){return Array.isArray(a)}function o(a,b){return a[g]=a[g]||{},a[g].uid&&!b||(a[g].uid=performance.now()),a[g].uid}function p(a,b){var c=o(a,b);return k[c]?k[c]:k[c]=s(a)}function q(a,b,c){var e=o(a,c);return l[d.id]=l[d.id]||[],l[d.id][e]&&l[d.id][e]==b?1:void(l[d.id][e]=b)}function r(a){return a.id?a:a.parentNode?r(a.parentNode):void 0}function s(a){var b="",c=r(a),d=a.parentNode&&[].indexOf.call(a.parentNode.children,a);return c&&(b+='id("'+c.id+'")'),b+="/"+a.tagName+"["+(d+1)+"]"}function t(b){if(b.id&&d.id===b.id)return'id("'+b.id+'")';if(b===a.doc.body)return b.tagName;var c=0;if(b.parentNode)for(var e=b.parentNode.childNodes,f=0;f<e.length;f++){var g=e[f];if(g===b)return t(b.parentNode)+(b.tagName?"/"+b.tagName+"["+(c+1)+"]":"");1===g.nodeType&&g.tagName===b.tagName&&c++}}function u(b){var c=t(b);b&&f[c+"-config"]&&f[c+"-config"].configContext&&typeof f[c+"-config"].configContext.onunload===h&&(f[c+"-config"].configContext.onunload(f[c+"-config"].configContext,b,c),delete f[c+"-config"],delete a.fill.configs[c]),b.parentNode.removeChild(b),a.mod.cached[a.utils.items.getItem(d.id)]=0}function v(a){var b=a&&parseInt(a.split("[").pop().slice(0,-1));return b?parseInt(b)-1:0}function w(a){return a&&a.indexOf("id(")>-1&&a.split('id("')[1].split('")')[0]}function x(a,b,d,e,f){var h=d[0].parentNode;for(e[f]||(e[f]={node:d[0].cloneNode(1).outerHTML,parent:h});d.length<b.length;)e[f]?(h.insertAdjacentHTML("beforeend",e[f].node),a=h.lastChild):a=d[0].cloneNode(1),d.push(a),h&&h.appendChild(a);var k=b.map(function(a){return a&&a[j]});if(d.length!=b.length&&k.indexOf(c)===-1||(b=b.map(function(a,b){if("object"==typeof a){if(d[b][g]=d[b][g]||{},d[b][g].__key&&typeof a[j]===i)return a[j]=d[b][g].__key,a;typeof a[j]===i&&(a[j]=g+b),d[b][g].__key=a[j]}return a})),d.length>b.length)if(0===b.length||"object"!=typeof b[0])for(;d.length>b.length;)a=d.pop(),h=a.parentNode,h&&u(a);else{var l=[],m=b.map(function(a){return a[j]});d=d.filter(function(a,b){return m.indexOf(a[g].__key)===-1||l.indexOf(a[g].__key)!==-1?(l.push(a[g].__key),u(a),!1):(l.push(a[g].__key),!0)})}}function y(a,b,e){for(var f=0;f<b.length;f++)if(e)b[f]&&d.run(b[f],a[f]);else{var h=p(b[f]);a&&"object"==typeof a&&(b[f][g]=b[f][g]||{},a[j]!==c&&(b[f][g].isChildOfArray=!0,b[f][g].dataPass=a),b[f][g].xpath=h),E(b[f],a,h)}}function z(a){return a&&a[g]&&a[g].isChildOfArray?a:a.parentNode?z(a.parentNode):void 0}function A(b,c,d){if(!q(b,c.outerHTML,d)&&!a.doc.getElementById(c.id)){for(;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(c)}}function B(a,b){var d;for(var e in b){var f=b[e];f===c?f="":null===f&&["onunload"].indexOf(e)===-1?(a[g].detached=a[g].detached||[],a[g].detached[e]=1,H(a,e)):a[g].detached&&a[g].detached[e]&&(G(a,e),a[g].detached[e]=0),"_"===e[0]&&"_"!==e[1]&&(d=d||{},d[e.substr(1)]=f)}return d}function C(b,c,e){var f;for(var g in c){var h=c[g];if(!~d.ignorekeys.indexOf(g)&&"_"!==g[0]){f=N(b,g);var i={key:g,value:h,node:b};a.hook("values","*",i),i.change&&(h=i.value),n(h)&&(f=N(b,"$"+g)),d.run(f,h,e+"/"+g)}}}function E(b,c,f){var g,k=v(f);return c&&c.nodeType==e?void A(b,c):"function"==typeof c?D(c,b,k,f):"object"!=typeof c?E(b,{_text:c},f):(a.mod.innerMods[d.id]&&c[a.mod.innerMods[d.id][0]]&&!c[a.mod.innerMods[d.id][0]].draw&&a.mod.innerMods[d.id][1].destroy(),g=B(b,c),g&&K(b,g,f),void C(b,c,f))}function G(a,b){var c=N(a,b);c.forEach(function(a){var b=o(a);if(F[b]){for(var c in F[b])a.appendChild(F[b][c]);delete F[b]}})}function H(b,c){var d=0,e=1,f=function(a){if(++d===e)for(;a.lastChild;)u(a.lastChild)},g=function(b,c){var d;b.id&&a.utils.items.isItem(b.id)&&(d=a.utils.items.getItem(b.id)),d&&a.mod.getState(d).onbeforeunload?(e++,a.utils.callLCEvent("onbeforeunload",a.mod.getState(d),b,d,0,function(){d&&a.utils.callLCEvent("onunload",a.mod.getState(d),b,d),c()})):(d&&a.utils.callLCEvent("onunload",a.mod.getState(d),b,d),c())},h=N(b,c);h.forEach(function(a){var b=o(a);a.children.length&&(F[b]=I(a.children));for(var d in F[b]){var e=F[b][d];g(e,function(){f(a)})}f(a)})}function I(a){var b;if(null==a.length&&(a=[a]),!n(a)){b=[];for(var c=0;c<a.length;c+=1)a[c]&&b.push(a[c]);a=b}return a}function J(b,c,d){var e=function(b,c,d){var e=z(c),f=e&&t(e),h=v(f),i=p(c,1),j=v(i),k={path:f,data:((e||{})[g]||[]).dataPass,node:e,index:h},l=w(i),m=a.doc.getElementById(l),n=b.call(c,d,j,c,k);return a.redraw(m,a.utils.items.getItem(l)),n}.bind({},c[d],b);return e}function K(c,d,e){var g=v(e);f[o(c)]=f[o(c)]||[];for(var h in d)if("text"!==h&&"html"!==h)if(0==h.indexOf("on"))c[h.toLowerCase()]=J(c,d,h);else{if("config"==h){var e=t(c),g=v(e),i=!0;f[e+"-config"]?i=!1:f[e+"-config"]={};var j=f[e+"-config"].configContext=f[e+"-config"].configContext||{},k=function(a,b){return function(){return a.apply(a,b)}};b[e]=k(d[h],[c,i,j,g]);continue}var l={key:h,value:d[h],node:c};if(a.hook("attributes",h,l),l.change&&(h=l.key,d[h]=l.value),f[o(c)]&&f[o(c)][h]==d[h])continue;null===d[h]?c.removeAttribute(h):h in c?"style"==h?c[h].cssText=d[h]:c[h]=d[h]:c.setAttribute(h,String(d[h])),f[o(c)][h]=d[h]}L(c,d.text),M(c,d.html)}function L(b,c){if(b&&null!=c&&!q(b,c)){var e=String(c);if("INPUT"===b.nodeName)if(~["radio","checkbox"].indexOf(b.type)){if(b.name){var f=a.getNode(d.id).querySelectorAll("[name="+b.name+"]");if(f.length>1)for(var g of f)if(g.value==e){g.checked=!0;break}}}else{var h=b.selectionStart;b.value=e,b.selectionEnd=h}else"SELECT"!==b.nodeName&&(b.firstChild?b.firstChild.textContent=e:b.appendChild(b.ownerDocument.createTextNode(e)));"SELECT"===b.nodeName&&e&&(b.value=e)}}function M(a,b){a&&null!=b&&!q(a,b)&&(a.innerHTML=b)}function N(b,c,d){var e=O(b),f=[],g=c,h="$"===c[0];"$"===g[0]&&(g=g.substr(1));for(var i=0;i<e.length;i+=1)P(e[i],g)&&f.push(e[i]);if(!f.length||h)for(var i=0;i<e.length&&(f=f.concat(N(e[i],c,!0)),!f.length||h);i++);if(!d&&!f.length){var j={key:c,value:f,node:b};a.hook("elementMatcher",c,j),j.change&&(f=j.value)}return f}function O(a){var b=[];if(a){var c=a.childNodes;if(c)for(var d=0;d<c.length;d+=1)c[d].nodeType===e&&b.push(c[d])}return b}function P(a,b){var c=" "+a.className+" ";return a.id===b||c.indexOf(" "+b+" ")>-1||a.name===b||a.nodeName.toLowerCase()===b.toLowerCase()||a.getAttribute("data-bind")===b}var d={cached:[],ignorekeys:["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","onreload","willupdate","didupdate","didload","willload","isupdate"]},e=1,f=d.cached,g=a.MAGNUM,h="function",i="undefined",j="_key",k=[],l=[],m={};d.run=function(a,b,c){var d,e;if(a){null==b&&(b={_text:""});var f=I(a);if(e=n(b)){if(m[c]&&0===f.length&&(m[c].parent.insertAdjacentHTML("beforeend",m[c].node),f=I(m[c].parent.children)),!f.length)return;x(d,b,f,m,c)}y(b,f,e)}};var D=function(b,c,d,f){if(b[a.MAGNUM])return b(c);var h=z(c.parentNode),i=h&&h.getAttribute("key");h&&i&&(d=+i.split(g)[1]);var j=b(d);if(j&&j.nodeType&&j.nodeType==e)return A(c,j),c[g]=c[g]||{},c[g].isChildOfArray=!0,c[g].dataPass={index:d},void b.draw();var k=/<[a-z][\s\S]*>/i.test(j)?"_html":"_text",l={};return l[k]=j,E(c,l,f)},F=[];d.removeNode=u,d.configs=b,d.find=N,d.setId=function(a){d.id=a},d.clearCache=function(a){l[a]&&delete l[a]},a.fill=d}(mag,[]),function(a,b){function d(b,d,e,f){function h(a){return g.has(a)}var g=new WeakSet;return new Proxy(b,{get:function(b,i,j){var k=b[i];if("symbol"==typeof i)return k;if("object"!=typeof k||"symbol"==typeof k||null===k||"function"==typeof k||Array.isArray(k)||"[object Object]"!=k.toString()||k.then||k.draw)i in b||~a.fill.ignorekeys.indexOf(i.toString())||e||"_"==i[0]||(k=a.proxy({},d,e,f+c+i));else if(!h(k))return g.add(k),a.proxy(k,d,e,f+c+i);var l=d({type:"get",object:b,name:i,path:f,oldValue:Reflect.get(b,i,j)});return"undefined"!=typeof l&&(k=l==a.MAGNUM?void 0:l),k},deleteProperty:function(a,b){return d({type:"delete",name:b,object:a,oldValue:Reflect.get(a,b)}),Reflect.deleteProperty(a,b)},set:function(a,b,c,e){var f=Reflect.get(a,b,e);return f===c&&"length"!==b||(d({type:"set",name:b,object:a,oldValue:f}),Reflect.set(a,b,c,e))}})}var c="/";a.proxy=function(b,e,f,g){for(var h in b){var i=typeof b[h];Array.isArray(b[h])&&b[h].length<101?b[h]=d(b[h],e):"object"==i&&null!==b[h]&&"symbol"!=typeof h&&"symbol"!=i&&"symbol"!=typeof h&&"function"!=i&&"[object Object]"==b[h].toString()&&(b[h]=a.proxy(b[h],e,f,g+c+h))}return d(b,e,f,g||c)}}(mag,window||global||this);
