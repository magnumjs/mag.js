/*
Mag.JS v0.24.9
http://github.com/magnumjs/mag.js
(c) Michael Glazer
License: MIT
*/
!function(a,b,c){"use strict";function o(a,b){if(e[a]&&!b)return e[a];var c=mag.doc.getElementById(a);return c&&(e[a]=c),e[a]}a.mag={MAGNUM:"__magnum__"},mag.doc=b;var d={values:[],attributes:[],elementMatcher:[]},e=[];mag.create=function(a,b,c){return function(d,e){return"string"!=typeof d&&(e=d,d=0),mag.module(d||a,b,mag.utils.merge(c||{},e||{}))}},mag.module=function(a,b,c){if(c=c||{},a instanceof HTMLElement&&(a.id||(a.id=performance.now()),e[a.id]=a,a=a.id),!mag.utils.items.isItem(a)||!u(mag.utils.items.getItem(a),o(a))){var d;d=c.key&&mag.utils.items.isItem(a+"."+c.key)?mag.utils.items.getItem(a+"."+c.key):mag.utils.getItemInstanceId(c.key?a+"."+c.key:a),c.retain||mag.mod.clear(d),mag.mod.submodule(a,d,b,c);var f=o(a);if(p(d,a),!mag.utils.callLCEvent("willload",mag.mod.getState(d),f,d,1))return mag.redraw(f,d,1),mag.utils.callLCEvent("didload",mag.mod.getState(d),f,d,1),n(d,f,b,mag.utils.copy(c))}};var f=function(a,b){return!(b<0||b!=mag.utils.items.getItem(a))||a==mag.mod.getId(b)},g=[];mag.begin=function(a){"undefined"==typeof g[a]?g[a]=1:g[a]++},mag.end=function(a){if(g[a]>1)g[a]--;else{g[a]=0;var b=mag.utils.items.getItemVal(a);mag.redraw(o(b),a)}};var h=[];mag.redraw=function(a,b,c){if(!g[b]){if(!a||"undefined"==typeof b)throw Error("Mag.JS - Id or node invalid: "+mag.utils.items.getItemVal(b));if(!f(a.id,b))return;c&&mag.fill.configs.splice(0,mag.fill.configs.length),c&&mag.mod.clear(b);var d=q(a,b,c);cancelAnimationFrame(h[b]),h[b]=requestAnimationFrame(d)}},mag.hookin=function(a,b,c){d[a].push({context:{},handler:c,key:b})},mag.hook=function(a,b,c){for(var e=0,f=d[a].length;e<f;e++)mag.utils.callHook(d,b,a,e,c)};var i={},j=[],k=function(a,b){mag.utils.onLCEvent("didupdate",a,function(c,d){var e=mag.utils.merge(mag.utils.copy(d),mag.utils.copy(c));JSON.stringify(e)!==JSON.stringify(j[a])&&(b(c,d,o(mag.mod.getId(a)),j[a]),j[a]=e)})},l=[],m=function(a,b,c,d,e){var f=mag.utils.items.getItem(b);mag.mod.submodule(a.id,f,d,c),mag.utils.callLCEvent("willgetprops",mag.mod.getState(f),a,f,0,c)||(p(f,a.id),mag.redraw(a,f,e))},n=function(a,b,c,d){l[a]=l[a]||[];var e=function(a,b,c,d,e){"object"==typeof e&&(d=mag.utils.merge(mag.utils.copy(d)||{},e),e=0);var f=b.id+(d.key?"."+d.key:"")+"."+(e||0),g=i[f]=i[f]||b.cloneNode(1);if(g.id=f,mag.utils.items.isItem(f))return m(g,f,d,c,1),g;var h=mag.utils.getItemInstanceId(g.id);return l[a].push({instanceId:h,subscribe:k.bind({},h)}),m(g,f,d,c,1),g}.bind({},a,b,c,d);return e.clones=function(a){return l[a]}.bind({},a),e.destroy=function(a,b){var c=mag.getNode(mag.mod.getId(a)),d=function(){mag.utils.callLCEvent("onunload",mag.mod.getState(a),c,a)||(mag.clear(a),t(a,c),e.clones(a).length=0,b&&mag.fill.removeNode(c))};mag.mod.getState(a).onbeforeunload?mag.utils.callLCEvent("onbeforeunload",mag.mod.getState(a),c,a,0,function(){d()}):d()}.bind({},a),e.getId=function(a){return a}.bind({},a),e.draw=function(a,b,c){mag.redraw(a,b,c)}.bind({},b,a),e.getState=function(a,b){return mag.mod.getState(b||a)}.bind({},a),e.getProps=function(a,b){return mag.mod.getProps(b||a)}.bind({},a),e.subscribe=k.bind({},a),e},p=function(a,b){var c=function(a,b){o(b)?mag.redraw(o(b),a):mag.utils.items.isItem(b)&&mag.clear(a)}.bind({},a,b);mag.mod.setFrameId(a,c)};mag.clear=function(a){cancelAnimationFrame(h[a]),mag.utils.items.removeItem(a),mag.mod.clear(a),mag.fill.clearCache(mag.mod.getId(a))};var q=function(a,c,d){return function(a,c,d){if(o(a.id,1),f(a.id,c)&&a){var e=mag.mod.getState(c);if(!mag.utils.callLCEvent("isupdate",e,a,c)){if(mag.mod.iscached(c)&&!d)return 0;if(!mag.utils.callLCEvent("willupdate",e,a,c)){mag.mod.callView(a,c);var g=b.activeElement;mag.fill.setId(a.id),mag.fill.run(a,e),b.activeElement!==g&&g.focus(),r(a.id,mag.fill.configs),mag.utils.callLCEvent("didupdate",e,a,c),d||mag.mod.iscached(c)}}}}.bind({},a,c,d)},r=function(a,b){for(var c in b)c.startsWith('id("'+a+'")/')&&b[c]()},s=function(a,b){var c=[];for(var d in mag.fill.cached)d.indexOf('id("'+a+'")/')>-1&&d.indexOf("-config")>-1&&mag.fill.cached[d].configContext&&c.push({path:d.split("-config")[0],controller:mag.fill.cached[d].configContext,handler:mag.fill.cached[d].configContext.onunload});return c},t=function(a,b){for(var e,c=s(b.id,a),d=0,f=c;e=f&&f[d];d++)e.controller.onunload&&(e.handler.call(e.controller,b,e.path),e.controller.onunload=0)},u=function(a,b){return mag.utils.callLCEvent("onreload",mag.mod.getState(a),b,a)};mag.getNode=o}(window||global||this,document),function(a){"use strict";var b={};b.callHook=function(a,b,c,d,e,f){a[c][d].key==b&&(f={v:e.value,k:e.key},e.change=!1,a[c][d].handler.call(a[c][d].context,e),f!=={v:e.value,k:e.key}&&(e.change=!0))};var c=[];b.onLCEvent=function(a,b,d){c[a+"-"+b]=d},b.callLCEvent=function(b,d,e,f,g,h){var i=!1,j={preventDefault:function(){i=!0}};return d&&d[b]&&(d[b].call(d,j,e,a.mod.getProps(f),f,h),g&&(d[b]=0)),c[b+"-"+f]&&c[b+"-"+f](a.mod.getState(f),a.mod.getProps(f),function(){c[b+"-"+f]=0}),i},b.copy=function(a){return Object.assign({},a)},b.merge=function(){return Object.assign.apply({},arguments)};var d={i:[],isItem:function(a){return d.i.indexOf(a)>-1},setItem:function(a){d.i[d.i.length]=a},getItem:function(a){return d.i.indexOf(a)},getItemVal:function(a){return d.i[a]},removeItem:function(a){d.i.splice(d.i.indexOf(a),1)}};b.items=d,b.getItemInstanceIdAll=function(){return d.i},b.getItemInstanceId=function(a){return d.isItem(a)?d.getItem(a):(d.setItem(a),d.getItem(a))},a.utils=b}(mag),function(a){"use strict";function g(b,c){var d=b.name;if("undefined"==typeof b.object[b.name]&&"_"!==d[0]){var e=a.fill.find(c,d),f="$"===d[0],g=[];return e.forEach(function(a){var d;if(a&&a.type&&!~["submit","button"].indexOf(a.type)){if(a.value&&a.value.length>0)if("checkbox"==a.type||"radio"==a.type)if(a.checked&&(d={},d._checked=!0),f)d?d._value=a.value:d={_value:a.value};else{var e=c.querySelectorAll("[name="+a.name+"]");if(e.length)for(var h of e)h.checked&&(d?d._value=h.value:d={_value:h.value})}else d={_value:a.value}}else"undefined"==typeof b.oldValue&&"undefined"==typeof b.object[b.name]&&a&&!~["submit","button"].indexOf(a.type)&&1==a.childNodes.length&&a.childNodes[0].textContent.trim()&&(d={_text:a.childNodes[0].textContent.trim()});d&&g.push(d)}),0===g.length?void 0:f?g:g[0]&&"undefined"!=typeof g[0]._value?g[0]._value:g[0]&&g[0]._text?g[0]._text:g[0]}}function j(b,c,d){var f;return e.setProps(c,a.proxy(e.getProps(c),i.bind({},"props",c),"prop")),f=new b(a.proxy({},i.bind({},"state",c)))}var b=[],e=(a.MAGNUM,{innerMods:[],cache:[]});e.getState=function(a){return b[a][1]},e.setState=function(a,c){b[a][1]=c},e.getView=function(a){return b[a][0]},e.getProps=function(a){return b[a][2]},e.setProps=function(a,c){return b[a][2]=c},e.remove=function(a){b.splice(a,1)},e.getId=function(a){return b[a]&&b[a][3]},e.exists=function(a){return"undefined"!=typeof b[a]},e.setFrameId=function(a,c){b[a][4]=c},e.getFrameId=function(a){return b[a][4]},e.submodule=function(c,d,f,g){if(b[d])return g.key&&g.key===e.getProps(d).key?e.setProps(d,a.utils.copy(a.utils.merge(e.getProps(d),g))):e.setProps(d,g),b[d];b[d]=[0,0,0,0,0],e.setProps(d,g);var h=function(a){return(f.controller||function(){}).call(a,e.getProps(d))||a},i=function(a,b,c){f.view&&f.view.call(f,b,e.getProps(a),c)}.bind({},d),k={controller:h,view:i};return b[d][0]=k.view,b[d][3]=c,b[d][1]=j(k.controller,d,c),b[d]};var f=[],h=function(b,c){var d=b,e=c.split("/");for(var f of e)if(f){var g=a.fill.find(d,f);g.length&&(d=g[0])}return d},i=function(b,c,d){if("get"!=d.type||"props"==b||~a.fill.ignorekeys.indexOf(d.name.toString())||"undefined"!=typeof d.oldValue)"set"==d.type&&"props"!=b&&d.object[d.name]&&d.object[d.name].draw&&"function"==typeof d.object[d.name].draw&&(e.innerMods[e.getId(c)]=[d.name,d.object[d.name]]);else{var i=a.doc.getElementById(e.getId(c));if(d.path&&"/"==d.path[0])var j=h(i,d.path);var k=g(d,j?j:i);if("undefined"!=typeof k&&"object"==typeof k&&d.object&&a.utils.merge(k,d.object[d.name]),"undefined"!=typeof k)return e.cached[c]=0,k}var l=e.getFrameId(c);"function"==typeof l&&"set"==d.type&&(cancelAnimationFrame(f[c]),f[c]=requestAnimationFrame(l))};e.iscached=function(b){var c=a.utils.merge(a.utils.copy(e.getProps(b)),e.getState(b));return!(!e.cache[b]||e.cache[b]!==JSON.stringify(c))||void(e.cache[b]=JSON.stringify(c))},e.clear=function(a){a>-1&&e.cache[a]&&e.cache.splice(a,1)},e.cached=[],e.callView=function(b,c){e.runningViewInstance=c,e.cached[c]||(a.props.attachToArgs(c,e.getState(c),b),e.cached[c]=1),e.getView(c)(e.getState(c),b)},a.mod=e}(mag),function(a,b){"use strict";function g(a,b,c,d){var e=[];for(var f in a){var g=a[f];i(g)&&(e.push(g),h(g,b,c,d))}return!!e.length&&(1==e.length?e[0]:e)}function h(b,c,e,f){if(b[d]=b[d]||{},!b[d].eventOnFocus){var g=function(c,e,f,g){var h=~["radio","checkbox"].indexOf(b.type);this[d].dirty||(this[d].dirty=1),h&&("_checked"in e||"_value"in e?e._checked=this.checked:this.checked&&(e[f]=this.value),a.redraw(c,a.utils.items.getItem(c.id),1))}.bind(b,f,c,e);b.addEventListener("click",g,!1),b.addEventListener("change",g,!1),b.addEventListener("focus",g,!1),b[d].eventOnFocus=1}}function i(a){return a&&~["INPUT","SELECT","TEXTAREA"].indexOf(a.tagName)}function j(a){for(var b in a)if(i(a[b]))return a[b];return!1}var c={},d=a.MAGNUM,e=function(b,c){for(var d=1;d<b.length;d++){var e=b[d],f=b[d+1],g=a.fill.find(Array.isArray(c)?c[0]:c,e);f&&!isNaN(Number(f))?c=g[f]:g&&g.length&&f?c=a.fill.find(g[0],f):g&&g.length&&(c=g)}return Array.isArray(c)?c[0]:c},f=function(b,c,d,f){var i,h=d.toString().split(".");if(h.length>=3)f=e(h,f),i=a.fill.find(f,c);else{var j=parseInt(h.pop()),k=isNaN(j)?0:j;i=a.fill.find(f[k]?f[k]:f,c)}return g(i,b,c,f)},k=function(b,c,e,g){var h=e[c];~["_value","_checked"].indexOf(c)&&(c=b.split(".").pop());var i=a.fill.find(g,c),k=j(i);if("function"!=typeof h&&k){var l=f.bind({},e,c,b,g);l(),Object.defineProperty(e,c,{configurable:!0,get:function(){var c=l();return c&&"undefined"!==c.value&&c[d]&&c[d].dirty&&c.value!==h?(h=c.value,a.redraw(g,b,1),c.value):h},set:function(a){var b=l();b&&"undefined"!==b.value&&b.value!==a&&a!==h&&(b.value=a,h=a)}})}},l=function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];"object"!=typeof e||e instanceof HTMLElement?k.bind({},a,d,b,c)():l(a+"."+d,e,c)}};c.attachToArgs=l,a.props=c}(mag),function(a,b,c){"use strict";function n(a){return Array.isArray&&Array.isArray(a)||"[object Array]"==={}.toString.call(a)}function o(a,b){return a[g]=a[g]||{},a[g].uid&&!b||(a[g].uid=performance.now()),a[g].uid}function p(a,b){var c=o(a,b);return k[c]?k[c]:k[c]=s(a)}function q(a,b,c){var e=o(a,c);return l[d.id]=l[d.id]||[],l[d.id][e]&&l[d.id][e]==b?1:void(l[d.id][e]=b)}function r(a){return a.id?a:a.parentNode?r(a.parentNode):void 0}function s(a){var b="",c=r(a),d=a.parentNode&&[].indexOf.call(a.parentNode.children,a);return c&&(b+='id("'+c.id+'")'),b+="/"+a.tagName+"["+(d+1)+"]"}function t(b){if(b.id&&d.id===b.id)return'id("'+b.id+'")';if(b===a.doc.body)return b.tagName;var c=0;if(b.parentNode)for(var e=b.parentNode.childNodes,f=0;f<e.length;f++){var g=e[f];if(g===b)return t(b.parentNode)+(b.tagName?"/"+b.tagName+"["+(c+1)+"]":"");1===g.nodeType&&g.tagName===b.tagName&&c++}}function u(b){var c=t(b);b&&f[c+"-config"]&&f[c+"-config"].configContext&&typeof f[c+"-config"].configContext.onunload===h&&(f[c+"-config"].configContext.onunload(f[c+"-config"].configContext,b,c),delete f[c+"-config"],delete a.fill.configs[c]),b.parentNode.removeChild(b),a.mod.cached[a.utils.items.getItem(d.id)]=0}function v(a){var b=a&&parseInt(a.split("[").pop().slice(0,-1));return b?parseInt(b)-1:0}function w(a){return a&&a.indexOf("id(")>-1&&a.split('id("')[1].split('")')[0]}function x(a){return a&&a[g]&&a[g].isChildOfArray?a:a.parentNode?x(a.parentNode):void 0}function y(b,c,d){if(!q(b,c.outerHTML,d)&&!a.doc.getElementById(c.id)){for(;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(c)}}function z(b,f,h){var i,l,m=v(h);if(f&&f.nodeType==e)return void y(b,f);if("function"==typeof f){var o=x(b.parentNode),p=o&&o.getAttribute("key");o&&p&&(m=+p.split(g)[1]);var q=f(m);if(q&&q.nodeType&&q.nodeType==e)return y(b,q),b[g]=b[g]||{},b[g].isChildOfArray=!0,b[g].dataPass={index:m},void f.draw();var r=/<[a-z][\s\S]*>/i.test(q)?"_html":"_text",s={};return s[r]=q,z(b,s,h)}if("object"!=typeof f)return z(b,{_text:f},h);a.mod.innerMods[d.id]&&f[a.mod.innerMods[d.id][0]]&&!f[a.mod.innerMods[d.id][0]].draw&&a.mod.innerMods[d.id][1].destroy();for(var p in f){var t=f[p];t===c?t="":null===t&&["onunload"].indexOf(p)===-1?(b[g].detached=b[g].detached||[],b[g].detached[p]=1,C(b,p)):b[g].detached&&b[g].detached[p]&&(B(b,p),b[g].detached[p]=0),"_"===p[0]&&"_"!==p[1]&&(i=i||{},i[p.substr(1)]=t)}i&&F(b,i,h);for(var p in f){var t=f[p];if(!~d.ignorekeys.indexOf(p)&&"_"!==p[0]){l=I(b,p);var u={key:p,value:t,node:b};a.hook("values","*",u),u.change&&(t=u.value),n(t)&&(l=I(b,"$"+p)),d.run(l,t,h+"/"+p)}}}function B(a,b){var c=I(a,b);c.forEach(function(a){var b=o(a);if(A[b]){for(var c in A[b])a.appendChild(A[b][c]);delete A[b]}})}function C(b,c){var d=0,e=1,f=function(a){if(++d===e)for(;a.lastChild;)u(a.lastChild)},g=function(b,c){var d;b.id&&a.utils.items.isItem(b.id)&&(d=a.utils.items.getItem(b.id)),d&&a.mod.getState(d).onbeforeunload?(e++,a.utils.callLCEvent("onbeforeunload",a.mod.getState(d),b,d,0,function(){d&&a.utils.callLCEvent("onunload",a.mod.getState(d),b,d),c()})):(d&&a.utils.callLCEvent("onunload",a.mod.getState(d),b,d),c())},h=I(b,c);h.forEach(function(a){var b=o(a);a.children.length&&(A[b]=D(a.children));for(var d in A[b]){var e=A[b][d];g(e,function(){f(a)})}f(a)})}function D(a){var b;if(null==a.length&&(a=[a]),!n(a)){b=[];for(var c=0;c<a.length;c+=1)a[c]&&b.push(a[c]);a=b}return a}function E(b,c,d){var e=function(b,c,d){var e=x(c),f=e&&t(e),h=v(f),i=p(c,1),j=v(i),k={path:f,data:((e||{})[g]||[]).dataPass,node:e,index:h},l=w(i),m=a.doc.getElementById(l),n=b.call(c,d,j,c,k);return a.redraw(m,a.utils.items.getItem(l)),n}.bind({},c[d],b);return e}function F(c,d,e){var g=v(e);f[o(c)]=f[o(c)]||[];for(var h in d)if("text"!==h&&"html"!==h)if(0==h.indexOf("on"))c[h.toLowerCase()]=E(c,d,h);else{if("config"==h){var e=t(c),g=v(e),i=!0;f[e+"-config"]?i=!1:f[e+"-config"]={};var j=f[e+"-config"].configContext=f[e+"-config"].configContext||{},k=function(a,b){return function(){return a.apply(a,b)}};b[e]=k(d[h],[c,i,j,g]);continue}var l={key:h,value:d[h],node:c};if(a.hook("attributes",h,l),l.change&&(h=l.key,d[h]=l.value),f[o(c)]&&f[o(c)][h]==d[h])continue;null===d[h]?c.removeAttribute(h):h in c?c[h]=d[h]:c.setAttribute(h,String(d[h])),f[o(c)][h]=d[h]}G(c,d.text),H(c,d.html)}function G(b,c){if(b&&null!=c&&!q(b,c)){var e=String(c);if("INPUT"===b.nodeName)if(~["radio","checkbox"].indexOf(b.type)){var f=a.getNode(d.id).querySelectorAll("[name="+b.name+"]");if(f.length>1)for(var g of f)if(g.value==e){g.checked=!0;break}}else b.value=e;else"SELECT"!==b.nodeName&&(b.firstChild?b.firstChild.textContent=e:b.appendChild(b.ownerDocument.createTextNode(e)));"SELECT"===b.nodeName&&e&&(b.value=e)}}function H(a,b){a&&null!=b&&!q(a,b)&&(a.innerHTML=b)}function I(b,c,d){var e=J(b),f=[],g=c,h="$"===c[0];"$"===g[0]&&(g=g.substr(1));for(var i=0;i<e.length;i+=1)K(e[i],g)&&f.push(e[i]);if(!f.length||h)for(var i=0;i<e.length&&(f=f.concat(I(e[i],c,!0)),!f.length||h);i++);if(!d&&!f.length){var j={key:c,value:f,node:b};a.hook("elementMatcher",c,j),j.change&&(f=j.value)}return f}function J(a){var b=[];if(a){var c=a.childNodes;if(c)for(var d=0;d<c.length;d+=1)c[d].nodeType===e&&b.push(c[d])}return b}function K(a,b){var c=" "+a.className+" ";return a.id===b||c.indexOf(" "+b+" ")>-1||a.name===b||a.nodeName.toLowerCase()===b.toLowerCase()||a.getAttribute("data-bind")===b}var d={cached:[],ignorekeys:["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","onreload","willupdate","didupdate","didload","willload","isupdate"]},e=1,f=d.cached,g=a.MAGNUM,h="function",i="undefined",j="_key",k=[],l=[],m={};d.run=function(a,b,e){var f,h,k;if(a){null==b&&(b={_text:""});var l=D(a);if(k=n(b)){if(m[e]&&0===l.length&&(m[e].parent.insertAdjacentHTML("beforeend",m[e].node),l=D(m[e].parent.children)),0===l.length)return;for(h=l[0].parentNode,m[e]||(m[e]={node:l[0].cloneNode(1).outerHTML,parent:h});l.length<b.length;)m[e]?(h.insertAdjacentHTML("beforeend",m[e].node),f=h.lastChild):f=l[0].cloneNode(1),l.push(f),h&&h.appendChild(f);var o=b.map(function(a){return a&&a[j]});if(l.length!=b.length&&o.indexOf(c)===-1||(b=b.map(function(a,b){if("object"==typeof a){if(l[b][g]=l[b][g]||{},l[b][g].__key&&typeof a[j]===i)return a[j]=l[b][g].__key,a;typeof a[j]===i&&(a[j]=g+b),l[b][g].__key=a[j]}return a})),l.length>b.length)if(0===b.length||"object"!=typeof b[0])for(;l.length>b.length;)f=l.pop(),h=f.parentNode,h&&u(f);else{var q=[],r=b.map(function(a){return a[j]});l=l.filter(function(a,b){return r.indexOf(a[g].__key)===-1||q.indexOf(a[g].__key)!==-1?(q.push(a[g].__key),u(a),!1):(q.push(a[g].__key),!0)})}}for(var s=0;s<l.length;s++)if(k)l[s]&&d.run(l[s],b[s]);else{var t=p(l[s]);b&&"object"==typeof b&&(l[s][g]=l[s][g]||{},Object.keys(b).indexOf(j)!==-1&&(l[s][g].isChildOfArray=!0,l[s][g].dataPass=b),l[s][g].xpath=t),z(l[s],b,t)}return a}};var A=[];d.removeNode=u,d.configs=b,d.find=I,d.setId=function(a){d.id=a},d.clearCache=function(a){l[a]&&delete l[a]},a.fill=d}(mag,[]),function(a,b){function c(b,c,d,e){function h(a){return g.has(a)}var f=[],g=new WeakSet;return new Proxy(b,{get:function(b,i){var j=b[i];if("symbol"==typeof i)return j;if("object"!=typeof j||"symbol"==typeof j||null===j||"function"==typeof j||Array.isArray(j)||"[object Object]"!=j.toString()||j.then||j.draw)i in b||~a.fill.ignorekeys.indexOf(i.toString())||d||(j=a.proxy({},c,d,e+"/"+i));else if(!h(j))return g.add(j),a.proxy(j,c,d,e+"/"+i);var k=c({type:"get",object:a.utils.copy(b),name:i,path:e,oldValue:f[i]});return"undefined"!=typeof k&&(j=k),j},deleteProperty:function(a,b){return c({type:"delete",name:b,object:a,oldValue:f[b]}),delete a[b]},set:function(b,d,e){return f[d]===e&&"length"!==d||("length"!==d&&JSON.stringify(e)!==JSON.stringify(b[d])&&(f[d]=a.utils.copy(b[d])),c({type:"set",name:d,object:b,oldValue:f[d]}),b[d]=e,!0)}})}function d(b,d,e,f){for(var g in b){var h=typeof b[g];Array.isArray(b[g])&&b[g].length<101?b[g]=c(b[g],d):"object"==h&&null!==b[g]&&"symbol"!=typeof g&&"symbol"!=h&&"symbol"!=typeof g&&"function"!=h&&"[object Object]"==b[g].toString()&&(b[g]=a.proxy(b[g],d,e,f+"/"+g))}return c(b,d,e,f||"/")}a.proxy=function(a,b,c,e){return d(a,b,c,e)}}(mag,window||global||this);
